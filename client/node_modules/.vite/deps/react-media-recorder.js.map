{
  "version": 3,
  "sources": ["../../fast-unique-numbers/src/factories/add-unique-number.ts", "../../fast-unique-numbers/src/factories/cache.ts", "../../fast-unique-numbers/src/factories/generate-unique-number.ts", "../../fast-unique-numbers/build/es2019/types/add-unique-number-factory.js", "../../fast-unique-numbers/build/es2019/types/add-unique-number-function.js", "../../fast-unique-numbers/build/es2019/types/cache-factory.js", "../../fast-unique-numbers/build/es2019/types/cache-function.js", "../../fast-unique-numbers/build/es2019/types/generate-unique-number-factory.js", "../../fast-unique-numbers/build/es2019/types/generate-unique-number-function.js", "../../fast-unique-numbers/src/types/index.ts", "../../fast-unique-numbers/src/module.ts", "../../broker-factory/src/guards/message-port.ts", "../../broker-factory/src/helpers/port-map.ts", "../../broker-factory/src/helpers/extend-broker-implementation.ts", "../../broker-factory/build/es2019/interfaces/broker-actions.js", "../../broker-factory/build/es2019/interfaces/broker-definition.js", "../../broker-factory/build/es2019/interfaces/default-broker-definition.js", "../../broker-factory/build/es2019/interfaces/worker-event.js", "../../broker-factory/src/interfaces/index.ts", "../../broker-factory/build/es2019/types/broker-implementation.js", "../../broker-factory/src/types/index.ts", "../../broker-factory/src/module.ts", "../../media-encoder-host-broker/build/es2019/interfaces/media-encoder-host-broker-definition.js", "../../media-encoder-host-broker/src/interfaces/index.ts", "../../media-encoder-host-broker/build/es2019/types/media-encoder-host-broker-loader.js", "../../media-encoder-host-broker/build/es2019/types/media-encoder-host-broker-wrapper.js", "../../media-encoder-host-broker/src/types/index.ts", "../../media-encoder-host-broker/src/module.ts", "../../media-encoder-host/src/worker/worker.ts", "../../media-encoder-host/src/module.ts", "../../extendable-media-recorder/src/factories/blob-event-factory.ts", "../../extendable-media-recorder/src/factories/decode-web-m-chunk.ts", "../../extendable-media-recorder/src/factories/event-target-constructor.ts", "../../extendable-media-recorder/src/factories/event-target-factory.ts", "../../extendable-media-recorder/src/factories/invalid-modification-error.ts", "../../extendable-media-recorder/src/factories/invalid-state-error.ts", "../../extendable-media-recorder/src/factories/is-supported-promise.ts", "../../extendable-media-recorder/src/factories/media-recorder-constructor.ts", "../../extendable-media-recorder/src/factories/native-blob-event-constructor.ts", "../../extendable-media-recorder/src/factories/native-media-recorder.ts", "../../extendable-media-recorder/src/factories/native-media-recorder-constructor.ts", "../../extendable-media-recorder/src/factories/not-supported-error.ts", "../../extendable-media-recorder/src/factories/read-element-content.ts", "../../extendable-media-recorder/src/factories/read-element-type.ts", "../../extendable-media-recorder/src/factories/read-variable-size-integer.ts", "../../recorder-audio-worklet/node_modules/fast-unique-numbers/src/factories/add-unique-number.ts", "../../recorder-audio-worklet/node_modules/fast-unique-numbers/src/factories/cache.ts", "../../recorder-audio-worklet/node_modules/fast-unique-numbers/src/factories/generate-unique-number.ts", "../../recorder-audio-worklet/node_modules/fast-unique-numbers/build/es2019/types/add-unique-number-factory.js", "../../recorder-audio-worklet/node_modules/fast-unique-numbers/build/es2019/types/add-unique-number-function.js", "../../recorder-audio-worklet/node_modules/fast-unique-numbers/build/es2019/types/cache-factory.js", "../../recorder-audio-worklet/node_modules/fast-unique-numbers/build/es2019/types/cache-function.js", "../../recorder-audio-worklet/node_modules/fast-unique-numbers/build/es2019/types/generate-unique-number-factory.js", "../../recorder-audio-worklet/node_modules/fast-unique-numbers/build/es2019/types/generate-unique-number-function.js", "../../recorder-audio-worklet/node_modules/fast-unique-numbers/src/types/index.ts", "../../recorder-audio-worklet/node_modules/fast-unique-numbers/src/module.ts", "../../rxjs-interop/source/symbols.ts", "../../rxjs-interop/source/patch.ts", "../../rxjs-interop/source/to-observer.ts", "../../rxjs-interop/dist/esm/types.js", "../../rxjs-interop/source/index.ts", "../../subscribable-things/src/factories/animation-frame.ts", "../../subscribable-things/src/factories/attribute.ts", "../../subscribable-things/src/factories/geolocation.ts", "../../subscribable-things/src/factories/intersections.ts", "../../subscribable-things/src/factories/map-subscribable-thing.ts", "../../subscribable-things/src/factories/media-devices.ts", "../../subscribable-things/src/factories/media-query-match.ts", "../../subscribable-things/src/factories/metrics.ts", "../../subscribable-things/src/factories/midi-inputs.ts", "../../subscribable-things/src/factories/midi-outputs.ts", "../../subscribable-things/src/factories/mutations.ts", "../../subscribable-things/src/factories/on.ts", "../../subscribable-things/src/factories/online.ts", "../../subscribable-things/src/factories/permission-state.ts", "../../subscribable-things/src/factories/prepend-subscribable-thing.ts", "../../subscribable-things/src/factories/reports.ts", "../../subscribable-things/src/factories/resizes.ts", "../../subscribable-things/src/factories/unhandled-rejection.ts", "../../subscribable-things/src/factories/video-frame.ts", "../../subscribable-things/src/factories/wake-lock.ts", "../../subscribable-things/src/factories/window.ts", "../../subscribable-things/src/factories/wrap-subscribe-function.ts", "../../subscribable-things/src/functions/emit-not-supported-error.ts", "../../subscribable-things/build/es2019/interfaces/html-video-element.js", "../../subscribable-things/build/es2019/interfaces/midi-access.js", "../../subscribable-things/build/es2019/interfaces/midi-connection-event.js", "../../subscribable-things/build/es2019/interfaces/midi-input.js", "../../subscribable-things/build/es2019/interfaces/midi-input-event-map.js", "../../subscribable-things/build/es2019/interfaces/midi-message-event.js", "../../subscribable-things/build/es2019/interfaces/midi-output.js", "../../subscribable-things/build/es2019/interfaces/midi-output-event-map.js", "../../subscribable-things/build/es2019/interfaces/midi-port.js", "../../subscribable-things/build/es2019/interfaces/report.js", "../../subscribable-things/build/es2019/interfaces/report-body.js", "../../subscribable-things/build/es2019/interfaces/reporting-observer.js", "../../subscribable-things/build/es2019/interfaces/reporting-observer-options.js", "../../subscribable-things/build/es2019/interfaces/resize-observer.js", "../../subscribable-things/build/es2019/interfaces/resize-observer-entry.js", "../../subscribable-things/build/es2019/interfaces/resize-observer-options.js", "../../subscribable-things/build/es2019/interfaces/resize-observer-size.js", "../../subscribable-things/build/es2019/interfaces/video-frame-metadata.js", "../../subscribable-things/build/es2019/interfaces/wake-lock.js", "../../subscribable-things/build/es2019/interfaces/wake-lock-sentinel.js", "../../subscribable-things/build/es2019/interfaces/wake-lock-sentinel-event-map.js", "../../subscribable-things/src/interfaces/index.ts", "../../subscribable-things/build/es2019/types/animation-frame-factory.js", "../../subscribable-things/build/es2019/types/animation-frame-function.js", "../../subscribable-things/build/es2019/types/emit-not-supported-error-function.js", "../../subscribable-things/build/es2019/types/event-handler.js", "../../subscribable-things/build/es2019/types/event-target-with-property-handler.js", "../../subscribable-things/build/es2019/types/event-type.js", "../../subscribable-things/build/es2019/types/flexible-subscribe-function.js", "../../subscribable-things/build/es2019/types/intersections-factory.js", "../../subscribable-things/build/es2019/types/intersections-function.js", "../../subscribable-things/build/es2019/types/media-devices-factory.js", "../../subscribable-things/build/es2019/types/media-devices-function.js", "../../subscribable-things/build/es2019/types/media-query-match-factory.js", "../../subscribable-things/build/es2019/types/media-query-match-function.js", "../../subscribable-things/build/es2019/types/metrics-factory.js", "../../subscribable-things/build/es2019/types/metrics-function.js", "../../subscribable-things/build/es2019/types/midi-connection-event-handler.js", "../../subscribable-things/build/es2019/types/midi-inputs-factory.js", "../../subscribable-things/build/es2019/types/midi-inputs-function.js", "../../subscribable-things/build/es2019/types/midi-message-event-handler.js", "../../subscribable-things/build/es2019/types/midi-outputs-factory.js", "../../subscribable-things/build/es2019/types/midi-outputs-function.js", "../../subscribable-things/build/es2019/types/midi-port-connection-state.js", "../../subscribable-things/build/es2019/types/midi-port-device-state.js", "../../subscribable-things/build/es2019/types/midi-port-type.js", "../../subscribable-things/build/es2019/types/mutations-factory.js", "../../subscribable-things/build/es2019/types/mutations-function.js", "../../subscribable-things/build/es2019/types/observer-parameters.js", "../../subscribable-things/build/es2019/types/online-factory.js", "../../subscribable-things/build/es2019/types/online-function.js", "../../subscribable-things/build/es2019/types/on-factory.js", "../../subscribable-things/build/es2019/types/on-function.js", "../../subscribable-things/build/es2019/types/optional-unsubscribe-function.js", "../../subscribable-things/build/es2019/types/permission-state-factory.js", "../../subscribable-things/build/es2019/types/permission-state-function.js", "../../subscribable-things/build/es2019/types/release-event-handler.js", "../../subscribable-things/build/es2019/types/reports-factory.js", "../../subscribable-things/build/es2019/types/reports-function.js", "../../subscribable-things/build/es2019/types/resize-observer-box-options.js", "../../subscribable-things/build/es2019/types/resizes-factory.js", "../../subscribable-things/build/es2019/types/resizes-function.js", "../../subscribable-things/build/es2019/types/subscribable-thing.js", "../../subscribable-things/build/es2019/types/subscribe-function.js", "../../subscribable-things/build/es2019/types/unhandled-rejection-factory.js", "../../subscribable-things/build/es2019/types/unhandled-rejection-function.js", "../../subscribable-things/build/es2019/types/unsubscribe-function.js", "../../subscribable-things/build/es2019/types/video-frame-factory.js", "../../subscribable-things/build/es2019/types/video-frame-function.js", "../../subscribable-things/build/es2019/types/video-frame-request-callback.js", "../../subscribable-things/build/es2019/types/wake-lock-factory.js", "../../subscribable-things/build/es2019/types/wake-lock-function.js", "../../subscribable-things/build/es2019/types/wake-lock-type.js", "../../subscribable-things/build/es2019/types/window.js", "../../subscribable-things/build/es2019/types/window-factory.js", "../../subscribable-things/build/es2019/types/wrap-subscribe-function-factory.js", "../../subscribable-things/build/es2019/types/wrap-subscribe-function-function.js", "../../subscribable-things/src/types/index.ts", "../../subscribable-things/src/module.ts", "../../dashify/index.js", "../../indefinite-article/indefinite-article.js", "../../compilerr/build/es2019/interfaces/augmented-error.js", "../../compilerr/build/es2019/interfaces/aws-error.js", "../../compilerr/build/es2019/interfaces/error-template.js", "../../compilerr/build/es2019/interfaces/param-object.js", "../../compilerr/build/es2019/interfaces/variable.js", "../../compilerr/src/interfaces/index.ts", "../../compilerr/build/es2019/types/render-function.js", "../../compilerr/src/types/index.ts", "../../compilerr/src/module.ts", "../../recorder-audio-worklet/node_modules/worker-factory/src/helpers/error-renderers.ts", "../../recorder-audio-worklet/node_modules/worker-factory/src/helpers/create-message-handler.ts", "../../recorder-audio-worklet/node_modules/worker-factory/src/helpers/is-supporting-transferables.ts", "../../recorder-audio-worklet/node_modules/worker-factory/src/helpers/extend-worker-implementation.ts", "../../recorder-audio-worklet/node_modules/worker-factory/build/es2019/interfaces/broker-event.js", "../../recorder-audio-worklet/node_modules/worker-factory/build/es2019/interfaces/broker-message.js", "../../recorder-audio-worklet/node_modules/worker-factory/build/es2019/interfaces/default-worker-definition.js", "../../recorder-audio-worklet/node_modules/worker-factory/build/es2019/interfaces/error.js", "../../recorder-audio-worklet/node_modules/worker-factory/build/es2019/interfaces/error-notification.js", "../../recorder-audio-worklet/node_modules/worker-factory/build/es2019/interfaces/error-response.js", "../../recorder-audio-worklet/node_modules/worker-factory/build/es2019/interfaces/notification.js", "../../recorder-audio-worklet/node_modules/worker-factory/build/es2019/interfaces/receiver.js", "../../recorder-audio-worklet/node_modules/worker-factory/build/es2019/interfaces/request.js", "../../recorder-audio-worklet/node_modules/worker-factory/build/es2019/interfaces/value-array.js", "../../recorder-audio-worklet/node_modules/worker-factory/build/es2019/interfaces/value-map.js", "../../recorder-audio-worklet/node_modules/worker-factory/build/es2019/interfaces/worker-definition.js", "../../recorder-audio-worklet/node_modules/worker-factory/build/es2019/interfaces/worker-error-message.js", "../../recorder-audio-worklet/node_modules/worker-factory/build/es2019/interfaces/worker-result-message.js", "../../recorder-audio-worklet/node_modules/worker-factory/src/interfaces/index.ts", "../../recorder-audio-worklet/node_modules/worker-factory/build/es2019/types/destroy-worker-function.js", "../../recorder-audio-worklet/node_modules/worker-factory/build/es2019/types/message.js", "../../recorder-audio-worklet/node_modules/worker-factory/build/es2019/types/message-receiver.js", "../../recorder-audio-worklet/node_modules/worker-factory/build/es2019/types/message-receiver-with-params.js", "../../recorder-audio-worklet/node_modules/worker-factory/build/es2019/types/message-receiver-without-params.js", "../../recorder-audio-worklet/node_modules/worker-factory/build/es2019/types/typed-array.js", "../../recorder-audio-worklet/node_modules/worker-factory/build/es2019/types/value.js", "../../recorder-audio-worklet/node_modules/worker-factory/build/es2019/types/value-map.js", "../../recorder-audio-worklet/node_modules/worker-factory/build/es2019/types/worker-definition.js", "../../recorder-audio-worklet/node_modules/worker-factory/build/es2019/types/worker-implementation.js", "../../recorder-audio-worklet/node_modules/worker-factory/build/es2019/types/worker-message.js", "../../recorder-audio-worklet/node_modules/worker-factory/src/types/index.ts", "../../recorder-audio-worklet/node_modules/worker-factory/src/module.ts", "../../recorder-audio-worklet/src/factories/add-recorder-audio-worklet-module.ts", "../../recorder-audio-worklet/src/factories/listener.ts", "../../recorder-audio-worklet/src/factories/post-message-factory.ts", "../../recorder-audio-worklet/src/factories/recorder-audio-worklet-node-factory.ts", "../../recorder-audio-worklet/src/functions/validate-state.ts", "../../recorder-audio-worklet/src/worklet/worklet.ts", "../../recorder-audio-worklet/build/es2019/interfaces/native-recorder-audio-worklet-node.js", "../../recorder-audio-worklet/build/es2019/interfaces/recorder-audio-worklet-node.js", "../../recorder-audio-worklet/src/interfaces/index.ts", "../../recorder-audio-worklet/build/es2019/types/any-recorder-audio-worklet-node-options.js", "../../recorder-audio-worklet/build/es2019/types/native-recorder-audio-worklet-node-options.js", "../../recorder-audio-worklet/build/es2019/types/recorder-audio-worklet-node-options.js", "../../recorder-audio-worklet/build/es2019/types/state.js", "../../recorder-audio-worklet/src/types/index.ts", "../../recorder-audio-worklet/src/module.ts", "../../automation-events/src/functions/create-extended-exponential-ramp-to-value-automation-event.ts", "../../automation-events/src/functions/create-extended-linear-ramp-to-value-automation-event.ts", "../../automation-events/src/functions/create-set-value-automation-event.ts", "../../automation-events/src/functions/create-set-value-curve-automation-event.ts", "../../automation-events/src/functions/get-target-value-at-time.ts", "../../automation-events/src/guards/exponential-ramp-to-value-automation-event.ts", "../../automation-events/src/guards/linear-ramp-to-value-automation-event.ts", "../../automation-events/src/guards/any-ramp-to-value-automation-event.ts", "../../automation-events/src/guards/set-value-automation-event.ts", "../../automation-events/src/guards/set-value-curve-automation-event.ts", "../../automation-events/src/functions/get-value-of-automation-event-at-index-at-time.ts", "../../automation-events/src/functions/get-end-time-and-value-of-previous-automation-event.ts", "../../automation-events/src/guards/cancel-and-hold-automation-event.ts", "../../automation-events/src/guards/cancel-scheduled-values-automation-event.ts", "../../automation-events/src/functions/get-event-time.ts", "../../automation-events/src/functions/get-exponential-ramp-value-at-time.ts", "../../automation-events/src/functions/get-linear-ramp-value-at-time.ts", "../../automation-events/src/functions/interpolate-value.ts", "../../automation-events/src/functions/get-value-curve-value-at-time.ts", "../../automation-events/src/guards/set-target-automation-event.ts", "../../automation-events/src/classes/automation-event-list.ts", "../../automation-events/src/functions/create-cancel-and-hold-automation-event.ts", "../../automation-events/src/functions/create-cancel-scheduled-values-automation-event.ts", "../../automation-events/src/functions/create-exponential-ramp-to-value-automation-event.ts", "../../automation-events/src/functions/create-linear-ramp-to-value-automation-event.ts", "../../automation-events/src/functions/create-set-target-automation-event.ts", "../../automation-events/build/es2019/interfaces/cancel-and-hold-automation-event.js", "../../automation-events/build/es2019/interfaces/cancel-scheduled-values-automation-event.js", "../../automation-events/build/es2019/interfaces/exponential-ramp-to-value-automation-event.js", "../../automation-events/build/es2019/interfaces/extended-exponential-ramp-to-value-automation-event.js", "../../automation-events/build/es2019/interfaces/extended-linear-ramp-to-value-automation-event.js", "../../automation-events/build/es2019/interfaces/linear-ramp-to-value-automation-event.js", "../../automation-events/build/es2019/interfaces/set-value-automation-event.js", "../../automation-events/build/es2019/interfaces/set-target-automation-event.js", "../../automation-events/build/es2019/interfaces/set-value-curve-automation-event.js", "../../automation-events/src/interfaces/index.ts", "../../automation-events/build/es2019/types/automation-event.js", "../../automation-events/build/es2019/types/persistent-automation-event.js", "../../automation-events/src/types/index.ts", "../../automation-events/src/module.ts", "../../standardized-audio-context/src/factories/abort-error.ts", "../../standardized-audio-context/src/factories/add-active-input-connection-to-audio-node.ts", "../../standardized-audio-context/src/factories/add-audio-node-connections.ts", "../../standardized-audio-context/src/factories/add-audio-param-connections.ts", "../../standardized-audio-context/src/globals.ts", "../../standardized-audio-context/src/helpers/is-constructible.ts", "../../standardized-audio-context/src/helpers/split-import-statements.ts", "../../standardized-audio-context/src/factories/add-audio-worklet-module.ts", "../../standardized-audio-context/src/helpers/get-value-for-key.ts", "../../standardized-audio-context/src/helpers/pick-element-from-set.ts", "../../standardized-audio-context/src/helpers/delete-passive-input-connection-to-audio-node.ts", "../../standardized-audio-context/src/helpers/get-event-listeners-of-audio-node.ts", "../../standardized-audio-context/src/helpers/set-internal-state-to-active.ts", "../../standardized-audio-context/src/guards/audio-worklet-node.ts", "../../standardized-audio-context/src/helpers/set-internal-state-to-passive.ts", "../../standardized-audio-context/src/helpers/set-internal-state-to-passive-when-necessary.ts", "../../standardized-audio-context/src/factories/add-connection-to-audio-node.ts", "../../standardized-audio-context/src/factories/add-passive-input-connection-to-audio-node.ts", "../../standardized-audio-context/src/factories/add-silent-connection.ts", "../../standardized-audio-context/src/factories/add-unrendered-audio-worklet-node.ts", "../../standardized-audio-context/src/factories/analyser-node-constructor.ts", "../../standardized-audio-context/src/helpers/is-owned-by-context.ts", "../../standardized-audio-context/src/factories/analyser-node-renderer-factory.ts", "../../standardized-audio-context/src/helpers/test-audio-buffer-copy-channel-methods-out-of-bounds-support.ts", "../../standardized-audio-context/src/factories/index-size-error.ts", "../../standardized-audio-context/src/helpers/wrap-audio-buffer-get-channel-data-method.ts", "../../standardized-audio-context/src/factories/audio-buffer-constructor.ts", "../../standardized-audio-context/src/constants.ts", "../../standardized-audio-context/src/helpers/is-active-audio-node.ts", "../../standardized-audio-context/src/factories/audio-buffer-source-node-constructor.ts", "../../standardized-audio-context/src/factories/audio-buffer-source-node-renderer-factory.ts", "../../standardized-audio-context/src/guards/audio-buffer-source-node.ts", "../../standardized-audio-context/src/guards/biquad-filter-node.ts", "../../standardized-audio-context/src/guards/constant-source-node.ts", "../../standardized-audio-context/src/guards/gain-node.ts", "../../standardized-audio-context/src/guards/oscillator-node.ts", "../../standardized-audio-context/src/guards/stereo-panner-node.ts", "../../standardized-audio-context/src/helpers/get-audio-node-connections.ts", "../../standardized-audio-context/src/helpers/get-audio-param-connections.ts", "../../standardized-audio-context/src/helpers/deactivate-active-audio-node-input-connections.ts", "../../standardized-audio-context/src/helpers/deactivate-audio-graph.ts", "../../standardized-audio-context/src/helpers/is-valid-latency-hint.ts", "../../standardized-audio-context/src/factories/audio-context-constructor.ts", "../../standardized-audio-context/src/factories/audio-destination-node-constructor.ts", "../../standardized-audio-context/src/factories/audio-destination-node-renderer-factory.ts", "../../standardized-audio-context/src/factories/audio-listener-factory.ts", "../../standardized-audio-context/src/guards/audio-node.ts", "../../standardized-audio-context/src/guards/audio-node-output-connection.ts", "../../standardized-audio-context/src/helpers/insert-element-in-set.ts", "../../standardized-audio-context/src/helpers/add-active-input-connection-to-audio-param.ts", "../../standardized-audio-context/src/helpers/add-passive-input-connection-to-audio-param.ts", "../../standardized-audio-context/src/guards/native-audio-node-faker.ts", "../../standardized-audio-context/src/helpers/connect-native-audio-node-to-native-audio-node.ts", "../../standardized-audio-context/src/helpers/delete-active-input-connection.ts", "../../standardized-audio-context/src/helpers/delete-active-input-connection-to-audio-param.ts", "../../standardized-audio-context/src/helpers/delete-event-listeners-of-audio-node.ts", "../../standardized-audio-context/src/helpers/delete-passive-input-connection-to-audio-param.ts", "../../standardized-audio-context/src/helpers/disconnect-native-audio-node-from-native-audio-node.ts", "../../standardized-audio-context/src/helpers/get-native-audio-node.ts", "../../standardized-audio-context/src/helpers/get-native-audio-param.ts", "../../standardized-audio-context/src/helpers/is-part-of-a-cycle.ts", "../../standardized-audio-context/src/helpers/is-passive-audio-node.ts", "../../standardized-audio-context/src/helpers/test-audio-node-disconnect-method-support.ts", "../../standardized-audio-context/src/helpers/visit-each-audio-node-once.ts", "../../standardized-audio-context/src/guards/native-audio-node.ts", "../../standardized-audio-context/src/helpers/wrap-audio-node-disconnect-method.ts", "../../standardized-audio-context/src/factories/audio-node-constructor.ts", "../../standardized-audio-context/src/factories/audio-param-factory.ts", "../../standardized-audio-context/src/factories/audio-param-renderer.ts", "../../standardized-audio-context/src/read-only-map.ts", "../../standardized-audio-context/src/factories/audio-worklet-node-constructor.ts", "../../standardized-audio-context/src/helpers/copy-from-channel.ts", "../../standardized-audio-context/src/helpers/copy-to-channel.ts", "../../standardized-audio-context/src/helpers/create-nested-arrays.ts", "../../standardized-audio-context/src/helpers/get-audio-worklet-processor.ts", "../../standardized-audio-context/src/factories/audio-worklet-node-renderer-factory.ts", "../../standardized-audio-context/src/factories/base-audio-context-constructor.ts", "../../standardized-audio-context/src/factories/biquad-filter-node-constructor.ts", "../../standardized-audio-context/src/factories/biquad-filter-node-renderer-factory.ts", "../../standardized-audio-context/src/factories/cache-test-result.ts", "../../standardized-audio-context/src/factories/channel-merger-node-constructor.ts", "../../standardized-audio-context/src/factories/channel-merger-node-renderer-factory.ts", "../../standardized-audio-context/src/factories/channel-splitter-node-constructor.ts", "../../standardized-audio-context/src/factories/channel-splitter-node-renderer-factory.ts", "../../standardized-audio-context/src/factories/connect-audio-param.ts", "../../standardized-audio-context/src/factories/connect-multiple-outputs.ts", "../../standardized-audio-context/src/factories/connected-native-audio-buffer-source-node-factory.ts", "../../standardized-audio-context/src/factories/constant-source-node-constructor.ts", "../../standardized-audio-context/src/factories/constant-source-node-renderer-factory.ts", "../../standardized-audio-context/src/factories/convert-number-to-unsigned-long.ts", "../../standardized-audio-context/src/factories/convolver-node-constructor.ts", "../../standardized-audio-context/src/factories/convolver-node-renderer-factory.ts", "../../standardized-audio-context/src/factories/create-native-offline-audio-context.ts", "../../standardized-audio-context/src/factories/data-clone-error.ts", "../../standardized-audio-context/src/helpers/detach-array-buffer.ts", "../../standardized-audio-context/src/factories/decode-audio-data.ts", "../../standardized-audio-context/src/factories/decrement-cycle-counter.ts", "../../standardized-audio-context/src/factories/delay-node-constructor.ts", "../../standardized-audio-context/src/factories/delay-node-renderer-factory.ts", "../../standardized-audio-context/src/factories/delete-active-input-connection-to-audio-node.ts", "../../standardized-audio-context/src/factories/delete-unrendered-audio-worklet-node.ts", "../../standardized-audio-context/src/guards/delay-node.ts", "../../standardized-audio-context/src/factories/detect-cycles.ts", "../../standardized-audio-context/src/factories/disconnect-multiple-outputs.ts", "../../standardized-audio-context/src/factories/dynamics-compressor-node-constructor.ts", "../../standardized-audio-context/src/factories/dynamics-compressor-node-renderer-factory.ts", "../../standardized-audio-context/src/factories/encoding-error.ts", "../../standardized-audio-context/src/factories/evaluate-source.ts", "../../standardized-audio-context/src/factories/event-target-constructor.ts", "../../standardized-audio-context/src/factories/expose-current-frame-and-current-time.ts", "../../standardized-audio-context/src/factories/fetch-source.ts", "../../standardized-audio-context/src/factories/gain-node-constructor.ts", "../../standardized-audio-context/src/factories/gain-node-renderer-factory.ts", "../../standardized-audio-context/src/factories/get-active-audio-worklet-node-inputs.ts", "../../standardized-audio-context/src/factories/get-audio-node-renderer.ts", "../../standardized-audio-context/src/factories/get-audio-node-tail-time.ts", "../../standardized-audio-context/src/factories/get-audio-param-renderer.ts", "../../standardized-audio-context/src/factories/get-backup-offline-audio-context.ts", "../../standardized-audio-context/src/factories/invalid-state-error.ts", "../../standardized-audio-context/src/factories/get-native-context.ts", "../../standardized-audio-context/src/factories/get-or-create-backup-offline-audio-context.ts", "../../standardized-audio-context/src/factories/get-unrendered-audio-worklet-nodes.ts", "../../standardized-audio-context/src/factories/invalid-access-error.ts", "../../standardized-audio-context/src/helpers/wrap-iir-filter-node-get-frequency-response-method.ts", "../../standardized-audio-context/src/factories/iir-filter-node-constructor.ts", "../../standardized-audio-context/src/helpers/filter-buffer.ts", "../../standardized-audio-context/src/factories/iir-filter-node-renderer-factory.ts", "../../standardized-audio-context/src/factories/increment-cycle-counter-factory.ts", "../../standardized-audio-context/src/factories/is-any-audio-context.ts", "../../standardized-audio-context/src/factories/is-any-audio-node.ts", "../../standardized-audio-context/src/factories/is-any-audio-param.ts", "../../standardized-audio-context/src/factories/is-any-offline-audio-context.ts", "../../standardized-audio-context/src/factories/is-native-audio-context.ts", "../../standardized-audio-context/src/factories/is-native-audio-node.ts", "../../standardized-audio-context/src/factories/is-native-audio-param.ts", "../../standardized-audio-context/src/factories/is-native-context.ts", "../../standardized-audio-context/src/factories/is-native-offline-audio-context.ts", "../../standardized-audio-context/src/factories/is-secure-context.ts", "../../standardized-audio-context/src/factories/is-supported-promise.ts", "../../standardized-audio-context/src/factories/media-element-audio-source-node-constructor.ts", "../../standardized-audio-context/src/factories/media-stream-audio-destination-node-constructor.ts", "../../standardized-audio-context/src/factories/media-stream-audio-source-node-constructor.ts", "../../standardized-audio-context/src/factories/media-stream-track-audio-source-node-constructor.ts", "../../standardized-audio-context/src/factories/minimal-audio-context-constructor.ts", "../../standardized-audio-context/src/factories/minimal-base-audio-context-constructor.ts", "../../standardized-audio-context/src/helpers/test-promise-support.ts", "../../standardized-audio-context/src/factories/minimal-offline-audio-context-constructor.ts", "../../standardized-audio-context/src/factories/monitor-connections.ts", "../../standardized-audio-context/src/helpers/assign-native-audio-node-option.ts", "../../standardized-audio-context/src/helpers/assign-native-audio-node-options.ts", "../../standardized-audio-context/src/helpers/test-analyser-node-get-float-time-domain-data-method-support.ts", "../../standardized-audio-context/src/helpers/wrap-analyser-node-get-float-time-domain-data-method.ts", "../../standardized-audio-context/src/factories/native-analyser-node-factory.ts", "../../standardized-audio-context/src/factories/native-audio-buffer-constructor.ts", "../../standardized-audio-context/src/helpers/assign-native-audio-node-audio-param-value.ts", "../../standardized-audio-context/src/helpers/wrap-audio-buffer-source-node-start-method-consecutive-calls.ts", "../../standardized-audio-context/src/helpers/wrap-audio-scheduled-source-node-start-method-negative-parameters.ts", "../../standardized-audio-context/src/helpers/wrap-audio-scheduled-source-node-stop-method-negative-parameters.ts", "../../standardized-audio-context/src/factories/native-audio-buffer-source-node-factory.ts", "../../standardized-audio-context/src/factories/native-audio-context-constructor.ts", "../../standardized-audio-context/src/factories/native-audio-destination-node.ts", "../../standardized-audio-context/src/factories/native-audio-worklet-node-constructor.ts", "../../standardized-audio-context/src/helpers/test-clonability-of-audio-worklet-node-options.ts", "../../standardized-audio-context/src/factories/native-audio-worklet-node-factory.ts", "../../standardized-audio-context/src/helpers/compute-buffer-size.ts", "../../standardized-audio-context/src/helpers/clone-audio-worklet-node-options.ts", "../../standardized-audio-context/src/helpers/create-audio-worklet-processor-promise.ts", "../../standardized-audio-context/src/helpers/create-audio-worklet-processor.ts", "../../standardized-audio-context/src/factories/native-audio-worklet-node-faker-factory.ts", "../../standardized-audio-context/src/factories/native-biquad-filter-node.ts", "../../standardized-audio-context/src/factories/native-channel-merger-node-factory.ts", "../../standardized-audio-context/src/helpers/wrap-channel-splitter-node.ts", "../../standardized-audio-context/src/factories/native-channel-splitter-node.ts", "../../standardized-audio-context/src/factories/native-constant-source-node-factory.ts", "../../standardized-audio-context/src/helpers/intercept-connections.ts", "../../standardized-audio-context/src/factories/native-constant-source-node-faker-factory.ts", "../../standardized-audio-context/src/factories/native-convolver-node-factory.ts", "../../standardized-audio-context/src/factories/native-delay-node.ts", "../../standardized-audio-context/src/factories/native-dynamics-compressor-node-factory.ts", "../../standardized-audio-context/src/factories/native-gain-node.ts", "../../standardized-audio-context/src/factories/native-iir-filter-node-factory.ts", "../../standardized-audio-context/src/factories/native-iir-filter-node-faker-factory.ts", "../../standardized-audio-context/src/factories/native-media-element-audio-source-node.ts", "../../standardized-audio-context/src/factories/native-media-stream-audio-destination-node.ts", "../../standardized-audio-context/src/factories/native-media-stream-audio-source-node.ts", "../../standardized-audio-context/src/factories/native-media-stream-track-audio-source-node-factory.ts", "../../standardized-audio-context/src/factories/native-offline-audio-context-constructor.ts", "../../standardized-audio-context/src/factories/native-oscillator-node-factory.ts", "../../standardized-audio-context/src/factories/native-panner-node-factory.ts", "../../standardized-audio-context/src/factories/native-panner-node-faker-factory.ts", "../../standardized-audio-context/src/factories/native-periodic-wave-factory.ts", "../../standardized-audio-context/src/factories/native-script-processor-node.ts", "../../standardized-audio-context/src/factories/native-stereo-panner-node-factory.ts", "../../standardized-audio-context/src/factories/native-stereo-panner-node-faker-factory.ts", "../../standardized-audio-context/src/factories/native-wave-shaper-node-factory.ts", "../../standardized-audio-context/src/factories/native-wave-shaper-node-faker-factory.ts", "../../standardized-audio-context/src/factories/not-supported-error.ts", "../../standardized-audio-context/src/factories/offline-audio-context-constructor.ts", "../../standardized-audio-context/src/factories/oscillator-node-constructor.ts", "../../standardized-audio-context/src/factories/oscillator-node-renderer-factory.ts", "../../standardized-audio-context/src/factories/panner-node-constructor.ts", "../../standardized-audio-context/src/factories/panner-node-renderer-factory.ts", "../../standardized-audio-context/src/factories/periodic-wave-constructor.ts", "../../standardized-audio-context/src/factories/render-automation.ts", "../../standardized-audio-context/src/factories/render-inputs-of-audio-node.ts", "../../standardized-audio-context/src/factories/render-inputs-of-audio-param.ts", "../../standardized-audio-context/src/factories/render-native-offline-audio-context.ts", "../../standardized-audio-context/src/factories/set-active-audio-worklet-node-inputs.ts", "../../standardized-audio-context/src/factories/set-audio-node-tail-time.ts", "../../standardized-audio-context/src/factories/start-rendering.ts", "../../standardized-audio-context/src/factories/stereo-panner-node-constructor.ts", "../../standardized-audio-context/src/factories/stereo-panner-node-renderer-factory.ts", "../../standardized-audio-context/src/factories/test-audio-buffer-constructor-support.ts", "../../standardized-audio-context/src/factories/test-audio-buffer-copy-channel-methods-subarray-support.ts", "../../standardized-audio-context/src/factories/test-audio-context-close-method-support.ts", "../../standardized-audio-context/src/factories/test-audio-context-decode-audio-data-method-type-error-support.ts", "../../standardized-audio-context/src/factories/test-audio-context-options-support.ts", "../../standardized-audio-context/src/factories/test-audio-node-connect-method-support.ts", "../../standardized-audio-context/src/factories/test-audio-worklet-processor-no-outputs-support.ts", "../../standardized-audio-context/src/factories/test-audio-worklet-processor-post-message-support.ts", "../../standardized-audio-context/src/factories/test-channel-merger-node-channel-count-support.ts", "../../standardized-audio-context/src/factories/test-constant-source-node-accurate-scheduling-support.ts", "../../standardized-audio-context/src/factories/test-convolver-node-buffer-reassignability-support.ts", "../../standardized-audio-context/src/factories/test-convolver-node-channel-count-support.ts", "../../standardized-audio-context/src/factories/test-is-secure-context-support.ts", "../../standardized-audio-context/src/factories/test-media-stream-audio-source-node-media-stream-without-audio-track-support.ts", "../../standardized-audio-context/src/factories/test-offline-audio-context-current-time-support.ts", "../../standardized-audio-context/src/factories/test-stereo-panner-node-default-value-support.ts", "../../standardized-audio-context/src/factories/unknown-error.ts", "../../standardized-audio-context/src/factories/wave-shaper-node-constructor.ts", "../../standardized-audio-context/src/factories/wave-shaper-node-renderer-factory.ts", "../../standardized-audio-context/src/factories/window.ts", "../../standardized-audio-context/src/factories/wrap-audio-buffer-copy-channel-methods.ts", "../../standardized-audio-context/src/factories/wrap-audio-buffer-copy-channel-methods-out-of-bounds.ts", "../../standardized-audio-context/src/factories/wrap-audio-buffer-source-node-stop-method-nullified-buffer.ts", "../../standardized-audio-context/src/factories/wrap-channel-merger-node.ts", "../../standardized-audio-context/src/helpers/get-first-sample.ts", "../../standardized-audio-context/src/helpers/is-dc-curve.ts", "../../standardized-audio-context/src/helpers/overwrite-accessors.ts", "../../standardized-audio-context/src/helpers/sanitize-audio-worklet-node-options.ts", "../../standardized-audio-context/src/helpers/sanitize-channel-splitter-options.ts", "../../standardized-audio-context/src/helpers/sanitize-periodic-wave-options.ts", "../../standardized-audio-context/src/helpers/set-value-at-time-until-possible.ts", "../../standardized-audio-context/src/helpers/test-audio-buffer-source-node-start-method-consecutive-calls-support.ts", "../../standardized-audio-context/src/helpers/test-audio-buffer-source-node-start-method-offset-clamping-support.ts", "../../standardized-audio-context/src/helpers/test-audio-buffer-source-node-stop-method-nullified-buffer-support.ts", "../../standardized-audio-context/src/helpers/test-audio-scheduled-source-node-start-method-negative-parameters-support.ts", "../../standardized-audio-context/src/helpers/test-audio-scheduled-source-node-stop-method-consecutive-calls-support.ts", "../../standardized-audio-context/src/helpers/test-audio-scheduled-source-node-stop-method-negative-parameters-support.ts", "../../standardized-audio-context/src/helpers/test-audio-worklet-node-options-clonability.ts", "../../standardized-audio-context/src/helpers/test-dom-exception-constructor-support.ts", "../../standardized-audio-context/src/helpers/test-transferables-support.ts", "../../standardized-audio-context/src/helpers/wrap-audio-buffer-source-node-start-method-offset-clamping.ts", "../../standardized-audio-context/src/helpers/wrap-audio-scheduled-source-node-stop-method-consecutive-calls.ts", "../../standardized-audio-context/src/helpers/wrap-event-listener.ts", "../../standardized-audio-context/build/es2019/interfaces/analyser-node.js", "../../standardized-audio-context/build/es2019/interfaces/analyser-options.js", "../../standardized-audio-context/build/es2019/interfaces/audio-buffer.js", "../../standardized-audio-context/build/es2019/interfaces/audio-buffer-options.js", "../../standardized-audio-context/build/es2019/interfaces/audio-buffer-source-node.js", "../../standardized-audio-context/build/es2019/interfaces/audio-buffer-source-node-renderer.js", "../../standardized-audio-context/build/es2019/interfaces/audio-buffer-source-options.js", "../../standardized-audio-context/build/es2019/interfaces/audio-context.js", "../../standardized-audio-context/build/es2019/interfaces/audio-context-options.js", "../../standardized-audio-context/build/es2019/interfaces/audio-destination-node.js", "../../standardized-audio-context/build/es2019/interfaces/audio-listener.js", "../../standardized-audio-context/build/es2019/interfaces/audio-node.js", "../../standardized-audio-context/build/es2019/interfaces/audio-node-options.js", "../../standardized-audio-context/build/es2019/interfaces/audio-node-renderer.js", "../../standardized-audio-context/build/es2019/interfaces/audio-param.js", "../../standardized-audio-context/build/es2019/interfaces/audio-param-descriptor.js", "../../standardized-audio-context/build/es2019/interfaces/audio-param-renderer.js", "../../standardized-audio-context/build/es2019/interfaces/audio-scheduled-source-node.js", "../../standardized-audio-context/build/es2019/interfaces/audio-scheduled-source-node-event-map.js", "../../standardized-audio-context/build/es2019/interfaces/audio-worklet.js", "../../standardized-audio-context/build/es2019/interfaces/audio-worklet-node.js", "../../standardized-audio-context/build/es2019/interfaces/audio-worklet-node-event-map.js", "../../standardized-audio-context/build/es2019/interfaces/audio-worklet-node-options.js", "../../standardized-audio-context/build/es2019/interfaces/audio-worklet-processor.js", "../../standardized-audio-context/build/es2019/interfaces/audio-worklet-processor-constructor.js", "../../standardized-audio-context/build/es2019/interfaces/automation.js", "../../standardized-audio-context/build/es2019/interfaces/base-audio-context.js", "../../standardized-audio-context/build/es2019/interfaces/biquad-filter-node.js", "../../standardized-audio-context/build/es2019/interfaces/biquad-filter-options.js", "../../standardized-audio-context/build/es2019/interfaces/channel-merger-options.js", "../../standardized-audio-context/build/es2019/interfaces/channel-splitter-options.js", "../../standardized-audio-context/build/es2019/interfaces/common-audio-context.js", "../../standardized-audio-context/build/es2019/interfaces/common-offline-audio-context.js", "../../standardized-audio-context/build/es2019/interfaces/constant-source-node.js", "../../standardized-audio-context/build/es2019/interfaces/constant-source-node-renderer.js", "../../standardized-audio-context/build/es2019/interfaces/constant-source-options.js", "../../standardized-audio-context/build/es2019/interfaces/convolver-node.js", "../../standardized-audio-context/build/es2019/interfaces/convolver-options.js", "../../standardized-audio-context/build/es2019/interfaces/delay-node.js", "../../standardized-audio-context/build/es2019/interfaces/delay-options.js", "../../standardized-audio-context/build/es2019/interfaces/dynamics-compressor-node.js", "../../standardized-audio-context/build/es2019/interfaces/dynamics-compressor-options.js", "../../standardized-audio-context/build/es2019/interfaces/event-target.js", "../../standardized-audio-context/build/es2019/interfaces/gain-node.js", "../../standardized-audio-context/build/es2019/interfaces/gain-options.js", "../../standardized-audio-context/build/es2019/interfaces/iir-filter-node.js", "../../standardized-audio-context/build/es2019/interfaces/iir-filter-options.js", "../../standardized-audio-context/build/es2019/interfaces/media-element-audio-source-node.js", "../../standardized-audio-context/build/es2019/interfaces/media-element-audio-source-options.js", "../../standardized-audio-context/build/es2019/interfaces/media-stream-audio-destination-node.js", "../../standardized-audio-context/build/es2019/interfaces/media-stream-audio-source-node.js", "../../standardized-audio-context/build/es2019/interfaces/media-stream-audio-source-options.js", "../../standardized-audio-context/build/es2019/interfaces/media-stream-track-audio-source-node.js", "../../standardized-audio-context/build/es2019/interfaces/media-stream-track-audio-source-options.js", "../../standardized-audio-context/build/es2019/interfaces/minimal-audio-context.js", "../../standardized-audio-context/build/es2019/interfaces/minimal-base-audio-context.js", "../../standardized-audio-context/build/es2019/interfaces/minimal-base-audio-context-event-map.js", "../../standardized-audio-context/build/es2019/interfaces/minimal-offline-audio-context.js", "../../standardized-audio-context/build/es2019/interfaces/native-audio-node-faker.js", "../../standardized-audio-context/build/es2019/interfaces/native-audio-worklet-node-faker.js", "../../standardized-audio-context/build/es2019/interfaces/native-constant-source-node-faker.js", "../../standardized-audio-context/build/es2019/interfaces/native-convolver-node-faker.js", "../../standardized-audio-context/build/es2019/interfaces/native-iir-filter-node-faker.js", "../../standardized-audio-context/build/es2019/interfaces/native-panner-node-faker.js", "../../standardized-audio-context/build/es2019/interfaces/native-stereo-panner-node-faker.js", "../../standardized-audio-context/build/es2019/interfaces/native-wave-shaper-node-faker.js", "../../standardized-audio-context/build/es2019/interfaces/offline-audio-completion-event.js", "../../standardized-audio-context/build/es2019/interfaces/offline-audio-context.js", "../../standardized-audio-context/build/es2019/interfaces/offline-audio-context-constructor.js", "../../standardized-audio-context/build/es2019/interfaces/offline-audio-context-options.js", "../../standardized-audio-context/build/es2019/interfaces/oscillator-node.js", "../../standardized-audio-context/build/es2019/interfaces/oscillator-node-renderer.js", "../../standardized-audio-context/build/es2019/interfaces/oscillator-options.js", "../../standardized-audio-context/build/es2019/interfaces/panner-node.js", "../../standardized-audio-context/build/es2019/interfaces/panner-options.js", "../../standardized-audio-context/build/es2019/interfaces/periodic-wave.js", "../../standardized-audio-context/build/es2019/interfaces/periodic-wave-constraints.js", "../../standardized-audio-context/build/es2019/interfaces/periodic-wave-options.js", "../../standardized-audio-context/build/es2019/interfaces/read-only-map.js", "../../standardized-audio-context/build/es2019/interfaces/stereo-panner-node.js", "../../standardized-audio-context/build/es2019/interfaces/stereo-panner-options.js", "../../standardized-audio-context/build/es2019/interfaces/wave-shaper-node.js", "../../standardized-audio-context/build/es2019/interfaces/wave-shaper-options.js", "../../standardized-audio-context/src/interfaces/worklet-options.ts", "../../standardized-audio-context/src/interfaces/index.ts", "../../standardized-audio-context/build/es2019/types/abort-error-factory.js", "../../standardized-audio-context/build/es2019/types/active-audio-worklet-node-inputs-store.js", "../../standardized-audio-context/build/es2019/types/active-input-connection.js", "../../standardized-audio-context/build/es2019/types/add-active-input-connection-to-audio-node-factory.js", "../../standardized-audio-context/build/es2019/types/add-active-input-connection-to-audio-node-function.js", "../../standardized-audio-context/build/es2019/types/add-audio-node-connections-factory.js", "../../standardized-audio-context/build/es2019/types/add-audio-node-connections-function.js", "../../standardized-audio-context/build/es2019/types/add-audio-param-connections-factory.js", "../../standardized-audio-context/build/es2019/types/add-audio-param-connections-function.js", "../../standardized-audio-context/build/es2019/types/add-audio-worklet-module-factory.js", "../../standardized-audio-context/build/es2019/types/add-audio-worklet-module-function.js", "../../standardized-audio-context/build/es2019/types/add-connection-to-audio-node-factory.js", "../../standardized-audio-context/build/es2019/types/add-connection-to-audio-node-function.js", "../../standardized-audio-context/build/es2019/types/add-passive-input-connection-to-audio-node-factory.js", "../../standardized-audio-context/build/es2019/types/add-passive-input-connection-to-audio-node-function.js", "../../standardized-audio-context/build/es2019/types/add-silent-connection-factory.js", "../../standardized-audio-context/build/es2019/types/add-silent-connection-function.js", "../../standardized-audio-context/build/es2019/types/add-unrendered-audio-worklet-node-factory.js", "../../standardized-audio-context/build/es2019/types/add-unrendered-audio-worklet-node-function.js", "../../standardized-audio-context/build/es2019/types/analyser-node-constructor.js", "../../standardized-audio-context/build/es2019/types/analyser-node-constructor-factory.js", "../../standardized-audio-context/build/es2019/types/analyser-node-renderer-factory.js", "../../standardized-audio-context/build/es2019/types/analyser-node-renderer-factory-factory.js", "../../standardized-audio-context/build/es2019/types/any-audio-buffer.js", "../../standardized-audio-context/build/es2019/types/any-context.js", "../../standardized-audio-context/build/es2019/types/audio-buffer-constructor.js", "../../standardized-audio-context/build/es2019/types/audio-buffer-constructor-factory.js", "../../standardized-audio-context/build/es2019/types/audio-buffer-source-node-constructor.js", "../../standardized-audio-context/build/es2019/types/audio-buffer-source-node-constructor-factory.js", "../../standardized-audio-context/build/es2019/types/audio-buffer-source-node-renderer.js", "../../standardized-audio-context/build/es2019/types/audio-buffer-source-node-renderer-factory.js", "../../standardized-audio-context/build/es2019/types/audio-buffer-source-node-renderer-factory-factory.js", "../../standardized-audio-context/build/es2019/types/audio-buffer-store.js", "../../standardized-audio-context/build/es2019/types/audio-context-constructor.js", "../../standardized-audio-context/build/es2019/types/audio-context-constructor-factory.js", "../../standardized-audio-context/build/es2019/types/audio-context-latency-category.js", "../../standardized-audio-context/build/es2019/types/audio-context-state.js", "../../standardized-audio-context/build/es2019/types/audio-destination-node-constructor.js", "../../standardized-audio-context/build/es2019/types/audio-destination-node-constructor-factory.js", "../../standardized-audio-context/build/es2019/types/audio-destination-node-renderer-factory.js", "../../standardized-audio-context/build/es2019/types/audio-listener-factory.js", "../../standardized-audio-context/build/es2019/types/audio-listener-factory-factory.js", "../../standardized-audio-context/build/es2019/types/audio-node-connections.js", "../../standardized-audio-context/build/es2019/types/audio-node-connections-store.js", "../../standardized-audio-context/build/es2019/types/audio-node-constructor.js", "../../standardized-audio-context/build/es2019/types/audio-node-constructor-factory.js", "../../standardized-audio-context/build/es2019/types/audio-node-output-connection.js", "../../standardized-audio-context/build/es2019/types/audio-node-renderer.js", "../../standardized-audio-context/build/es2019/types/audio-node-store.js", "../../standardized-audio-context/build/es2019/types/audio-node-tail-time-store.js", "../../standardized-audio-context/build/es2019/types/audio-param-audio-node-store.js", "../../standardized-audio-context/build/es2019/types/audio-param-connections.js", "../../standardized-audio-context/build/es2019/types/audio-param-connections-store.js", "../../standardized-audio-context/build/es2019/types/audio-param-factory.js", "../../standardized-audio-context/build/es2019/types/audio-param-factory-factory.js", "../../standardized-audio-context/build/es2019/types/audio-param-map.js", "../../standardized-audio-context/build/es2019/types/audio-param-output-connection.js", "../../standardized-audio-context/build/es2019/types/audio-param-renderer-factory.js", "../../standardized-audio-context/build/es2019/types/audio-param-store.js", "../../standardized-audio-context/build/es2019/types/audio-worklet-node-constructor.js", "../../standardized-audio-context/build/es2019/types/audio-worklet-node-constructor-factory.js", "../../standardized-audio-context/build/es2019/types/audio-worklet-node-renderer-factory.js", "../../standardized-audio-context/build/es2019/types/audio-worklet-node-renderer-factory-factory.js", "../../standardized-audio-context/build/es2019/types/backup-offline-audio-context-store.js", "../../standardized-audio-context/build/es2019/types/base-audio-context-constructor.js", "../../standardized-audio-context/build/es2019/types/base-audio-context-constructor-factory.js", "../../standardized-audio-context/build/es2019/types/biquad-filter-node-constructor.js", "../../standardized-audio-context/build/es2019/types/biquad-filter-node-constructor-factory.js", "../../standardized-audio-context/build/es2019/types/biquad-filter-node-renderer-factory.js", "../../standardized-audio-context/build/es2019/types/biquad-filter-node-renderer-factory-factory.js", "../../standardized-audio-context/build/es2019/types/biquad-filter-type.js", "../../standardized-audio-context/build/es2019/types/channel-count-mode.js", "../../standardized-audio-context/build/es2019/types/channel-interpretation.js", "../../standardized-audio-context/build/es2019/types/channel-merger-node-constructor.js", "../../standardized-audio-context/build/es2019/types/channel-merger-node-constructor-factory.js", "../../standardized-audio-context/build/es2019/types/channel-merger-node-renderer-factory.js", "../../standardized-audio-context/build/es2019/types/channel-merger-node-renderer-factory-factory.js", "../../standardized-audio-context/build/es2019/types/channel-splitter-node-constructor.js", "../../standardized-audio-context/build/es2019/types/channel-splitter-node-constructor-factory.js", "../../standardized-audio-context/build/es2019/types/channel-splitter-node-renderer-factory.js", "../../standardized-audio-context/build/es2019/types/channel-splitter-node-renderer-factory-factory.js", "../../standardized-audio-context/build/es2019/types/cache-test-result-factory.js", "../../standardized-audio-context/build/es2019/types/cache-test-result-function.js", "../../standardized-audio-context/build/es2019/types/connect-audio-param-factory.js", "../../standardized-audio-context/build/es2019/types/connect-audio-param-function.js", "../../standardized-audio-context/build/es2019/types/connect-multiple-outputs-factory.js", "../../standardized-audio-context/build/es2019/types/connect-multiple-outputs-function.js", "../../standardized-audio-context/build/es2019/types/connect-native-audio-node-to-native-audio-node-function.js", "../../standardized-audio-context/build/es2019/types/connected-native-audio-buffer-source-node-factory.js", "../../standardized-audio-context/build/es2019/types/connected-native-audio-buffer-source-node-factory-factory.js", "../../standardized-audio-context/build/es2019/types/constant-source-node-constructor.js", "../../standardized-audio-context/build/es2019/types/constant-source-node-constructor-factory.js", "../../standardized-audio-context/build/es2019/types/constant-source-node-renderer.js", "../../standardized-audio-context/build/es2019/types/constant-source-node-renderer-factory.js", "../../standardized-audio-context/build/es2019/types/constant-source-node-renderer-factory-factory.js", "../../standardized-audio-context/build/es2019/types/constructor.js", "../../standardized-audio-context/build/es2019/types/context.js", "../../standardized-audio-context/build/es2019/types/context-store.js", "../../standardized-audio-context/build/es2019/types/convert-number-to-unsigned-long-factory.js", "../../standardized-audio-context/build/es2019/types/convert-number-to-unsigned-long-function.js", "../../standardized-audio-context/build/es2019/types/convolver-node-constructor.js", "../../standardized-audio-context/build/es2019/types/convolver-node-constructor-factory.js", "../../standardized-audio-context/build/es2019/types/convolver-node-renderer-factory.js", "../../standardized-audio-context/build/es2019/types/convolver-node-renderer-factory-factory.js", "../../standardized-audio-context/build/es2019/types/create-native-offline-audio-context-factory.js", "../../standardized-audio-context/build/es2019/types/create-native-offline-audio-context-function.js", "../../standardized-audio-context/build/es2019/types/cycle-counters.js", "../../standardized-audio-context/build/es2019/types/data-clone-error-factory.js", "../../standardized-audio-context/build/es2019/types/decode-audio-data-factory.js", "../../standardized-audio-context/build/es2019/types/decode-audio-data-function.js", "../../standardized-audio-context/build/es2019/types/decode-error-callback.js", "../../standardized-audio-context/build/es2019/types/decode-success-callback.js", "../../standardized-audio-context/build/es2019/types/decrement-cycle-counter-factory.js", "../../standardized-audio-context/build/es2019/types/decrement-cycle-counter-function.js", "../../standardized-audio-context/build/es2019/types/delay-node-constructor.js", "../../standardized-audio-context/build/es2019/types/delay-node-constructor-factory.js", "../../standardized-audio-context/build/es2019/types/delay-node-renderer-factory.js", "../../standardized-audio-context/build/es2019/types/delay-node-renderer-factory-factory.js", "../../standardized-audio-context/build/es2019/types/delete-active-input-connection-to-audio-node-factory.js", "../../standardized-audio-context/build/es2019/types/delete-active-input-connection-to-audio-node-function.js", "../../standardized-audio-context/build/es2019/types/delete-unrendered-audio-worklet-node-factory.js", "../../standardized-audio-context/build/es2019/types/delete-unrendered-audio-worklet-node-function.js", "../../standardized-audio-context/build/es2019/types/detect-cycles-factory.js", "../../standardized-audio-context/build/es2019/types/detect-cycles-function.js", "../../standardized-audio-context/build/es2019/types/disconnect-multiple-outputs-factory.js", "../../standardized-audio-context/build/es2019/types/disconnect-multiple-outputs-function.js", "../../standardized-audio-context/build/es2019/types/disconnect-native-audio-node-from-native-audio-node-function.js", "../../standardized-audio-context/build/es2019/types/distance-model-type.js", "../../standardized-audio-context/build/es2019/types/dynamics-compressor-node-constructor.js", "../../standardized-audio-context/build/es2019/types/dynamics-compressor-node-constructor-factory.js", "../../standardized-audio-context/build/es2019/types/dynamics-compressor-node-renderer-factory.js", "../../standardized-audio-context/build/es2019/types/dynamics-compressor-node-renderer-factory-factory.js", "../../standardized-audio-context/build/es2019/types/encoding-error-factory.js", "../../standardized-audio-context/build/es2019/types/error-event-handler.js", "../../standardized-audio-context/build/es2019/types/evaluate-audio-worklet-global-scope-function.js", "../../standardized-audio-context/build/es2019/types/evaluate-source-factory.js", "../../standardized-audio-context/build/es2019/types/evaluate-source-function.js", "../../standardized-audio-context/build/es2019/types/event-handler.js", "../../standardized-audio-context/build/es2019/types/event-target-constructor.js", "../../standardized-audio-context/build/es2019/types/event-target-constructor-factory.js", "../../standardized-audio-context/build/es2019/types/expose-current-frame-and-current-time-factory.js", "../../standardized-audio-context/build/es2019/types/expose-current-frame-and-current-time-function.js", "../../standardized-audio-context/build/es2019/types/fetch-source-factory.js", "../../standardized-audio-context/build/es2019/types/fetch-source-function.js", "../../standardized-audio-context/build/es2019/types/gain-node-constructor.js", "../../standardized-audio-context/build/es2019/types/gain-node-constructor-factory.js", "../../standardized-audio-context/build/es2019/types/gain-node-renderer-factory.js", "../../standardized-audio-context/build/es2019/types/gain-node-renderer-factory-factory.js", "../../standardized-audio-context/build/es2019/types/get-active-audio-worklet-node-inputs-factory.js", "../../standardized-audio-context/build/es2019/types/get-active-audio-worklet-node-inputs-function.js", "../../standardized-audio-context/build/es2019/types/get-audio-node-connections-function.js", "../../standardized-audio-context/build/es2019/types/get-audio-node-renderer-factory.js", "../../standardized-audio-context/build/es2019/types/get-audio-node-renderer-function.js", "../../standardized-audio-context/build/es2019/types/get-audio-node-tail-time-factory.js", "../../standardized-audio-context/build/es2019/types/get-audio-node-tail-time-function.js", "../../standardized-audio-context/build/es2019/types/get-audio-param-connections-function.js", "../../standardized-audio-context/build/es2019/types/get-audio-param-renderer-factory.js", "../../standardized-audio-context/build/es2019/types/get-audio-param-renderer-function.js", "../../standardized-audio-context/build/es2019/types/get-backup-offline-audio-context-factory.js", "../../standardized-audio-context/build/es2019/types/get-backup-offline-audio-context-function.js", "../../standardized-audio-context/build/es2019/types/get-event-listeners-of-audio-node-function.js", "../../standardized-audio-context/build/es2019/types/get-first-sample-function.js", "../../standardized-audio-context/build/es2019/types/get-native-audio-node-function.js", "../../standardized-audio-context/build/es2019/types/get-native-audio-param-function.js", "../../standardized-audio-context/build/es2019/types/get-native-context-factory.js", "../../standardized-audio-context/build/es2019/types/get-native-context-function.js", "../../standardized-audio-context/build/es2019/types/get-or-create-backup-offline-audio-context-factory.js", "../../standardized-audio-context/build/es2019/types/get-or-create-backup-offline-audio-context-function.js", "../../standardized-audio-context/build/es2019/types/get-unrendered-audio-worklet-nodes-factory.js", "../../standardized-audio-context/build/es2019/types/get-unrendered-audio-worklet-nodes-function.js", "../../standardized-audio-context/build/es2019/types/get-value-for-key-function.js", "../../standardized-audio-context/build/es2019/types/iir-filter-node-constructor.js", "../../standardized-audio-context/build/es2019/types/iir-filter-node-constructor-factory.js", "../../standardized-audio-context/build/es2019/types/iir-filter-node-renderer-factory.js", "../../standardized-audio-context/build/es2019/types/iir-filter-node-renderer-factory-factory.js", "../../standardized-audio-context/build/es2019/types/increment-cycle-counter-factory.js", "../../standardized-audio-context/build/es2019/types/increment-cycle-counter-factory-factory.js", "../../standardized-audio-context/build/es2019/types/increment-cycle-counter-function.js", "../../standardized-audio-context/build/es2019/types/index-size-error-factory.js", "../../standardized-audio-context/build/es2019/types/insert-element-in-set-function.js", "../../standardized-audio-context/build/es2019/types/internal-state-event-listener.js", "../../standardized-audio-context/build/es2019/types/invalid-access-error-factory.js", "../../standardized-audio-context/build/es2019/types/invalid-state-error-factory.js", "../../standardized-audio-context/build/es2019/types/is-active-audio-node-function.js", "../../standardized-audio-context/build/es2019/types/is-any-audio-context-factory.js", "../../standardized-audio-context/build/es2019/types/is-any-audio-context-function.js", "../../standardized-audio-context/build/es2019/types/is-any-audio-node-factory.js", "../../standardized-audio-context/build/es2019/types/is-any-audio-node-function.js", "../../standardized-audio-context/build/es2019/types/is-any-audio-param-factory.js", "../../standardized-audio-context/build/es2019/types/is-any-audio-param-function.js", "../../standardized-audio-context/build/es2019/types/is-any-offline-audio-context-factory.js", "../../standardized-audio-context/build/es2019/types/is-any-offline-audio-context-function.js", "../../standardized-audio-context/build/es2019/types/is-dc-curve-function.js", "../../standardized-audio-context/build/es2019/types/is-native-audio-context-factory.js", "../../standardized-audio-context/build/es2019/types/is-native-audio-context-function.js", "../../standardized-audio-context/build/es2019/types/is-native-audio-node-factory.js", "../../standardized-audio-context/build/es2019/types/is-native-audio-node-function.js", "../../standardized-audio-context/build/es2019/types/is-native-audio-param-factory.js", "../../standardized-audio-context/build/es2019/types/is-native-audio-param-function.js", "../../standardized-audio-context/build/es2019/types/is-native-context-factory.js", "../../standardized-audio-context/build/es2019/types/is-native-context-function.js", "../../standardized-audio-context/build/es2019/types/is-native-offline-audio-context-factory.js", "../../standardized-audio-context/build/es2019/types/is-native-offline-audio-context-function.js", "../../standardized-audio-context/build/es2019/types/is-part-of-a-cycle-function.js", "../../standardized-audio-context/build/es2019/types/is-passive-audio-node-function.js", "../../standardized-audio-context/build/es2019/types/is-secure-context-factory.js", "../../standardized-audio-context/build/es2019/types/is-supported-promise-factory.js", "../../standardized-audio-context/build/es2019/types/media-element-audio-source-node-constructor.js", "../../standardized-audio-context/build/es2019/types/media-element-audio-source-node-constructor-factory.js", "../../standardized-audio-context/build/es2019/types/media-stream-audio-destination-node-constructor.js", "../../standardized-audio-context/build/es2019/types/media-stream-audio-destination-node-constructor-factory.js", "../../standardized-audio-context/build/es2019/types/media-stream-audio-source-node-constructor.js", "../../standardized-audio-context/build/es2019/types/media-stream-audio-source-node-constructor-factory.js", "../../standardized-audio-context/build/es2019/types/media-stream-track-audio-source-node-constructor.js", "../../standardized-audio-context/build/es2019/types/media-stream-track-audio-source-node-constructor-factory.js", "../../standardized-audio-context/build/es2019/types/minimal-audio-context-constructor.js", "../../standardized-audio-context/build/es2019/types/minimal-audio-context-constructor-factory.js", "../../standardized-audio-context/build/es2019/types/minimal-base-audio-context-constructor.js", "../../standardized-audio-context/build/es2019/types/minimal-base-audio-context-constructor-factory.js", "../../standardized-audio-context/build/es2019/types/minimal-offline-audio-context-constructor.js", "../../standardized-audio-context/build/es2019/types/minimal-offline-audio-context-constructor-factory.js", "../../standardized-audio-context/build/es2019/types/monitor-connections-factory.js", "../../standardized-audio-context/build/es2019/types/monitor-connections-function.js", "../../standardized-audio-context/build/es2019/types/native-analyser-node.js", "../../standardized-audio-context/build/es2019/types/native-analyser-node-factory.js", "../../standardized-audio-context/build/es2019/types/native-analyser-node-factory-factory.js", "../../standardized-audio-context/build/es2019/types/native-audio-buffer.js", "../../standardized-audio-context/build/es2019/types/native-audio-buffer-constructor.js", "../../standardized-audio-context/build/es2019/types/native-audio-buffer-constructor-factory.js", "../../standardized-audio-context/build/es2019/types/native-audio-buffer-source-node.js", "../../standardized-audio-context/build/es2019/types/native-audio-buffer-source-node-factory.js", "../../standardized-audio-context/build/es2019/types/native-audio-buffer-source-node-factory-factory.js", "../../standardized-audio-context/build/es2019/types/native-audio-context.js", "../../standardized-audio-context/build/es2019/types/native-audio-context-constructor.js", "../../standardized-audio-context/build/es2019/types/native-audio-context-constructor-factory.js", "../../standardized-audio-context/build/es2019/types/native-audio-destination-node.js", "../../standardized-audio-context/build/es2019/types/native-audio-destination-node-factory.js", "../../standardized-audio-context/build/es2019/types/native-audio-destination-node-factory-factory.js", "../../standardized-audio-context/build/es2019/types/native-audio-listener.js", "../../standardized-audio-context/build/es2019/types/native-audio-node.js", "../../standardized-audio-context/build/es2019/types/native-audio-param.js", "../../standardized-audio-context/build/es2019/types/native-audio-param-map.js", "../../standardized-audio-context/build/es2019/types/native-audio-worklet.js", "../../standardized-audio-context/build/es2019/types/native-audio-worklet-node.js", "../../standardized-audio-context/build/es2019/types/native-audio-worklet-node-constructor.js", "../../standardized-audio-context/build/es2019/types/native-audio-worklet-node-constructor-factory.js", "../../standardized-audio-context/build/es2019/types/native-audio-worklet-node-factory.js", "../../standardized-audio-context/build/es2019/types/native-audio-worklet-node-factory-factory.js", "../../standardized-audio-context/build/es2019/types/native-audio-worklet-node-faker-factory.js", "../../standardized-audio-context/build/es2019/types/native-audio-worklet-node-faker-factory-factory.js", "../../standardized-audio-context/build/es2019/types/native-audio-worklet-node-options.js", "../../standardized-audio-context/build/es2019/types/native-biquad-filter-node.js", "../../standardized-audio-context/build/es2019/types/native-biquad-filter-node-factory.js", "../../standardized-audio-context/build/es2019/types/native-channel-merger-node.js", "../../standardized-audio-context/build/es2019/types/native-channel-merger-node-factory.js", "../../standardized-audio-context/build/es2019/types/native-channel-merger-node-factory-factory.js", "../../standardized-audio-context/build/es2019/types/native-channel-splitter-node.js", "../../standardized-audio-context/build/es2019/types/native-channel-splitter-node-factory.js", "../../standardized-audio-context/build/es2019/types/native-constant-source-node.js", "../../standardized-audio-context/build/es2019/types/native-constant-source-node-factory.js", "../../standardized-audio-context/build/es2019/types/native-constant-source-node-factory-factory.js", "../../standardized-audio-context/build/es2019/types/native-constant-source-node-faker-factory.js", "../../standardized-audio-context/build/es2019/types/native-constant-source-node-faker-factory-factory.js", "../../standardized-audio-context/build/es2019/types/native-context.js", "../../standardized-audio-context/build/es2019/types/native-convolver-node.js", "../../standardized-audio-context/build/es2019/types/native-convolver-node-factory.js", "../../standardized-audio-context/build/es2019/types/native-convolver-node-factory-factory.js", "../../standardized-audio-context/build/es2019/types/native-delay-node-factory.js", "../../standardized-audio-context/build/es2019/types/native-delay-node.js", "../../standardized-audio-context/build/es2019/types/native-dynamics-compressor-node.js", "../../standardized-audio-context/build/es2019/types/native-dynamics-compressor-node-factory.js", "../../standardized-audio-context/build/es2019/types/native-dynamics-compressor-node-factory-factory.js", "../../standardized-audio-context/build/es2019/types/native-event-target.js", "../../standardized-audio-context/build/es2019/types/native-gain-node.js", "../../standardized-audio-context/build/es2019/types/native-gain-node-factory.js", "../../standardized-audio-context/build/es2019/types/native-iir-filter-node.js", "../../standardized-audio-context/build/es2019/types/native-iir-filter-node-factory.js", "../../standardized-audio-context/build/es2019/types/native-iir-filter-node-factory-factory.js", "../../standardized-audio-context/build/es2019/types/native-iir-filter-node-faker-factory.js", "../../standardized-audio-context/build/es2019/types/native-iir-filter-node-faker-factory-factory.js", "../../standardized-audio-context/build/es2019/types/native-media-element-audio-source-node.js", "../../standardized-audio-context/build/es2019/types/native-media-element-audio-source-node-factory.js", "../../standardized-audio-context/build/es2019/types/native-media-stream-audio-destination-node.js", "../../standardized-audio-context/build/es2019/types/native-media-stream-audio-destination-node-factory.js", "../../standardized-audio-context/build/es2019/types/native-media-stream-audio-source-node.js", "../../standardized-audio-context/build/es2019/types/native-media-stream-audio-source-node-factory.js", "../../standardized-audio-context/build/es2019/types/native-media-stream-track-audio-source-node.js", "../../standardized-audio-context/build/es2019/types/native-media-stream-track-audio-source-node-factory.js", "../../standardized-audio-context/build/es2019/types/native-media-stream-track-audio-source-node-factory-factory.js", "../../standardized-audio-context/build/es2019/types/native-offline-audio-context.js", "../../standardized-audio-context/build/es2019/types/native-offline-audio-context-constructor.js", "../../standardized-audio-context/build/es2019/types/native-offline-audio-context-constructor-factory.js", "../../standardized-audio-context/build/es2019/types/native-oscillator-node.js", "../../standardized-audio-context/build/es2019/types/native-oscillator-node-factory.js", "../../standardized-audio-context/build/es2019/types/native-oscillator-node-factory-factory.js", "../../standardized-audio-context/build/es2019/types/native-panner-node.js", "../../standardized-audio-context/build/es2019/types/native-panner-node-factory.js", "../../standardized-audio-context/build/es2019/types/native-panner-node-factory-factory.js", "../../standardized-audio-context/build/es2019/types/native-panner-node-faker-factory.js", "../../standardized-audio-context/build/es2019/types/native-panner-node-faker-factory-factory.js", "../../standardized-audio-context/build/es2019/types/native-periodic-wave.js", "../../standardized-audio-context/build/es2019/types/native-periodic-wave-factory.js", "../../standardized-audio-context/build/es2019/types/native-periodic-wave-factory-factory.js", "../../standardized-audio-context/build/es2019/types/native-script-processor-node.js", "../../standardized-audio-context/build/es2019/types/native-script-processor-node-factory.js", "../../standardized-audio-context/build/es2019/types/native-stereo-panner-node.js", "../../standardized-audio-context/build/es2019/types/native-stereo-panner-node-factory.js", "../../standardized-audio-context/build/es2019/types/native-stereo-panner-node-factory-factory.js", "../../standardized-audio-context/build/es2019/types/native-stereo-panner-node-faker-factory.js", "../../standardized-audio-context/build/es2019/types/native-stereo-panner-node-faker-factory-factory.js", "../../standardized-audio-context/build/es2019/types/native-wave-shaper-node.js", "../../standardized-audio-context/build/es2019/types/native-wave-shaper-node-factory.js", "../../standardized-audio-context/build/es2019/types/native-wave-shaper-node-factory-factory.js", "../../standardized-audio-context/build/es2019/types/native-wave-shaper-node-faker-factory.js", "../../standardized-audio-context/build/es2019/types/native-wave-shaper-node-faker-factory-factory.js", "../../standardized-audio-context/build/es2019/types/not-supported-error-factory.js", "../../standardized-audio-context/build/es2019/types/offline-audio-context-constructor-factory.js", "../../standardized-audio-context/build/es2019/types/oscillator-node-constructor.js", "../../standardized-audio-context/build/es2019/types/oscillator-node-constructor-factory.js", "../../standardized-audio-context/build/es2019/types/oscillator-node-renderer.js", "../../standardized-audio-context/build/es2019/types/oscillator-node-renderer-factory.js", "../../standardized-audio-context/build/es2019/types/oscillator-node-renderer-factory-factory.js", "../../standardized-audio-context/build/es2019/types/oscillator-type.js", "../../standardized-audio-context/build/es2019/types/output-connection.js", "../../standardized-audio-context/build/es2019/types/over-sample-type.js", "../../standardized-audio-context/build/es2019/types/overwrite-accessors-function.js", "../../standardized-audio-context/build/es2019/types/panner-node-constructor.js", "../../standardized-audio-context/build/es2019/types/panner-node-constructor-factory.js", "../../standardized-audio-context/build/es2019/types/panner-node-renderer-factory.js", "../../standardized-audio-context/build/es2019/types/panner-node-renderer-factory-factory.js", "../../standardized-audio-context/build/es2019/types/panning-model-type.js", "../../standardized-audio-context/build/es2019/types/passive-audio-node-input-connection.js", "../../standardized-audio-context/build/es2019/types/passive-audio-param-input-connection.js", "../../standardized-audio-context/build/es2019/types/periodic-wave-constructor.js", "../../standardized-audio-context/build/es2019/types/periodic-wave-constructor-factory.js", "../../standardized-audio-context/build/es2019/types/pick-element-from-set-function.js", "../../standardized-audio-context/build/es2019/types/render-automation-factory.js", "../../standardized-audio-context/build/es2019/types/render-automation-function.js", "../../standardized-audio-context/build/es2019/types/render-inputs-of-audio-node-factory.js", "../../standardized-audio-context/build/es2019/types/render-inputs-of-audio-node-function.js", "../../standardized-audio-context/build/es2019/types/render-inputs-of-audio-param-factory.js", "../../standardized-audio-context/build/es2019/types/render-inputs-of-audio-param-function.js", "../../standardized-audio-context/build/es2019/types/render-native-offline-audio-context-factory.js", "../../standardized-audio-context/build/es2019/types/render-native-offline-audio-context-function.js", "../../standardized-audio-context/build/es2019/types/sanitize-audio-worklet-node-options-function.js", "../../standardized-audio-context/build/es2019/types/sanitize-channel-splitter-options-function.js", "../../standardized-audio-context/build/es2019/types/sanitize-periodic-wave-options-function.js", "../../standardized-audio-context/build/es2019/types/set-active-audio-worklet-node-inputs-factory.js", "../../standardized-audio-context/build/es2019/types/set-active-audio-worklet-node-inputs-function.js", "../../standardized-audio-context/build/es2019/types/set-audio-node-tail-time-factory.js", "../../standardized-audio-context/build/es2019/types/set-audio-node-tail-time-function.js", "../../standardized-audio-context/build/es2019/types/set-value-at-time-until-possible-function.js", "../../standardized-audio-context/build/es2019/types/start-rendering-factory.js", "../../standardized-audio-context/build/es2019/types/start-rendering-function.js", "../../standardized-audio-context/build/es2019/types/stereo-panner-node-constructor.js", "../../standardized-audio-context/build/es2019/types/stereo-panner-node-constructor-factory.js", "../../standardized-audio-context/build/es2019/types/stereo-panner-node-renderer-factory-factory.js", "../../standardized-audio-context/build/es2019/types/stereo-panner-node-renderer-factory.js", "../../standardized-audio-context/build/es2019/types/test-audio-buffer-copy-channel-methods-subarray-support-factory.js", "../../standardized-audio-context/build/es2019/types/test-audio-buffer-constructor-support-factory.js", "../../standardized-audio-context/build/es2019/types/test-audio-context-close-method-support-factory.js", "../../standardized-audio-context/build/es2019/types/test-audio-context-decode-audio-data-method-type-error-support-factory.js", "../../standardized-audio-context/build/es2019/types/test-audio-context-options-support-factory.js", "../../standardized-audio-context/build/es2019/types/test-audio-node-connect-method-support-factory.js", "../../standardized-audio-context/build/es2019/types/test-audio-worklet-node-options-clonability-function.js", "../../standardized-audio-context/build/es2019/types/test-audio-worklet-processor-no-outputs-support-factory.js", "../../standardized-audio-context/build/es2019/types/test-audio-worklet-processor-post-message-support-factory.js", "../../standardized-audio-context/build/es2019/types/test-channel-merger-node-channel-count-support-factory.js", "../../standardized-audio-context/build/es2019/types/test-constant-source-node-accurate-scheduling-support-factory.js", "../../standardized-audio-context/build/es2019/types/test-convolver-node-buffer-reassignability-support-factory.js", "../../standardized-audio-context/build/es2019/types/test-convolver-node-channel-count-support-factory.js", "../../standardized-audio-context/build/es2019/types/test-is-secure-context-support-factory.js", "../../standardized-audio-context/build/es2019/types/test-media-stream-audio-source-node-media-stream-without-audio-track-support.js", "../../standardized-audio-context/build/es2019/types/test-offline-audio-context-current-time-support-factory.js", "../../standardized-audio-context/build/es2019/types/test-stereo-panner-node-default-value-support-factory.js", "../../standardized-audio-context/build/es2019/types/unknown-error-factory.js", "../../standardized-audio-context/build/es2019/types/unrendered-audio-worklet-node-store.js", "../../standardized-audio-context/build/es2019/types/unrendered-audio-worklet-nodes.js", "../../standardized-audio-context/build/es2019/types/wave-shaper-node-constructor.js", "../../standardized-audio-context/build/es2019/types/wave-shaper-node-constructor-factory.js", "../../standardized-audio-context/build/es2019/types/wave-shaper-node-renderer-factory-factory.js", "../../standardized-audio-context/build/es2019/types/wave-shaper-node-renderer-factory.js", "../../standardized-audio-context/build/es2019/types/window.js", "../../standardized-audio-context/build/es2019/types/window-factory.js", "../../standardized-audio-context/build/es2019/types/wrap-audio-buffer-copy-channel-methods-factory.js", "../../standardized-audio-context/build/es2019/types/wrap-audio-buffer-copy-channel-methods-function.js", "../../standardized-audio-context/build/es2019/types/wrap-audio-buffer-copy-channel-methods-out-of-bounds-factory.js", "../../standardized-audio-context/build/es2019/types/wrap-audio-buffer-copy-channel-methods-out-of-bounds-function.js", "../../standardized-audio-context/build/es2019/types/wrap-audio-buffer-source-node-start-method-offset-clamping-function.js", "../../standardized-audio-context/build/es2019/types/wrap-audio-buffer-source-node-stop-method-nullified-buffer-factory.js", "../../standardized-audio-context/build/es2019/types/wrap-audio-buffer-source-node-stop-method-nullified-buffer-function.js", "../../standardized-audio-context/build/es2019/types/wrap-audio-scheduled-source-node-stop-method-consecutive-calls-function.js", "../../standardized-audio-context/build/es2019/types/wrap-channel-merger-node-factory.js", "../../standardized-audio-context/build/es2019/types/wrap-channel-merger-node-function.js", "../../standardized-audio-context/build/es2019/types/wrap-event-listener-function.js", "../../standardized-audio-context/src/types/index.ts", "../../standardized-audio-context/src/module.ts", "../../extendable-media-recorder/src/factories/web-audio-media-recorder.ts", "../../multi-buffer-data-view/src/classes/multi-buffer-data-view.ts", "../../multi-buffer-data-view/src/module.ts", "../../extendable-media-recorder/src/factories/webm-pcm-media-recorder.ts", "../../extendable-media-recorder/src/factories/window.ts", "../../extendable-media-recorder/src/functions/read-variable-size-integer-length.ts", "../../extendable-media-recorder/src/functions/wrap-event-listener.ts", "../../extendable-media-recorder/build/es2019/interfaces/audio-nodes-and-encoder-id.js", "../../extendable-media-recorder/build/es2019/interfaces/blob-event.js", "../../extendable-media-recorder/build/es2019/interfaces/blob-event-init.js", "../../extendable-media-recorder/build/es2019/interfaces/event-target.js", "../../extendable-media-recorder/build/es2019/interfaces/media-recorder.js", "../../extendable-media-recorder/build/es2019/interfaces/media-recorder-constructor.js", "../../extendable-media-recorder/build/es2019/interfaces/media-recorder-event-map.js", "../../extendable-media-recorder/build/es2019/interfaces/media-recorder-options.js", "../../extendable-media-recorder/src/interfaces/index.ts", "../../extendable-media-recorder/build/es2019/types/blob-event-constructor.js", "../../extendable-media-recorder/build/es2019/types/blob-event-handler.js", "../../extendable-media-recorder/build/es2019/types/blob-event-factory.js", "../../extendable-media-recorder/build/es2019/types/blob-event-factory-factory.js", "../../extendable-media-recorder/build/es2019/types/decode-web-m-chunk-factory.js", "../../extendable-media-recorder/build/es2019/types/decode-web-m-chunk-function.js", "../../extendable-media-recorder/build/es2019/types/element-type.js", "../../extendable-media-recorder/build/es2019/types/error-event-handler.js", "../../extendable-media-recorder/build/es2019/types/event-handler.js", "../../extendable-media-recorder/build/es2019/types/event-target-constructor.js", "../../extendable-media-recorder/build/es2019/types/event-target-constructor-factory.js", "../../extendable-media-recorder/build/es2019/types/event-target-factory.js", "../../extendable-media-recorder/build/es2019/types/event-target-factory-factory.js", "../../extendable-media-recorder/build/es2019/types/invalid-modification-error-factory.js", "../../extendable-media-recorder/build/es2019/types/invalid-state-error-factory.js", "../../extendable-media-recorder/build/es2019/types/is-supported-promise-factory.js", "../../extendable-media-recorder/build/es2019/types/media-recorder-constructor-factory.js", "../../extendable-media-recorder/build/es2019/types/native-blob-event-factory.js", "../../extendable-media-recorder/build/es2019/types/native-event-target.js", "../../extendable-media-recorder/build/es2019/types/native-media-recorder-constructor-factory.js", "../../extendable-media-recorder/build/es2019/types/native-media-recorder-factory.js", "../../extendable-media-recorder/build/es2019/types/native-media-recorder-factory-factory.js", "../../extendable-media-recorder/build/es2019/types/not-supported-error-factory.js", "../../extendable-media-recorder/build/es2019/types/promised-data-view-element-type-encoder-id-and-port.js", "../../extendable-media-recorder/build/es2019/types/read-element-content-factory.js", "../../extendable-media-recorder/build/es2019/types/read-element-content-function.js", "../../extendable-media-recorder/build/es2019/types/read-element-type-factory.js", "../../extendable-media-recorder/build/es2019/types/read-element-type-function.js", "../../extendable-media-recorder/build/es2019/types/read-variable-size-integer-factory.js", "../../extendable-media-recorder/build/es2019/types/read-variable-size-integer-function.js", "../../extendable-media-recorder/build/es2019/types/read-variable-size-integer-length-function.js", "../../extendable-media-recorder/build/es2019/types/recording-state.js", "../../extendable-media-recorder/build/es2019/types/web-audio-media-recorder-factory.js", "../../extendable-media-recorder/build/es2019/types/web-audio-media-recorder-factory-factory.js", "../../extendable-media-recorder/build/es2019/types/webm-pcm-media-recorder-factory.js", "../../extendable-media-recorder/build/es2019/types/webm-pcm-media-recorder-factory-factory.js", "../../extendable-media-recorder/build/es2019/types/window.js", "../../extendable-media-recorder/build/es2019/types/window-factory.js", "../../extendable-media-recorder/build/es2019/types/wrap-event-listener-function.js", "../../extendable-media-recorder/src/types/index.ts", "../../extendable-media-recorder/src/module.ts", "../../extendable-media-recorder-wav-encoder-broker/build/es2019/interfaces/extendable-media-recorder-wav-encoder-broker-definition.js", "../../extendable-media-recorder-wav-encoder-broker/src/interfaces/index.ts", "../../extendable-media-recorder-wav-encoder-broker/build/es2019/types/extendable-media-recorder-wav-encoder-broker-loader.js", "../../extendable-media-recorder-wav-encoder-broker/build/es2019/types/extendable-media-recorder-wav-encoder-broker-wrapper.js", "../../extendable-media-recorder-wav-encoder-broker/build/es2019/types/typed-array.js", "../../extendable-media-recorder-wav-encoder-broker/src/types/index.ts", "../../extendable-media-recorder-wav-encoder-broker/src/module.ts", "../../extendable-media-recorder-wav-encoder/src/worker/worker.ts", "../../extendable-media-recorder-wav-encoder/src/module.ts", "../../react-media-recorder/lib/index.js", "../../react-media-recorder/index.js"],
  "sourcesContent": ["import { TAddUniqueNumberFactory } from '../types';\n\nexport const createAddUniqueNumber: TAddUniqueNumberFactory = (generateUniqueNumber) => {\n    return (set) => {\n        const number = generateUniqueNumber(set);\n\n        set.add(number);\n\n        return number;\n    };\n};\n", "import { TCacheFactory } from '../types';\n\nexport const createCache: TCacheFactory = (lastNumberWeakMap) => {\n    return (collection, nextNumber) => {\n        lastNumberWeakMap.set(collection, nextNumber);\n\n        return nextNumber;\n    };\n};\n", "import { TGenerateUniqueNumberFactory } from '../types';\n\n/*\n * The value of the constant Number.MAX_SAFE_INTEGER equals (2 ** 53 - 1) but it\n * is fairly new.\n */\nconst MAX_SAFE_INTEGER = Number.MAX_SAFE_INTEGER === undefined ? 9007199254740991 : Number.MAX_SAFE_INTEGER;\nconst TWO_TO_THE_POWER_OF_TWENTY_NINE = 536870912;\nconst TWO_TO_THE_POWER_OF_THIRTY = TWO_TO_THE_POWER_OF_TWENTY_NINE * 2;\n\nexport const createGenerateUniqueNumber: TGenerateUniqueNumberFactory = (cache, lastNumberWeakMap) => {\n    return (collection) => {\n        const lastNumber = lastNumberWeakMap.get(collection);\n\n        /*\n         * Let's try the cheapest algorithm first. It might fail to produce a new\n         * number, but it is so cheap that it is okay to take the risk. Just\n         * increase the last number by one or reset it to 0 if we reached the upper\n         * bound of SMIs (which stands for small integers). When the last number is\n         * unknown it is assumed that the collection contains zero based consecutive\n         * numbers.\n         */\n        let nextNumber = lastNumber === undefined ? collection.size : lastNumber < TWO_TO_THE_POWER_OF_THIRTY ? lastNumber + 1 : 0;\n\n        if (!collection.has(nextNumber)) {\n            return cache(collection, nextNumber);\n        }\n\n        /*\n         * If there are less than half of 2 ** 30 numbers stored in the collection,\n         * the chance to generate a new random number in the range from 0 to 2 ** 30\n         * is at least 50%. It's benifitial to use only SMIs because they perform\n         * much better in any environment based on V8.\n         */\n        if (collection.size < TWO_TO_THE_POWER_OF_TWENTY_NINE) {\n            while (collection.has(nextNumber)) {\n                nextNumber = Math.floor(Math.random() * TWO_TO_THE_POWER_OF_THIRTY);\n            }\n\n            return cache(collection, nextNumber);\n        }\n\n        // Quickly check if there is a theoretical chance to generate a new number.\n        if (collection.size > MAX_SAFE_INTEGER) {\n            throw new Error('Congratulations, you created a collection of unique numbers which uses all available integers!');\n        }\n\n        // Otherwise use the full scale of safely usable integers.\n        while (collection.has(nextNumber)) {\n            nextNumber = Math.floor(Math.random() * MAX_SAFE_INTEGER);\n        }\n\n        return cache(collection, nextNumber);\n    };\n};\n", "export {};\n//# sourceMappingURL=add-unique-number-factory.js.map", "export {};\n//# sourceMappingURL=add-unique-number-function.js.map", "export {};\n//# sourceMappingURL=cache-factory.js.map", "export {};\n//# sourceMappingURL=cache-function.js.map", "export {};\n//# sourceMappingURL=generate-unique-number-factory.js.map", "export {};\n//# sourceMappingURL=generate-unique-number-function.js.map", "export * from './add-unique-number-factory';\nexport * from './add-unique-number-function';\nexport * from './cache-factory';\nexport * from './cache-function';\nexport * from './generate-unique-number-factory';\nexport * from './generate-unique-number-function';\n", "import { createAddUniqueNumber } from './factories/add-unique-number';\nimport { createCache } from './factories/cache';\nimport { createGenerateUniqueNumber } from './factories/generate-unique-number';\n\n/*\n * @todo Explicitly referencing the barrel file seems to be necessary when enabling the\n * isolatedModules compiler option.\n */\nexport * from './types/index';\n\nconst LAST_NUMBER_WEAK_MAP = new WeakMap<Map<number, any> | Set<number>, number>();\n\nconst cache = createCache(LAST_NUMBER_WEAK_MAP);\nconst generateUniqueNumber = createGenerateUniqueNumber(cache, LAST_NUMBER_WEAK_MAP);\nconst addUniqueNumber = createAddUniqueNumber(generateUniqueNumber);\n\nexport { addUniqueNumber, generateUniqueNumber };\n", "export const isMessagePort = (sender: MessagePort | Worker): sender is MessagePort => {\n    return typeof (<MessagePort>sender).start === 'function';\n};\n", "export const PORT_MAP: WeakMap<MessagePort, number> = new WeakMap();\n", "import { IWorkerDefinition } from 'worker-factory';\nimport { IBrokerDefinition, IDefaultBrokerDefinition } from '../interfaces';\nimport { TBrokerImplementation } from '../types';\nimport { PORT_MAP } from './port-map';\n\nexport const extendBrokerImplementation = <T extends IBrokerDefinition, U extends IWorkerDefinition>(\n    partialBrokerImplementation: TBrokerImplementation<T, U>\n): TBrokerImplementation<T & IDefaultBrokerDefinition, U> =>\n    <TBrokerImplementation<T & IDefaultBrokerDefinition, U>>{\n        ...partialBrokerImplementation,\n        connect: ({ call }) => {\n            return async (): Promise<MessagePort> => {\n                const { port1, port2 } = new MessageChannel();\n\n                const portId = <number>await call('connect', { port: port1 }, [port1]);\n\n                PORT_MAP.set(port2, portId);\n\n                return port2;\n            };\n        },\n        disconnect: ({ call }) => {\n            return async (port: MessagePort): Promise<void> => {\n                const portId = PORT_MAP.get(port);\n\n                if (portId === undefined) {\n                    throw new Error('The given port is not connected.');\n                }\n\n                await call('disconnect', { portId });\n            };\n        },\n        isSupported: ({ call }) => {\n            return () => call('isSupported');\n        }\n    };\n", "export {};\n//# sourceMappingURL=broker-actions.js.map", "export {};\n//# sourceMappingURL=broker-definition.js.map", "export {};\n//# sourceMappingURL=default-broker-definition.js.map", "export {};\n//# sourceMappingURL=worker-event.js.map", "export * from './broker-actions';\nexport * from './broker-definition';\nexport * from './default-broker-definition';\nexport * from './worker-event';\n", "export {};\n//# sourceMappingURL=broker-implementation.js.map", "export * from './broker-implementation';\n", "import { generateUniqueNumber } from 'fast-unique-numbers';\nimport { IWorkerDefinition, IWorkerErrorMessage, IWorkerResultMessage } from 'worker-factory';\nimport { isMessagePort } from './guards/message-port';\nimport { extendBrokerImplementation } from './helpers/extend-broker-implementation';\nimport { IBrokerDefinition, IDefaultBrokerDefinition, IWorkerEvent } from './interfaces';\nimport { TBrokerImplementation } from './types';\n\n/*\n * @todo Explicitly referencing the barrel file seems to be necessary when enabling the\n * isolatedModules compiler option.\n */\nexport * from './interfaces/index';\nexport * from './types/index';\n\nconst ONGOING_REQUESTS = new WeakMap<MessagePort | Worker, Map<number, { reject: Function; resolve: Function }>>();\n\nconst createOrGetOngoingRequests = (sender: MessagePort | Worker): Map<number, { reject: Function; resolve: Function }> => {\n    if (ONGOING_REQUESTS.has(sender)) {\n        // @todo TypeScript needs to be convinced that has() works as expected.\n        return <Map<number, { reject: Function; resolve: Function }>>ONGOING_REQUESTS.get(sender);\n    }\n\n    const ongoingRequests: Map<number, { reject: Function; resolve: Function }> = new Map();\n\n    ONGOING_REQUESTS.set(sender, ongoingRequests);\n\n    return ongoingRequests;\n};\n\nexport const createBroker = <T extends IBrokerDefinition, U extends IWorkerDefinition>(\n    brokerImplementation: TBrokerImplementation<T, U>\n): ((sender: MessagePort | Worker) => T & IDefaultBrokerDefinition) => {\n    const fullBrokerImplementation = extendBrokerImplementation(brokerImplementation);\n\n    return (sender: MessagePort | Worker) => {\n        const ongoingRequests = createOrGetOngoingRequests(sender);\n\n        sender.addEventListener('message', <EventListener>(({ data: message }: IWorkerEvent) => {\n            const { id } = message;\n\n            if (id !== null && ongoingRequests.has(id)) {\n                const { reject, resolve } = <{ reject: Function; resolve: Function }>ongoingRequests.get(id);\n\n                ongoingRequests.delete(id);\n\n                if ((<IWorkerErrorMessage>message).error === undefined) {\n                    resolve((<IWorkerResultMessage>message).result);\n                } else {\n                    reject(new Error((<IWorkerErrorMessage>message).error.message));\n                }\n            }\n        }));\n\n        if (isMessagePort(sender)) {\n            sender.start();\n        }\n\n        const call = <V extends keyof U>(method: V, params: U[V]['params'] = null, transferables: U[V]['transferables'] = []) => {\n            return new Promise<U[V]['response']['result']>((resolve, reject) => {\n                const id = generateUniqueNumber(ongoingRequests);\n\n                ongoingRequests.set(id, { reject, resolve });\n\n                if (params === null) {\n                    sender.postMessage({ id, method }, <Transferable[]>transferables);\n                } else {\n                    sender.postMessage({ id, method, params }, <Transferable[]>transferables);\n                }\n            });\n        };\n        const notify = <V extends keyof U>(method: V, params: U[V]['params'], transferables: U[V]['transferables'] = []) => {\n            sender.postMessage({ id: null, method, params }, <Transferable[]>transferables);\n        };\n\n        let functions: object = {};\n\n        for (const [key, handler] of Object.entries(fullBrokerImplementation)) {\n            functions = { ...functions, [key]: handler({ call, notify }) };\n        }\n\n        return <T & IDefaultBrokerDefinition>{ ...functions };\n    };\n};\n", "export {};\n//# sourceMappingURL=media-encoder-host-broker-definition.js.map", "export * from './media-encoder-host-broker-definition';\n", "export {};\n//# sourceMappingURL=media-encoder-host-broker-loader.js.map", "export {};\n//# sourceMappingURL=media-encoder-host-broker-wrapper.js.map", "export * from './media-encoder-host-broker-loader';\nexport * from './media-encoder-host-broker-wrapper';\n", "import { createBroker } from 'broker-factory';\nimport { addUniqueNumber } from 'fast-unique-numbers';\nimport { TMediaEncoderHostWorkerDefinition } from 'media-encoder-host-worker';\nimport { IMediaEncoderHostBrokerDefinition } from './interfaces';\nimport { TMediaEncoderHostBrokerLoader, TMediaEncoderHostBrokerWrapper } from './types';\n\n/*\n * @todo Explicitly referencing the barrel file seems to be necessary when enabling the\n * isolatedModules compiler option.\n */\nexport * from './interfaces/index';\nexport * from './types/index';\n\nconst encoderIds: Set<number> = new Set();\n\nexport const wrap: TMediaEncoderHostBrokerWrapper = createBroker<IMediaEncoderHostBrokerDefinition, TMediaEncoderHostWorkerDefinition>({\n    encode: ({ call }) => {\n        return async (encoderId, timeslice) => {\n            const arrayBuffers = await call('encode', { encoderId, timeslice });\n\n            encoderIds.delete(encoderId);\n\n            return arrayBuffers;\n        };\n    },\n    instantiate: ({ call }) => {\n        return async (mimeType, sampleRate) => {\n            const encoderId = addUniqueNumber(encoderIds);\n            const port = await call('instantiate', { encoderId, mimeType, sampleRate });\n\n            return { encoderId, port };\n        };\n    },\n    register: ({ call }) => {\n        return (port) => {\n            return call('register', { port }, [port]);\n        };\n    }\n});\n\nexport const load: TMediaEncoderHostBrokerLoader = (url: string) => {\n    const worker = new Worker(url);\n\n    return wrap(worker);\n};\n", "// This is the minified and stringified code of the media-encoder-host-worker package.\nexport const worker = `(()=>{var e={455:function(e,t){!function(e){\"use strict\";var t=function(e){return function(t){var r=e(t);return t.add(r),r}},r=function(e){return function(t,r){return e.set(t,r),r}},n=void 0===Number.MAX_SAFE_INTEGER?9007199254740991:Number.MAX_SAFE_INTEGER,o=536870912,s=2*o,a=function(e,t){return function(r){var a=t.get(r),c=void 0===a?r.size:a<s?a+1:0;if(!r.has(c))return e(r,c);if(r.size<o){for(;r.has(c);)c=Math.floor(Math.random()*s);return e(r,c)}if(r.size>n)throw new Error(\"Congratulations, you created a collection of unique numbers which uses all available integers!\");for(;r.has(c);)c=Math.floor(Math.random()*n);return e(r,c)}},c=new WeakMap,i=r(c),l=a(i,c),u=t(l);e.addUniqueNumber=u,e.generateUniqueNumber=l}(t)}},t={};function r(n){var o=t[n];if(void 0!==o)return o.exports;var s=t[n]={exports:{}};return e[n].call(s.exports,s,s.exports,r),s.exports}(()=>{\"use strict\";const e=-32603,t=-32602,n=-32601,o=(e,t)=>Object.assign(new Error(e),{status:t}),s=t=>o('The handler of the method called \"'.concat(t,'\" returned an unexpected result.'),e),a=(t,r)=>async a=>{let{data:{id:c,method:i,params:l}}=a;const u=r[i];try{if(void 0===u)throw(e=>o('The requested method called \"'.concat(e,'\" is not supported.'),n))(i);const r=void 0===l?u():u(l);if(void 0===r)throw(t=>o('The handler of the method called \"'.concat(t,'\" returned no required result.'),e))(i);const a=r instanceof Promise?await r:r;if(null===c){if(void 0!==a.result)throw s(i)}else{if(void 0===a.result)throw s(i);const{result:e,transferables:r=[]}=a;t.postMessage({id:c,result:e},r)}}catch(e){const{message:r,status:n=-32603}=e;t.postMessage({error:{code:n,message:r},id:c})}};var c=r(455);const i=new Map,l=(e,r,n)=>({...r,connect:t=>{let{port:n}=t;n.start();const o=e(n,r),s=(0,c.generateUniqueNumber)(i);return i.set(s,(()=>{o(),n.close(),i.delete(s)})),{result:s}},disconnect:e=>{let{portId:r}=e;const n=i.get(r);if(void 0===n)throw(e=>o('The specified parameter called \"portId\" with the given value \"'.concat(e,'\" does not identify a port connected to this worker.'),t))(r);return n(),{result:null}},isSupported:async()=>{if(await new Promise((e=>{const t=new ArrayBuffer(0),{port1:r,port2:n}=new MessageChannel;r.onmessage=t=>{let{data:r}=t;return e(null!==r)},n.postMessage(t,[t])}))){const e=n();return{result:e instanceof Promise?await e:e}}return{result:!1}}}),u=function(e,t){const r=l(u,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:()=>!0),n=a(e,r);return e.addEventListener(\"message\",n),()=>e.removeEventListener(\"message\",n)},d=e=>{e.onmessage=null,e.close()},h=new WeakMap,f=new WeakMap,p=(e=>{const t=(r=e,{...r,connect:e=>{let{call:t}=e;return async()=>{const{port1:e,port2:r}=new MessageChannel,n=await t(\"connect\",{port:e},[e]);return h.set(r,n),r}},disconnect:e=>{let{call:t}=e;return async e=>{const r=h.get(e);if(void 0===r)throw new Error(\"The given port is not connected.\");await t(\"disconnect\",{portId:r})}},isSupported:e=>{let{call:t}=e;return()=>t(\"isSupported\")}});var r;return e=>{const r=(e=>{if(f.has(e))return f.get(e);const t=new Map;return f.set(e,t),t})(e);e.addEventListener(\"message\",(e=>{let{data:t}=e;const{id:n}=t;if(null!==n&&r.has(n)){const{reject:e,resolve:o}=r.get(n);r.delete(n),void 0===t.error?o(t.result):e(new Error(t.error.message))}})),(e=>\"function\"==typeof e.start)(e)&&e.start();const n=function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return new Promise(((s,a)=>{const i=(0,c.generateUniqueNumber)(r);r.set(i,{reject:a,resolve:s}),null===n?e.postMessage({id:i,method:t},o):e.postMessage({id:i,method:t,params:n},o)}))},o=function(t,r){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];e.postMessage({id:null,method:t,params:r},n)};let s={};for(const[e,r]of Object.entries(t))s={...s,[e]:r({call:n,notify:o})};return{...s}}})({characterize:e=>{let{call:t}=e;return()=>t(\"characterize\")},encode:e=>{let{call:t}=e;return(e,r)=>t(\"encode\",{recordingId:e,timeslice:r})},record:e=>{let{call:t}=e;return async(e,r,n)=>{await t(\"record\",{recordingId:e,sampleRate:r,typedArrays:n},n.map((e=>{let{buffer:t}=e;return t})))}}}),w=async(e,t)=>{const r=p(t),n=await r.characterize(),o=n.toString();if(e.has(o))throw new Error(\"There is already an encoder stored which handles exactly the same mime types.\");return e.set(o,[n,r]),n},m=new Map,g=(e=>t=>{const r=e.get(t);if(void 0===r)throw new Error(\"There was no instance of an encoder stored with the given id.\");return r})(m),v=((e,t)=>r=>{const n=t(r);return e.delete(r),n})(m,g),y=new Map,M=((e,t)=>r=>{const[n,o,s,a]=t(r);return s?new Promise((t=>{o.onmessage=s=>{let{data:c}=s;0===c.length?(e(o),t(n.encode(r,null))):n.record(r,a,c)}})):n.encode(r,null)})(d,v),E=(e=>t=>{for(const[r,n]of Array.from(e.values()))if(r.test(t))return n;throw new Error(\"There is no encoder registered which could handle the given mimeType.\")})(y),b=((e,t,r)=>(n,o,s)=>{if(t.has(n))throw new Error('There is already an encoder registered with an id called \"'.concat(n,'\".'));const a=r(o),{port1:c,port2:i}=new MessageChannel,l=[a,c,!0,s];return t.set(n,l),c.onmessage=t=>{let{data:r}=t;0===r.length?(e(c),l[2]=!1):a.record(n,s,r.map((e=>\"number\"==typeof e?new Float32Array(e):e)))},i})(d,m,E),T=(e=>(t,r)=>{const[n]=e(t);return n.encode(t,r)})(g);u(self,{encode:async e=>{let{encoderId:t,timeslice:r}=e;const n=null===r?await M(t):await T(t,r);return{result:n,transferables:n}},instantiate:e=>{let{encoderId:t,mimeType:r,sampleRate:n}=e;const o=b(t,r,n);return{result:o,transferables:[o]}},register:async e=>{let{port:t}=e;return{result:await w(y,t)}}})})()})();`; // tslint:disable-line:max-line-length\n", "import { load as loadWorker } from 'media-encoder-host-broker';\nimport { worker } from './worker/worker';\n\nconst blob: Blob = new Blob([worker], { type: 'application/javascript; charset=utf-8' });\n\nconst url: string = URL.createObjectURL(blob);\n\nconst mediaEncoderHost = loadWorker(url);\n\nexport const connect = mediaEncoderHost.connect;\n\nexport const disconnect = mediaEncoderHost.disconnect;\n\nexport const encode = mediaEncoderHost.encode;\n\nexport const instantiate = mediaEncoderHost.instantiate;\n\nexport const isSupported = mediaEncoderHost.isSupported;\n\nexport const register = mediaEncoderHost.register;\n\nURL.revokeObjectURL(url);\n", "import { IBlobEvent } from '../interfaces';\nimport { TBlobEventFactoryFactory } from '../types';\n\nexport const createBlobEventFactory: TBlobEventFactoryFactory = (nativeBlobEventConstructor) => {\n    return (type, blobEventInit) => {\n        // Bug #14: Safari does not yet support the BlobEvent.\n        if (nativeBlobEventConstructor === null) {\n            const { data, ...eventInit } = blobEventInit;\n            const fakeBlobEvent = <IBlobEvent>new Event(type, eventInit);\n\n            (<Omit<IBlobEvent, 'data'> & { -readonly [P in 'data']: IBlobEvent[P] }>fakeBlobEvent).data = data;\n\n            return fakeBlobEvent;\n        }\n\n        return new nativeBlobEventConstructor(type, blobEventInit);\n    };\n};\n", "import { TDecodeWebMChunkFactory } from '../types';\n\nexport const createDecodeWebMChunk: TDecodeWebMChunkFactory = (readElementContent, readElementType) => {\n    return (dataView, elementType, channelCount) => {\n        const contents: (readonly Float32Array[])[] = [];\n\n        let currentElementType = elementType;\n        let offset = 0;\n\n        while (offset < dataView.byteLength) {\n            if (currentElementType === null) {\n                const lengthAndType = readElementType(dataView, offset);\n\n                if (lengthAndType === null) {\n                    break;\n                }\n\n                const { length, type } = lengthAndType;\n\n                currentElementType = type;\n                offset += length;\n            } else {\n                const contentAndLength = readElementContent(dataView, offset, currentElementType, channelCount);\n\n                if (contentAndLength === null) {\n                    break;\n                }\n\n                const { content, length } = contentAndLength;\n\n                currentElementType = null;\n                offset += length;\n\n                if (content !== null) {\n                    contents.push(content);\n                }\n            }\n        }\n\n        return { contents, currentElementType, offset };\n    };\n};\n", "import { IEventTarget } from '../interfaces';\nimport { TEventHandler, TEventTargetConstructorFactory, TNativeEventTarget } from '../types';\n\nexport const createEventTargetConstructor: TEventTargetConstructorFactory = (createEventTarget, wrapEventListener) => {\n    return class EventTarget<EventMap extends Record<string, Event>> implements IEventTarget<EventMap> {\n        private _listeners: WeakMap<EventListenerOrEventListenerObject, EventListenerOrEventListenerObject>;\n\n        private _nativeEventTarget: TNativeEventTarget;\n\n        constructor(nativeEventTarget: null | TNativeEventTarget = null) {\n            this._listeners = new WeakMap();\n            this._nativeEventTarget = nativeEventTarget === null ? createEventTarget() : nativeEventTarget;\n        }\n\n        public addEventListener(\n            type: string,\n            listener: null | TEventHandler<this> | EventListenerOrEventListenerObject,\n            options?: boolean | AddEventListenerOptions\n        ): void {\n            if (listener !== null) {\n                let wrappedEventListener = this._listeners.get(listener);\n\n                if (wrappedEventListener === undefined) {\n                    wrappedEventListener = wrapEventListener(this, listener);\n\n                    if (typeof listener === 'function') {\n                        this._listeners.set(listener, wrappedEventListener);\n                    }\n                }\n\n                this._nativeEventTarget.addEventListener(type, wrappedEventListener, options);\n            }\n        }\n\n        public dispatchEvent(event: Event): boolean {\n            return this._nativeEventTarget.dispatchEvent(event);\n        }\n\n        public removeEventListener(\n            type: string,\n            listener: null | TEventHandler<this> | EventListenerOrEventListenerObject,\n            options?: boolean | EventListenerOptions\n        ): void {\n            const wrappedEventListener = listener === null ? undefined : this._listeners.get(listener);\n\n            this._nativeEventTarget.removeEventListener(type, wrappedEventListener === undefined ? null : wrappedEventListener, options);\n        }\n    };\n};\n", "import { TEventTargetFactoryFactory } from '../types';\n\nexport const createEventTargetFactory: TEventTargetFactoryFactory = (window) => {\n    return () => {\n        if (window === null) {\n            throw new Error('A native EventTarget could not be created.');\n        }\n\n        return window.document.createElement('p');\n    };\n};\n", "import { TInvalidModificationErrorFactory } from '../types';\n\nexport const createInvalidModificationError: TInvalidModificationErrorFactory = (message = '') => {\n    try {\n        return new DOMException(message, 'InvalidModificationError');\n    } catch (err) {\n        // @todo Edge is the only browser that does not yet allow to construct a DOMException.\n        err.code = 13;\n        err.message = message;\n        err.name = 'InvalidModificationError';\n\n        return err;\n    }\n};\n", "import { TInvalidStateErrorFactory } from '../types';\n\nexport const createInvalidStateError: TInvalidStateErrorFactory = () => {\n    try {\n        return new DOMException('', 'InvalidStateError');\n    } catch (err) {\n        // Bug #122: Edge is the only browser that does not yet allow to construct a DOMException.\n        err.code = 11;\n        err.name = 'InvalidStateError';\n\n        return err;\n    }\n};\n", "import { TIsSupportedPromiseFactory } from '../types';\n\nexport const createIsSupportedPromise: TIsSupportedPromiseFactory = (window) => {\n    if (\n        window !== null &&\n        window.MediaStream !== undefined &&\n        /*\n         * Bug #10: An early experimental implemenation in Safari did not provide the isTypeSupported() function.\n         */\n        (window.MediaRecorder === undefined || window.MediaRecorder.isTypeSupported !== undefined)\n    ) {\n        /*\n         * Bug #5: Up until v70 Firefox did emit a blob of type video/webm when asked to encode a MediaStream with a video track into an\n         * audio codec.\n         */\n        return new Promise((resolve) => {\n            // Bug #11 Safari does not yet support the MediaRecorder but that isn't tested here.\n            if (window.MediaRecorder === undefined) {\n                return resolve(true);\n            }\n\n            // @todo captureStream() is not defined yet.\n            const canvasElement: HTMLCanvasElement & { captureStream?(): MediaStream } = document.createElement('canvas');\n\n            // @todo https://bugzilla.mozilla.org/show_bug.cgi?id=1388974\n            canvasElement.getContext('2d');\n\n            if (typeof canvasElement.captureStream !== 'function') {\n                return resolve(false);\n            }\n\n            const mediaStream = canvasElement.captureStream();\n            const mimeType = 'audio/webm';\n\n            try {\n                const mediaRecorder = new window.MediaRecorder(mediaStream, { mimeType });\n\n                mediaRecorder.addEventListener('dataavailable', ({ data }) => resolve(data.type === mimeType));\n                mediaRecorder.start();\n\n                setTimeout(() => mediaRecorder.stop(), 10);\n            } catch (err) {\n                resolve(err.name === 'NotSupportedError');\n            }\n        });\n    }\n\n    return Promise.resolve(false);\n};\n", "import { IMediaRecorder, IMediaRecorderEventMap, IMediaRecorderOptions } from '../interfaces';\nimport {\n    TBlobEventHandler,\n    TErrorEventHandler,\n    TEventHandler,\n    TMediaRecorderConstructorFactory,\n    TNativeEventTarget,\n    TRecordingState\n} from '../types';\n\nexport const createMediaRecorderConstructor: TMediaRecorderConstructorFactory = (\n    createNativeMediaRecorder,\n    createNotSupportedError,\n    createWebAudioMediaRecorder,\n    createWebmPcmMediaRecorder,\n    encoderRegexes,\n    eventTargetConstructor,\n    nativeMediaRecorderConstructor\n) => {\n    return class MediaRecorder extends eventTargetConstructor<IMediaRecorderEventMap> implements IMediaRecorder {\n        private _internalMediaRecorder: Omit<\n            IMediaRecorder,\n            'ondataavailable' | 'onerror' | 'onpause' | 'onresume' | 'onstart' | 'onstop' | keyof TNativeEventTarget\n        >;\n\n        private _ondataavailable: null | [TBlobEventHandler<this>, TBlobEventHandler<this>];\n\n        private _onerror: null | [TErrorEventHandler<this>, TErrorEventHandler<this>];\n\n        private _onpause: null | [TEventHandler<this>, TEventHandler<this>];\n\n        private _onresume: null | [TEventHandler<this>, TEventHandler<this>];\n\n        private _onstart: null | [TEventHandler<this>, TEventHandler<this>];\n\n        private _onstop: null | [TEventHandler<this>, TEventHandler<this>];\n\n        constructor(stream: MediaStream, options: IMediaRecorderOptions = {}) {\n            const { mimeType } = options;\n\n            if (\n                nativeMediaRecorderConstructor !== null &&\n                // Bug #10: Safari does not yet implement the isTypeSupported() method.\n                (mimeType === undefined ||\n                    (nativeMediaRecorderConstructor.isTypeSupported !== undefined &&\n                        nativeMediaRecorderConstructor.isTypeSupported(mimeType)))\n            ) {\n                const internalMediaRecorder = createNativeMediaRecorder(nativeMediaRecorderConstructor, stream, options);\n\n                super(internalMediaRecorder);\n\n                this._internalMediaRecorder = internalMediaRecorder;\n            } else if (mimeType !== undefined && encoderRegexes.some((regex) => regex.test(mimeType))) {\n                super();\n\n                // Bug #10: Safari does not yet implement the isTypeSupported() method.\n                if (\n                    nativeMediaRecorderConstructor !== null &&\n                    nativeMediaRecorderConstructor.isTypeSupported !== undefined &&\n                    nativeMediaRecorderConstructor.isTypeSupported('audio/webm;codecs=pcm')\n                ) {\n                    this._internalMediaRecorder = createWebmPcmMediaRecorder(this, nativeMediaRecorderConstructor, stream, mimeType);\n                } else {\n                    this._internalMediaRecorder = createWebAudioMediaRecorder(this, stream, mimeType);\n                }\n            } else {\n                // This is creating a native MediaRecorder just to provoke it to throw an error.\n                if (nativeMediaRecorderConstructor !== null) {\n                    createNativeMediaRecorder(nativeMediaRecorderConstructor, stream, options);\n                }\n\n                throw createNotSupportedError();\n            }\n\n            this._ondataavailable = null;\n            this._onerror = null;\n            this._onpause = null;\n            this._onresume = null;\n            this._onstart = null;\n            this._onstop = null;\n        }\n\n        get mimeType(): string {\n            return this._internalMediaRecorder.mimeType;\n        }\n\n        get ondataavailable(): null | TBlobEventHandler<this> {\n            return this._ondataavailable === null ? this._ondataavailable : this._ondataavailable[0];\n        }\n\n        set ondataavailable(value) {\n            if (this._ondataavailable !== null) {\n                this.removeEventListener('dataavailable', this._ondataavailable[1]);\n            }\n\n            if (typeof value === 'function') {\n                const boundListener = value.bind(this);\n\n                this.addEventListener('dataavailable', boundListener);\n\n                this._ondataavailable = [value, boundListener];\n            } else {\n                this._ondataavailable = null;\n            }\n        }\n\n        get onerror(): null | TErrorEventHandler<this> {\n            return this._onerror === null ? this._onerror : this._onerror[0];\n        }\n\n        set onerror(value) {\n            if (this._onerror !== null) {\n                this.removeEventListener('error', this._onerror[1]);\n            }\n\n            if (typeof value === 'function') {\n                const boundListener = value.bind(this);\n\n                this.addEventListener('error', boundListener);\n\n                this._onerror = [value, boundListener];\n            } else {\n                this._onerror = null;\n            }\n        }\n\n        get onpause(): null | TEventHandler<this> {\n            return this._onpause === null ? this._onpause : this._onpause[0];\n        }\n\n        set onpause(value) {\n            if (this._onpause !== null) {\n                this.removeEventListener('pause', this._onpause[1]);\n            }\n\n            if (typeof value === 'function') {\n                const boundListener = value.bind(this);\n\n                this.addEventListener('pause', boundListener);\n\n                this._onpause = [value, boundListener];\n            } else {\n                this._onpause = null;\n            }\n        }\n\n        get onresume(): null | TEventHandler<this> {\n            return this._onresume === null ? this._onresume : this._onresume[0];\n        }\n\n        set onresume(value) {\n            if (this._onresume !== null) {\n                this.removeEventListener('resume', this._onresume[1]);\n            }\n\n            if (typeof value === 'function') {\n                const boundListener = value.bind(this);\n\n                this.addEventListener('resume', boundListener);\n\n                this._onresume = [value, boundListener];\n            } else {\n                this._onresume = null;\n            }\n        }\n\n        get onstart(): null | TEventHandler<this> {\n            return this._onstart === null ? this._onstart : this._onstart[0];\n        }\n\n        set onstart(value) {\n            if (this._onstart !== null) {\n                this.removeEventListener('start', this._onstart[1]);\n            }\n\n            if (typeof value === 'function') {\n                const boundListener = value.bind(this);\n\n                this.addEventListener('start', boundListener);\n\n                this._onstart = [value, boundListener];\n            } else {\n                this._onstart = null;\n            }\n        }\n\n        get onstop(): null | TEventHandler<this> {\n            return this._onstop === null ? this._onstop : this._onstop[0];\n        }\n\n        set onstop(value) {\n            if (this._onstop !== null) {\n                this.removeEventListener('stop', this._onstop[1]);\n            }\n\n            if (typeof value === 'function') {\n                const boundListener = value.bind(this);\n\n                this.addEventListener('stop', boundListener);\n\n                this._onstop = [value, boundListener];\n            } else {\n                this._onstop = null;\n            }\n        }\n\n        get state(): TRecordingState {\n            return this._internalMediaRecorder.state;\n        }\n\n        public pause(): void {\n            return this._internalMediaRecorder.pause();\n        }\n\n        public resume(): void {\n            return this._internalMediaRecorder.resume();\n        }\n\n        public start(timeslice?: number): void {\n            return this._internalMediaRecorder.start(timeslice);\n        }\n\n        public stop(): void {\n            return this._internalMediaRecorder.stop();\n        }\n\n        public static isTypeSupported(mimeType: string): boolean {\n            return (\n                (nativeMediaRecorderConstructor !== null &&\n                    // Bug #10: Safari does not yet implement the isTypeSupported() method.\n                    nativeMediaRecorderConstructor.isTypeSupported !== undefined &&\n                    nativeMediaRecorderConstructor.isTypeSupported(mimeType)) ||\n                encoderRegexes.some((regex) => regex.test(mimeType))\n            );\n        }\n    };\n};\n", "import { TNativeBlobEventConstructorFactory } from '../types';\n\nexport const createNativeBlobEventConstructor: TNativeBlobEventConstructorFactory = (window) => {\n    if (window !== null && window.BlobEvent !== undefined) {\n        return window.BlobEvent;\n    }\n\n    return null;\n};\n", "import { IBlobEvent, IMediaRecorder } from '../interfaces';\nimport { TEventHandler, TNativeMediaRecorderFactoryFactory } from '../types';\n\nexport const createNativeMediaRecorderFactory: TNativeMediaRecorderFactoryFactory = (\n    createInvalidModificationError,\n    createNotSupportedError\n) => {\n    return (nativeMediaRecorderConstructor, stream, mediaRecorderOptions) => {\n        const bufferedBlobs: Blob[] = [];\n        const dataAvailableListeners = new WeakMap<EventListener, (this: IMediaRecorder, event: IBlobEvent) => void>();\n        const errorListeners = new WeakMap<EventListener, (this: IMediaRecorder, event: ErrorEvent) => void>();\n        const nativeMediaRecorder = new nativeMediaRecorderConstructor(stream, mediaRecorderOptions);\n        const stopListeners = new WeakMap<EventListener, (this: IMediaRecorder, event: Event) => void>();\n\n        let isActive = true;\n\n        nativeMediaRecorder.addEventListener = ((addEventListener) => {\n            return (\n                type: string,\n                listener: null | TEventHandler<IMediaRecorder> | EventListenerOrEventListenerObject,\n                options?: boolean | AddEventListenerOptions\n            ) => {\n                let patchedEventListener = listener;\n\n                if (typeof listener === 'function') {\n                    if (type === 'dataavailable') {\n                        // Bug #7 & #8: Chrome fires the dataavailable and stop events before it fires the error event.\n                        patchedEventListener = (event: IBlobEvent) => {\n                            setTimeout(() => {\n                                if (isActive && nativeMediaRecorder.state === 'inactive') {\n                                    bufferedBlobs.push(event.data);\n                                } else {\n                                    if (bufferedBlobs.length > 0) {\n                                        const blob = event.data;\n\n                                        Object.defineProperty(event, 'data', {\n                                            value: new Blob([...bufferedBlobs, blob], { type: blob.type })\n                                        });\n\n                                        bufferedBlobs.length = 0;\n                                    }\n\n                                    listener.call(nativeMediaRecorder, event);\n                                }\n                            });\n                        };\n\n                        dataAvailableListeners.set(listener, patchedEventListener);\n                    } else if (type === 'error') {\n                        // Bug #12 & #13: Firefox fires a regular event with an error property.\n                        patchedEventListener = (event: ErrorEvent | (Event & { error?: Error })) => {\n                            // Bug #3 & #4: Chrome throws an error event without any error.\n                            if (event.error === undefined) {\n                                listener.call(nativeMediaRecorder, new ErrorEvent('error', { error: createInvalidModificationError() }));\n                                // Bug #1 & #2: Firefox throws an error event with an UnknownError.\n                            } else if (event.error.name === 'UnknownError') {\n                                const message = event.error.message;\n\n                                listener.call(\n                                    nativeMediaRecorder,\n                                    new ErrorEvent('error', { error: createInvalidModificationError(message) })\n                                );\n                            } else if (event instanceof ErrorEvent) {\n                                listener.call(nativeMediaRecorder, event);\n                            } else {\n                                listener.call(nativeMediaRecorder, new ErrorEvent('error', { error: event.error }));\n                            }\n                        };\n\n                        errorListeners.set(listener, patchedEventListener);\n                    } else if (type === 'stop') {\n                        // Bug #7 & #8: Chrome fires the dataavailable and stop events before it fires the error event.\n                        patchedEventListener = (event: Event) => {\n                            isActive = false;\n\n                            setTimeout(() => listener.call(nativeMediaRecorder, event));\n                        };\n\n                        stopListeners.set(listener, patchedEventListener);\n                    }\n                }\n\n                return addEventListener.call(nativeMediaRecorder, type, patchedEventListener, options);\n            };\n        })(nativeMediaRecorder.addEventListener);\n\n        nativeMediaRecorder.dispatchEvent = ((dispatchEvent) => {\n            // Bug #7 & #8: Chrome fires the dataavailable and stop events before it fires the error event.\n            return (event: Event) => {\n                let wasActive: boolean;\n\n                setTimeout(() => {\n                    wasActive = isActive;\n                    isActive = false;\n                });\n\n                const returnValue = dispatchEvent.call(nativeMediaRecorder, event);\n\n                setTimeout(() => (isActive = wasActive));\n\n                return returnValue;\n            };\n        })(nativeMediaRecorder.dispatchEvent);\n\n        nativeMediaRecorder.removeEventListener = ((removeEventListener) => {\n            return (\n                type: string,\n                listener: null | TEventHandler<IMediaRecorder> | EventListenerOrEventListenerObject,\n                options?: boolean | EventListenerOptions\n            ) => {\n                let patchedEventListener = listener;\n\n                if (typeof listener === 'function') {\n                    if (type === 'dataavailable') {\n                        const dataAvailableListener = dataAvailableListeners.get(listener);\n\n                        if (dataAvailableListener !== undefined) {\n                            patchedEventListener = dataAvailableListener;\n                        }\n                    } else if (type === 'error') {\n                        const errorListener = errorListeners.get(listener);\n\n                        if (errorListener !== undefined) {\n                            patchedEventListener = errorListener;\n                        }\n                    } else if (type === 'stop') {\n                        const stopListener = stopListeners.get(listener);\n\n                        if (stopListener !== undefined) {\n                            patchedEventListener = stopListener;\n                        }\n                    }\n                }\n\n                return removeEventListener.call(nativeMediaRecorder, type, patchedEventListener, options);\n            };\n        })(nativeMediaRecorder.removeEventListener);\n\n        nativeMediaRecorder.start = ((start) => {\n            return (timeslice?: number) => {\n                /*\n                 * Bug #6: Chrome will emit a blob without any data when asked to encode a MediaStream with a video track into an audio\n                 * codec.\n                 */\n                if (\n                    mediaRecorderOptions.mimeType !== undefined &&\n                    mediaRecorderOptions.mimeType.startsWith('audio/') &&\n                    stream.getVideoTracks().length > 0\n                ) {\n                    throw createNotSupportedError();\n                }\n\n                isActive = timeslice !== undefined;\n\n                return timeslice === undefined ? start.call(nativeMediaRecorder) : start.call(nativeMediaRecorder, timeslice);\n            };\n        })(nativeMediaRecorder.start);\n\n        return nativeMediaRecorder;\n    };\n};\n", "import { TNativeMediaRecorderConstructorFactory } from '../types';\n\nexport const createNativeMediaRecorderConstructor: TNativeMediaRecorderConstructorFactory = (window) => {\n    if (window === null) {\n        return null;\n    }\n\n    return window.MediaRecorder === undefined ? null : window.MediaRecorder;\n};\n", "import { TNotSupportedErrorFactory } from '../types';\n\nexport const createNotSupportedError: TNotSupportedErrorFactory = () => {\n    try {\n        return new DOMException('', 'NotSupportedError');\n    } catch (err) {\n        // @todo Edge is the only browser that does not yet allow to construct a DOMException.\n        err.code = 9;\n        err.name = 'NotSupportedError';\n\n        return err;\n    }\n};\n", "import { TReadElementContentFactory } from '../types';\n\nexport const createReadElementContent: TReadElementContentFactory = (readVariableSizeInteger) => {\n    return (dataView, offset, type, channelCount = 2) => {\n        const lengthAndValue = readVariableSizeInteger(dataView, offset);\n\n        if (lengthAndValue === null) {\n            return lengthAndValue;\n        }\n\n        const { length, value } = lengthAndValue;\n\n        if (type === 'master') {\n            return { content: null, length };\n        }\n\n        if (offset + length + value > dataView.byteLength) {\n            return null;\n        }\n\n        if (type === 'binary') {\n            const numberOfSamples = (value / Float32Array.BYTES_PER_ELEMENT - 1) / channelCount;\n            const content = Array.from({ length: channelCount }, () => new Float32Array(numberOfSamples));\n\n            for (let i = 0; i < numberOfSamples; i += 1) {\n                const elementOffset = i * channelCount + 1;\n\n                for (let j = 0; j < channelCount; j += 1) {\n                    content[j][i] = dataView.getFloat32(offset + length + (elementOffset + j) * Float32Array.BYTES_PER_ELEMENT, true);\n                }\n            }\n\n            return { content, length: length + value };\n        }\n\n        return { content: null, length: length + value };\n    };\n};\n", "import { TReadElementTypeFactory } from '../types';\n\nexport const createReadElementType: TReadElementTypeFactory = (readVariableSizeInteger) => {\n    return (dataView, offset) => {\n        const lengthAndValue = readVariableSizeInteger(dataView, offset);\n\n        if (lengthAndValue === null) {\n            return lengthAndValue;\n        }\n\n        const { length, value } = lengthAndValue;\n\n        if (value === 35) {\n            return { length, type: 'binary' };\n        }\n\n        if (\n            value === 46 ||\n            value === 97 ||\n            value === 88713574 ||\n            value === 106212971 ||\n            value === 139690087 ||\n            value === 172351395 ||\n            value === 256095861\n        ) {\n            return { length, type: 'master' };\n        }\n\n        return { length, type: 'unknown' };\n    };\n};\n", "import { TReadVariableSizeIntegerFactory } from '../types';\n\nexport const createReadVariableSizeInteger: TReadVariableSizeIntegerFactory = (readVariableSizeIntegerLength) => {\n    return (dataView, offset) => {\n        const length = readVariableSizeIntegerLength(dataView, offset);\n\n        if (length === null) {\n            return length;\n        }\n\n        const firstDataByteOffset = offset + Math.floor((length - 1) / 8);\n\n        if (firstDataByteOffset + length > dataView.byteLength) {\n            return null;\n        }\n\n        const firstDataByte = dataView.getUint8(firstDataByteOffset);\n\n        let value = firstDataByte & ((1 << (8 - (length % 8))) - 1); // tslint:disable-line:no-bitwise\n\n        for (let i = 1; i < length; i += 1) {\n            value = (value << 8) + dataView.getUint8(firstDataByteOffset + i); // tslint:disable-line:no-bitwise\n        }\n\n        return { length, value };\n    };\n};\n", "import { TAddUniqueNumberFactory } from '../types';\n\nexport const createAddUniqueNumber: TAddUniqueNumberFactory = (generateUniqueNumber) => {\n    return (set) => {\n        const number = generateUniqueNumber(set);\n\n        set.add(number);\n\n        return number;\n    };\n};\n", "import { TCacheFactory } from '../types';\n\nexport const createCache: TCacheFactory = (lastNumberWeakMap) => {\n    return (collection, nextNumber) => {\n        lastNumberWeakMap.set(collection, nextNumber);\n\n        return nextNumber;\n    };\n};\n", "import { TGenerateUniqueNumberFactory } from '../types';\n\n/*\n * The value of the constant Number.MAX_SAFE_INTEGER equals (2 ** 53 - 1) but it\n * is fairly new.\n */\nconst MAX_SAFE_INTEGER = Number.MAX_SAFE_INTEGER === undefined ? 9007199254740991 : Number.MAX_SAFE_INTEGER;\nconst TWO_TO_THE_POWER_OF_TWENTY_NINE = 536870912;\nconst TWO_TO_THE_POWER_OF_THIRTY = TWO_TO_THE_POWER_OF_TWENTY_NINE * 2;\n\nexport const createGenerateUniqueNumber: TGenerateUniqueNumberFactory = (cache, lastNumberWeakMap) => {\n    return (collection) => {\n        const lastNumber = lastNumberWeakMap.get(collection);\n\n        /*\n         * Let's try the cheapest algorithm first. It might fail to produce a new\n         * number, but it is so cheap that it is okay to take the risk. Just\n         * increase the last number by one or reset it to 0 if we reached the upper\n         * bound of SMIs (which stands for small integers). When the last number is\n         * unknown it is assumed that the collection contains zero based consecutive\n         * numbers.\n         */\n        let nextNumber = lastNumber === undefined ? collection.size : lastNumber < TWO_TO_THE_POWER_OF_THIRTY ? lastNumber + 1 : 0;\n\n        if (!collection.has(nextNumber)) {\n            return cache(collection, nextNumber);\n        }\n\n        /*\n         * If there are less than half of 2 ** 30 numbers stored in the collection,\n         * the chance to generate a new random number in the range from 0 to 2 ** 30\n         * is at least 50%. It's benifitial to use only SMIs because they perform\n         * much better in any environment based on V8.\n         */\n        if (collection.size < TWO_TO_THE_POWER_OF_TWENTY_NINE) {\n            while (collection.has(nextNumber)) {\n                nextNumber = Math.floor(Math.random() * TWO_TO_THE_POWER_OF_THIRTY);\n            }\n\n            return cache(collection, nextNumber);\n        }\n\n        // Quickly check if there is a theoretical chance to generate a new number.\n        if (collection.size > MAX_SAFE_INTEGER) {\n            throw new Error('Congratulations, you created a collection of unique numbers which uses all available integers!');\n        }\n\n        // Otherwise use the full scale of safely usable integers.\n        while (collection.has(nextNumber)) {\n            nextNumber = Math.floor(Math.random() * MAX_SAFE_INTEGER);\n        }\n\n        return cache(collection, nextNumber);\n    };\n};\n", "export {};\n//# sourceMappingURL=add-unique-number-factory.js.map", "export {};\n//# sourceMappingURL=add-unique-number-function.js.map", "export {};\n//# sourceMappingURL=cache-factory.js.map", "export {};\n//# sourceMappingURL=cache-function.js.map", "export {};\n//# sourceMappingURL=generate-unique-number-factory.js.map", "export {};\n//# sourceMappingURL=generate-unique-number-function.js.map", "export * from './add-unique-number-factory';\nexport * from './add-unique-number-function';\nexport * from './cache-factory';\nexport * from './cache-function';\nexport * from './generate-unique-number-factory';\nexport * from './generate-unique-number-function';\n", "import { createAddUniqueNumber } from './factories/add-unique-number';\nimport { createCache } from './factories/cache';\nimport { createGenerateUniqueNumber } from './factories/generate-unique-number';\n\n/*\n * @todo Explicitly referencing the barrel file seems to be necessary when enabling the\n * isolatedModules compiler option.\n */\nexport * from './types/index';\n\nconst LAST_NUMBER_WEAK_MAP = new WeakMap<Map<number, any> | Set<number>, number>();\n\nconst cache = createCache(LAST_NUMBER_WEAK_MAP);\nconst generateUniqueNumber = createGenerateUniqueNumber(cache, LAST_NUMBER_WEAK_MAP);\nconst addUniqueNumber = createAddUniqueNumber(generateUniqueNumber);\n\nexport { addUniqueNumber, generateUniqueNumber };\n", "/**\n * @license Use of this source code is governed by an MIT-style license that\n * can be found in the LICENSE file at https://github.com/cartant/rxjs-interop\n */\n\ndeclare global {\n  interface SymbolConstructor {\n    readonly observable: symbol;\n  }\n}\n\nexport const observable = Symbol.observable || \"@@observable\";\n", "/**\n * @license Use of this source code is governed by an MIT-style license that\n * can be found in the LICENSE file at https://github.com/cartant/rxjs-interop\n */\n\nimport { observable } from \"./symbols\";\nimport { InteropObservable } from \"./types\";\n\nexport function patch<T extends InteropObservable<any>>(instance: T): T;\nexport function patch<T extends new (...args: any[]) => InteropObservable<any>>(\n  constructor: T\n): T;\nexport function patch(\n  arg: InteropObservable<any> | (new (...args: any[]) => InteropObservable<any>)\n): InteropObservable<any> | (new (...args: any[]) => InteropObservable<any>) {\n  if (!Symbol.observable) {\n    if (\n      typeof arg === \"function\" &&\n      arg.prototype &&\n      arg.prototype[Symbol.observable]\n    ) {\n      (arg.prototype as any)[observable] = arg.prototype[Symbol.observable];\n      delete arg.prototype[Symbol.observable];\n    } else {\n      (arg as any)[observable] = arg[Symbol.observable];\n      delete arg[Symbol.observable];\n    }\n  }\n  return arg;\n}\n", "/**\n * @license Use of this source code is governed by an MIT-style license that\n * can be found in the LICENSE file at https://github.com/cartant/rxjs-interop\n */\n\nimport { Observer, PartialObserver } from \"./types\";\n\nconst noop = () => {};\nconst rethrow = (error: unknown) => {\n  /* eslint-disable-next-line etc/throw-error */\n  throw error;\n};\n\nexport function toObserver<T>(observer?: PartialObserver<T>): Observer<T> {\n  if (observer) {\n    if (observer.next && observer.error && observer.complete) {\n      return observer as Observer<T>;\n    }\n    return {\n      complete: (observer.complete ?? noop).bind(observer),\n      error: (observer.error ?? rethrow).bind(observer),\n      next: (observer.next ?? noop).bind(observer),\n    };\n  }\n  return {\n    complete: noop,\n    error: rethrow,\n    next: noop,\n  };\n}\n", "export {};\r\n//# sourceMappingURL=types.js.map", "/**\n * @license Use of this source code is governed by an MIT-style license that\n * can be found in the LICENSE file at https://github.com/cartant/rxjs-interop\n */\n\nexport * from \"./patch\";\nexport * from \"./symbols\";\nexport * from \"./to-observer\";\nexport * from \"./types\";\n", "import { TAnimationFrameFactory } from '../types';\n\nexport const createAnimationFrame: TAnimationFrameFactory = (emitNotSupportedError, window, wrapSubscribeFunction) => {\n    return () =>\n        wrapSubscribeFunction((observer) => {\n            if (window === null || window.cancelAnimationFrame === undefined || window.requestAnimationFrame === undefined) {\n                return emitNotSupportedError(observer);\n            }\n\n            let animationFrameHandle = window.requestAnimationFrame(function animationFrameCallback(timestamp): void {\n                animationFrameHandle = window.requestAnimationFrame(animationFrameCallback);\n\n                observer.next(timestamp);\n            });\n\n            return () => window.cancelAnimationFrame(animationFrameHandle);\n        });\n};\n", "import { TSubscribableThing } from '../types';\nimport type { createMapSubscribableThing } from './map-subscribable-thing';\nimport type { createMutations } from './mutations';\nimport type { createPrependSubscribableThing } from './prepend-subscribable-thing';\n\nexport const createAttribute = (\n    mapSubscribableThing: ReturnType<typeof createMapSubscribableThing>,\n    mutations: ReturnType<typeof createMutations>,\n    prependSubscribableThing: ReturnType<typeof createPrependSubscribableThing>\n) => {\n    return (htmlElement: HTMLElement, name: string): TSubscribableThing<null | string> => {\n        const getAttribute = () => htmlElement.getAttribute(name);\n\n        return prependSubscribableThing(\n            mapSubscribableThing(\n                mutations(htmlElement, {\n                    attributeFilter: [name],\n                    childList: false,\n                    subtree: false\n                }),\n                () => getAttribute()\n            ),\n            getAttribute()\n        );\n    };\n};\n", "import { TEmitNotSupportedErrorFunction, TSubscribableThing, TWindow, TWrapSubscribeFunctionFunction } from '../types';\n\nexport const createGeolocation = (\n    emitNotSupportedError: TEmitNotSupportedErrorFunction,\n    window: null | TWindow,\n    wrapSubscribeFunction: TWrapSubscribeFunctionFunction\n) => {\n    return (options?: PositionOptions): TSubscribableThing<GeolocationPosition> =>\n        wrapSubscribeFunction((observer) => {\n            if (\n                window === null ||\n                window.navigator === undefined ||\n                window.navigator.geolocation === undefined ||\n                window.navigator.geolocation.clearWatch === undefined ||\n                window.navigator.geolocation.watchPosition === undefined\n            ) {\n                return emitNotSupportedError(observer);\n            }\n\n            const watchId = window.navigator.geolocation.watchPosition(\n                (position) => observer.next(position),\n                (err) => observer.error(err),\n                options\n            );\n\n            return () => window.navigator.geolocation.clearWatch(watchId);\n        });\n};\n", "import { TIntersectionsFactory } from '../types';\n\nexport const createIntersections: TIntersectionsFactory = (emitNotSupportedError, window, wrapSubscribeFunction) => {\n    return (htmlElement, options) =>\n        wrapSubscribeFunction((observer) => {\n            if (window === null || window.IntersectionObserver === undefined) {\n                return emitNotSupportedError(observer);\n            }\n\n            const intersectionObserverObserver = new window.IntersectionObserver((entries) => observer.next(entries), options);\n\n            try {\n                intersectionObserverObserver.observe(htmlElement);\n            } catch (err) {\n                observer.error(err);\n            }\n\n            return () => intersectionObserverObserver.disconnect();\n        });\n};\n", "import { TSubscribableThing, TWrapSubscribeFunctionFunction } from '../types';\n\nexport const createMapSubscribableThing =\n    (wrapSubscribeFunction: TWrapSubscribeFunctionFunction) =>\n    <TValue, TMappedValue>(\n        subscribableThing: TSubscribableThing<TValue>,\n        map: (value: TValue) => TMappedValue\n    ): TSubscribableThing<TMappedValue> =>\n        wrapSubscribeFunction((observer) => subscribableThing({ ...observer, next: (value) => observer.next(map(value)) }));\n", "import { TMediaDevicesFactory } from '../types';\n\nexport const createMediaDevices: TMediaDevicesFactory = (emitNotSupportedError, window, wrapSubscribeFunction) => {\n    return () =>\n        wrapSubscribeFunction((observer) => {\n            if (\n                window === null ||\n                window.navigator === undefined ||\n                window.navigator.mediaDevices === undefined ||\n                window.navigator.mediaDevices.enumerateDevices === undefined\n            ) {\n                return emitNotSupportedError(observer);\n            }\n\n            let isActive = true;\n\n            const enumerateDevices = () => {\n                window.navigator.mediaDevices.enumerateDevices().then(\n                    (mediaDevices) => {\n                        if (isActive) {\n                            observer.next(mediaDevices);\n                        }\n                    },\n                    (err) => {\n                        if (isActive) {\n                            unsubscribe();\n\n                            observer.error(err);\n                        }\n                    }\n                );\n            };\n            const unsubscribe = () => {\n                isActive = false;\n                window.navigator.mediaDevices.removeEventListener('devicechange', enumerateDevices);\n            };\n\n            enumerateDevices();\n            window.navigator.mediaDevices.addEventListener('devicechange', enumerateDevices);\n\n            return unsubscribe;\n        });\n};\n", "import { TMediaQueryMatchFactory } from '../types';\n\nexport const createMediaQueryMatch: TMediaQueryMatchFactory = (emitNotSupportedError, window, wrapSubscribeFunction) => {\n    return (mediaQueryString) =>\n        wrapSubscribeFunction((observer) => {\n            if (window === null || window.matchMedia === undefined) {\n                return emitNotSupportedError(observer);\n            }\n\n            const mediaQueryList = window.matchMedia(mediaQueryString);\n\n            observer.next(mediaQueryList.matches);\n\n            mediaQueryList.onchange = () => observer.next(mediaQueryList.matches);\n\n            return () => {\n                mediaQueryList.onchange = null;\n            };\n        });\n};\n", "import { TMetricsFactory } from '../types';\n\nexport const createMetrics: TMetricsFactory = (emitNotSupportedError, window, wrapSubscribeFunction) => {\n    return (options) =>\n        wrapSubscribeFunction((observer) => {\n            if (window === null || window.PerformanceObserver === undefined) {\n                return emitNotSupportedError(observer);\n            }\n\n            const performanceObserver = new window.PerformanceObserver((entryList) => observer.next(entryList.getEntries()));\n\n            try {\n                performanceObserver.observe(options);\n            } catch (err) {\n                observer.error(err);\n            }\n\n            return () => performanceObserver.disconnect();\n        });\n};\n", "import { TMidiInputsFactory } from '../types';\n\nexport const createMidiInputs: TMidiInputsFactory = (wrapSubscribeFunction) => {\n    return (midiAccess) =>\n        wrapSubscribeFunction((observer) => {\n            let midiInputs = Array.from(midiAccess.inputs.values());\n\n            const emitMidiInputs = () => {\n                const midiAccessInputs = midiAccess.inputs;\n\n                if (midiInputs.length !== midiAccessInputs.size || midiInputs.some(({ id }) => !midiAccessInputs.has(id))) {\n                    midiInputs = Array.from(midiAccessInputs.values());\n\n                    observer.next(midiInputs);\n                }\n            };\n\n            observer.next(midiInputs);\n            midiAccess.addEventListener('statechange', emitMidiInputs);\n\n            return () => midiAccess.removeEventListener('statechange', emitMidiInputs);\n        });\n};\n", "import { TMidiOutputsFactory } from '../types';\n\nexport const createMidiOutputs: TMidiOutputsFactory = (wrapSubscribeFunction) => {\n    return (midiAccess) =>\n        wrapSubscribeFunction((observer) => {\n            let midiOutputs = Array.from(midiAccess.outputs.values());\n\n            const emitMidiOutputs = () => {\n                const midiAccessOutputs = midiAccess.outputs;\n\n                if (midiOutputs.length !== midiAccessOutputs.size || midiOutputs.some(({ id }) => !midiAccessOutputs.has(id))) {\n                    midiOutputs = Array.from(midiAccessOutputs.values());\n\n                    observer.next(midiOutputs);\n                }\n            };\n\n            observer.next(midiOutputs);\n            midiAccess.addEventListener('statechange', emitMidiOutputs);\n\n            return () => midiAccess.removeEventListener('statechange', emitMidiOutputs);\n        });\n};\n", "import { TMutationsFactory } from '../types';\n\nexport const createMutations: TMutationsFactory = (emitNotSupportedError, window, wrapSubscribeFunction) => {\n    return (htmlElement, options) =>\n        wrapSubscribeFunction((observer) => {\n            if (window === null || window.MutationObserver === undefined) {\n                return emitNotSupportedError(observer);\n            }\n\n            const mutationObserver = new window.MutationObserver((records) => observer.next(records));\n\n            try {\n                mutationObserver.observe(htmlElement, options);\n            } catch (err) {\n                observer.error(err);\n            }\n\n            return () => mutationObserver.disconnect();\n        });\n};\n", "import { TEventHandler, TEventType, TOnFactory } from '../types';\n\nexport const createOn: TOnFactory = (wrapSubscribeFunction) => {\n    return (target, type, options) =>\n        wrapSubscribeFunction((observer) => {\n            const listener: TEventHandler<typeof target> = (event) => observer.next(<TEventType<typeof target, typeof type>>event);\n\n            target.addEventListener(type, listener, options);\n\n            return () => target.removeEventListener(type, listener, options);\n        });\n};\n", "import { TOnlineFactory } from '../types';\n\nexport const createOnline: TOnlineFactory = (emitNotSupportedError, window, wrapSubscribeFunction) => {\n    return () =>\n        wrapSubscribeFunction((observer) => {\n            if (window === null || window.navigator === undefined || window.navigator.onLine === undefined) {\n                return emitNotSupportedError(observer);\n            }\n\n            const emitFalse = () => observer.next(false);\n            const emitTrue = () => observer.next(true);\n\n            window.addEventListener('offline', emitFalse);\n            window.addEventListener('online', emitTrue);\n\n            observer.next(window.navigator.onLine);\n\n            return () => {\n                window.removeEventListener('offline', emitFalse);\n                window.removeEventListener('online', emitTrue);\n            };\n        });\n};\n", "import { TPermissionStateFactory } from '../types';\n\nexport const createPermissionState: TPermissionStateFactory = (emitNotSupportedError, window, wrapSubscribeFunction) => {\n    return (permissionDescriptor) =>\n        wrapSubscribeFunction((observer) => {\n            if (\n                window === null ||\n                window.navigator === undefined ||\n                window.navigator.permissions === undefined ||\n                window.navigator.permissions.query === undefined\n            ) {\n                return emitNotSupportedError(observer);\n            }\n\n            let isActive = true;\n            let unsubscribe = () => {\n                isActive = false;\n            };\n\n            window.navigator.permissions.query(permissionDescriptor).then(\n                (permissionStatus) => {\n                    if (isActive) {\n                        observer.next(permissionStatus.state);\n                    }\n\n                    if (isActive) {\n                        permissionStatus.onchange = () => observer.next(permissionStatus.state);\n\n                        unsubscribe = () => {\n                            permissionStatus.onchange = null;\n                        };\n                    }\n                },\n                (err) => {\n                    if (isActive) {\n                        observer.error(err);\n                    }\n                }\n            );\n\n            return () => unsubscribe();\n        });\n};\n", "import { TSubscribableThing, TWrapSubscribeFunctionFunction } from '../types';\n\nexport const createPrependSubscribableThing =\n    (wrapSubscribeFunction: TWrapSubscribeFunctionFunction) =>\n    <TValue, TPrependedValue>(\n        subscribableThing: TSubscribableThing<TValue>,\n        prependedValue: TPrependedValue\n    ): TSubscribableThing<TPrependedValue | TValue> =>\n        wrapSubscribeFunction((observer) => {\n            observer.next(prependedValue);\n\n            return subscribableThing(observer);\n        });\n", "import { TReportsFactory } from '../types';\n\nexport const createReports: TReportsFactory = (emitNotSupportedError, window, wrapSubscribeFunction) => {\n    return (options) =>\n        wrapSubscribeFunction((observer) => {\n            if (window === null || window.ReportingObserver === undefined) {\n                return emitNotSupportedError(observer);\n            }\n\n            const reportingObserver = new window.ReportingObserver((reportList) => observer.next(reportList), options);\n\n            reportingObserver.observe();\n\n            return () => reportingObserver.disconnect();\n        });\n};\n", "import { IResizeObserverEntry } from '../interfaces';\nimport { TResizesFactory } from '../types';\n\nexport const createResizes: TResizesFactory = (emitNotSupportedError, window, wrapSubscribeFunction) => {\n    return (htmlElement, options) =>\n        wrapSubscribeFunction((observer) => {\n            if (window === null || window.ResizeObserver === undefined) {\n                return emitNotSupportedError(observer);\n            }\n\n            const resizeObserver = new window.ResizeObserver((entries) => observer.next(<IResizeObserverEntry[]>entries));\n\n            try {\n                resizeObserver.observe(htmlElement, options);\n            } catch (err) {\n                observer.error(err);\n            }\n\n            return () => resizeObserver.disconnect();\n        });\n};\n", "import { TUnhandledRejectionFactory } from '../types';\n\nexport const createUnhandledRejection: TUnhandledRejectionFactory = (emitNotSupportedError, window, wrapSubscribeFunction) => {\n    return (coolingOffPeriod) =>\n        wrapSubscribeFunction((observer) => {\n            if (window === null || window.clearInterval === undefined || window.setInterval === undefined) {\n                return emitNotSupportedError(observer);\n            }\n\n            const possiblyUnhandledRejections = new Map<Promise<any>, { reason: any; timestamp: number }>();\n\n            let intervalId: null | number = null;\n\n            const deletePossiblyUnhandledRejection = ({ promise }: PromiseRejectionEvent) => possiblyUnhandledRejections.delete(promise);\n            const emitUnhandledRejection = () => {\n                const latestTimestampToEmit = Date.now() - coolingOffPeriod;\n\n                possiblyUnhandledRejections.forEach(({ reason, timestamp }, promise) => {\n                    if (timestamp > latestTimestampToEmit) {\n                        return;\n                    }\n\n                    possiblyUnhandledRejections.delete(promise);\n                    observer.next(reason);\n                });\n\n                if (intervalId !== null && possiblyUnhandledRejections.size === 0) {\n                    window.clearInterval(intervalId);\n                    intervalId = null;\n                }\n            };\n            const registerPossiblyUnhandledRejection = (event: PromiseRejectionEvent) => {\n                event.preventDefault();\n\n                possiblyUnhandledRejections.set(event.promise, {\n                    reason: event.reason,\n                    timestamp: Date.now()\n                });\n\n                if (intervalId === null) {\n                    intervalId = window.setInterval(emitUnhandledRejection, coolingOffPeriod / 2);\n                }\n            };\n\n            window.addEventListener('rejectionhandled', deletePossiblyUnhandledRejection);\n            window.addEventListener('unhandledrejection', registerPossiblyUnhandledRejection);\n\n            return () => {\n                if (intervalId !== null) {\n                    window.clearInterval(intervalId);\n                }\n\n                window.removeEventListener('rejectionhandled', deletePossiblyUnhandledRejection);\n                window.removeEventListener('unhandledrejection', registerPossiblyUnhandledRejection);\n            };\n        });\n};\n", "import { TVideoFrameFactory } from '../types';\n\nexport const createVideoFrame: TVideoFrameFactory = (emitNotSupportedError, wrapSubscribeFunction) => {\n    return (videoElement) =>\n        wrapSubscribeFunction((observer) => {\n            if (videoElement.cancelVideoFrameCallback === undefined || videoElement.requestVideoFrameCallback === undefined) {\n                return emitNotSupportedError(observer);\n            }\n\n            let videoFrameHandle = videoElement.requestVideoFrameCallback(function videoFrameCallback(now, metadata): void {\n                videoFrameHandle = videoElement.requestVideoFrameCallback(videoFrameCallback);\n\n                observer.next({ ...metadata, now });\n            });\n\n            return () => videoElement.cancelVideoFrameCallback(videoFrameHandle);\n        });\n};\n", "import { IWakeLockSentinel } from '../interfaces';\nimport { TWakeLockFactory } from '../types';\n\nexport const createWakeLock: TWakeLockFactory = (emitNotSupportedError, window, wrapSubscribeFunction) => {\n    return (type) =>\n        wrapSubscribeFunction((observer) => {\n            if (window === null || window.navigator === undefined || window.navigator.wakeLock === undefined) {\n                return emitNotSupportedError(observer);\n            }\n\n            const releaseWakeLock = (wakeLockSentinel: IWakeLockSentinel) =>\n                wakeLockSentinel.release().catch(() => {\n                    // Ignore errors.\n                });\n            const removeReleaseEventListener = (wakeLockSentinel: IWakeLockSentinel) => {\n                wakeLockSentinel.onrelease = null;\n            };\n\n            let isActive = true;\n\n            const unsubscribeWhileRequesting = () => {\n                isActive = false;\n            };\n\n            let unsubscribe = unsubscribeWhileRequesting;\n\n            const requestWakeLock = () =>\n                window.navigator.wakeLock.request(type).then(\n                    (wakeLockSentinel) => {\n                        if (isActive) {\n                            observer.next(true);\n                        }\n\n                        if (isActive) {\n                            wakeLockSentinel.onrelease = () => {\n                                observer.next(false);\n\n                                unsubscribe = unsubscribeWhileRequesting;\n\n                                removeReleaseEventListener(wakeLockSentinel);\n                                requestWakeLock();\n                            };\n\n                            unsubscribe = () => {\n                                removeReleaseEventListener(wakeLockSentinel);\n                                releaseWakeLock(wakeLockSentinel);\n                            };\n                        } else {\n                            releaseWakeLock(wakeLockSentinel);\n                        }\n                    },\n                    (err) => {\n                        if (isActive) {\n                            observer.error(err);\n                        }\n                    }\n                );\n\n            requestWakeLock();\n\n            return () => unsubscribe();\n        });\n};\n", "import { TWindow, TWindowFactory } from '../types';\n\n// @todo TypeScript does not include type definitions for the Reporting API yet.\nexport const createWindow: TWindowFactory = () => (typeof window === 'undefined' ? null : <TWindow>window);\n", "import { Observer, Subscribable } from 'rxjs-interop';\nimport { TObserverParameters, TSubscribableThing, TSubscribeFunction, TWrapSubscribeFunctionFactory } from '../types';\n\nexport const createWrapSubscribeFunction: TWrapSubscribeFunctionFactory = (patch, toObserver) => {\n    const emptyFunction = () => {}; // tslint:disable-line:no-empty\n    const isNextFunction = <T>(args: TObserverParameters<T>): args is [Observer<T>['next']] => typeof args[0] === 'function';\n\n    return <T>(innerSubscribe: TSubscribeFunction<T>) => {\n        const subscribe = <TSubscribableThing<T>>((...args: TObserverParameters<T>) => {\n            const unsubscribe = innerSubscribe(isNextFunction(args) ? toObserver({ next: args[0] }) : toObserver(...args));\n\n            if (unsubscribe !== undefined) {\n                return unsubscribe;\n            }\n\n            return emptyFunction;\n        });\n\n        subscribe[Symbol.observable] = () => ({\n            subscribe: (...args: Parameters<Subscribable<T>['subscribe']>) => ({ unsubscribe: subscribe(...args) })\n        });\n\n        return patch(subscribe);\n    };\n};\n", "import { TEmitNotSupportedErrorFunction } from '../types';\n\nexport const emitNotSupportedError: TEmitNotSupportedErrorFunction = (observer) => {\n    observer.error(new Error('The required browser API seems to be not supported.'));\n\n    return () => {}; // tslint:disable-line:no-empty\n};\n", "export {};\n//# sourceMappingURL=html-video-element.js.map", "export {};\n//# sourceMappingURL=midi-access.js.map", "export {};\n//# sourceMappingURL=midi-connection-event.js.map", "export {};\n//# sourceMappingURL=midi-input.js.map", "export {};\n//# sourceMappingURL=midi-input-event-map.js.map", "export {};\n//# sourceMappingURL=midi-message-event.js.map", "export {};\n//# sourceMappingURL=midi-output.js.map", "export {};\n//# sourceMappingURL=midi-output-event-map.js.map", "export {};\n//# sourceMappingURL=midi-port.js.map", "export {};\n//# sourceMappingURL=report.js.map", "export {};\n//# sourceMappingURL=report-body.js.map", "export {};\n//# sourceMappingURL=reporting-observer.js.map", "export {};\n//# sourceMappingURL=reporting-observer-options.js.map", "export {};\n//# sourceMappingURL=resize-observer.js.map", "export {};\n//# sourceMappingURL=resize-observer-entry.js.map", "export {};\n//# sourceMappingURL=resize-observer-options.js.map", "export {};\n//# sourceMappingURL=resize-observer-size.js.map", "export {};\n//# sourceMappingURL=video-frame-metadata.js.map", "export {};\n//# sourceMappingURL=wake-lock.js.map", "export {};\n//# sourceMappingURL=wake-lock-sentinel.js.map", "export {};\n//# sourceMappingURL=wake-lock-sentinel-event-map.js.map", "export * from './html-video-element';\nexport * from './midi-access';\nexport * from './midi-connection-event';\nexport * from './midi-input';\nexport * from './midi-input-event-map';\nexport * from './midi-message-event';\nexport * from './midi-output';\nexport * from './midi-output-event-map';\nexport * from './midi-port';\nexport * from './report';\nexport * from './report-body';\nexport * from './reporting-observer';\nexport * from './reporting-observer-options';\nexport * from './resize-observer';\nexport * from './resize-observer-entry';\nexport * from './resize-observer-options';\nexport * from './resize-observer-size';\nexport * from './video-frame-metadata';\nexport * from './wake-lock';\nexport * from './wake-lock-sentinel';\nexport * from './wake-lock-sentinel-event-map';\n", "export {};\n//# sourceMappingURL=animation-frame-factory.js.map", "export {};\n//# sourceMappingURL=animation-frame-function.js.map", "export {};\n//# sourceMappingURL=emit-not-supported-error-function.js.map", "export {};\n//# sourceMappingURL=event-handler.js.map", "export {};\n//# sourceMappingURL=event-target-with-property-handler.js.map", "export {};\n//# sourceMappingURL=event-type.js.map", "export {};\n//# sourceMappingURL=flexible-subscribe-function.js.map", "export {};\n//# sourceMappingURL=intersections-factory.js.map", "export {};\n//# sourceMappingURL=intersections-function.js.map", "export {};\n//# sourceMappingURL=media-devices-factory.js.map", "export {};\n//# sourceMappingURL=media-devices-function.js.map", "export {};\n//# sourceMappingURL=media-query-match-factory.js.map", "export {};\n//# sourceMappingURL=media-query-match-function.js.map", "export {};\n//# sourceMappingURL=metrics-factory.js.map", "export {};\n//# sourceMappingURL=metrics-function.js.map", "export {};\n//# sourceMappingURL=midi-connection-event-handler.js.map", "export {};\n//# sourceMappingURL=midi-inputs-factory.js.map", "export {};\n//# sourceMappingURL=midi-inputs-function.js.map", "export {};\n//# sourceMappingURL=midi-message-event-handler.js.map", "export {};\n//# sourceMappingURL=midi-outputs-factory.js.map", "export {};\n//# sourceMappingURL=midi-outputs-function.js.map", "export {};\n//# sourceMappingURL=midi-port-connection-state.js.map", "export {};\n//# sourceMappingURL=midi-port-device-state.js.map", "export {};\n//# sourceMappingURL=midi-port-type.js.map", "export {};\n//# sourceMappingURL=mutations-factory.js.map", "export {};\n//# sourceMappingURL=mutations-function.js.map", "export {};\n//# sourceMappingURL=observer-parameters.js.map", "export {};\n//# sourceMappingURL=online-factory.js.map", "export {};\n//# sourceMappingURL=online-function.js.map", "export {};\n//# sourceMappingURL=on-factory.js.map", "export {};\n//# sourceMappingURL=on-function.js.map", "export {};\n//# sourceMappingURL=optional-unsubscribe-function.js.map", "export {};\n//# sourceMappingURL=permission-state-factory.js.map", "export {};\n//# sourceMappingURL=permission-state-function.js.map", "export {};\n//# sourceMappingURL=release-event-handler.js.map", "export {};\n//# sourceMappingURL=reports-factory.js.map", "export {};\n//# sourceMappingURL=reports-function.js.map", "export {};\n//# sourceMappingURL=resize-observer-box-options.js.map", "export {};\n//# sourceMappingURL=resizes-factory.js.map", "export {};\n//# sourceMappingURL=resizes-function.js.map", "export {};\n//# sourceMappingURL=subscribable-thing.js.map", "export {};\n//# sourceMappingURL=subscribe-function.js.map", "export {};\n//# sourceMappingURL=unhandled-rejection-factory.js.map", "export {};\n//# sourceMappingURL=unhandled-rejection-function.js.map", "export {};\n//# sourceMappingURL=unsubscribe-function.js.map", "export {};\n//# sourceMappingURL=video-frame-factory.js.map", "export {};\n//# sourceMappingURL=video-frame-function.js.map", "export {};\n//# sourceMappingURL=video-frame-request-callback.js.map", "export {};\n//# sourceMappingURL=wake-lock-factory.js.map", "export {};\n//# sourceMappingURL=wake-lock-function.js.map", "export {};\n//# sourceMappingURL=wake-lock-type.js.map", "export {};\n//# sourceMappingURL=window.js.map", "export {};\n//# sourceMappingURL=window-factory.js.map", "export {};\n//# sourceMappingURL=wrap-subscribe-function-factory.js.map", "export {};\n//# sourceMappingURL=wrap-subscribe-function-function.js.map", "export * from './animation-frame-factory';\nexport * from './animation-frame-function';\nexport * from './emit-not-supported-error-function';\nexport * from './event-handler';\nexport * from './event-target-with-property-handler';\nexport * from './event-type';\nexport * from './flexible-subscribe-function';\nexport * from './intersections-factory';\nexport * from './intersections-function';\nexport * from './media-devices-factory';\nexport * from './media-devices-function';\nexport * from './media-query-match-factory';\nexport * from './media-query-match-function';\nexport * from './metrics-factory';\nexport * from './metrics-function';\nexport * from './midi-connection-event-handler';\nexport * from './midi-inputs-factory';\nexport * from './midi-inputs-function';\nexport * from './midi-message-event-handler';\nexport * from './midi-outputs-factory';\nexport * from './midi-outputs-function';\nexport * from './midi-port-connection-state';\nexport * from './midi-port-device-state';\nexport * from './midi-port-type';\nexport * from './mutations-factory';\nexport * from './mutations-function';\nexport * from './observer-parameters';\nexport * from './online-factory';\nexport * from './online-function';\nexport * from './on-factory';\nexport * from './on-function';\nexport * from './optional-unsubscribe-function';\nexport * from './permission-state-factory';\nexport * from './permission-state-function';\nexport * from './release-event-handler';\nexport * from './reports-factory';\nexport * from './reports-function';\nexport * from './resize-observer-box-options';\nexport * from './resizes-factory';\nexport * from './resizes-function';\nexport * from './subscribable-thing';\nexport * from './subscribe-function';\nexport * from './unhandled-rejection-factory';\nexport * from './unhandled-rejection-function';\nexport * from './unsubscribe-function';\nexport * from './video-frame-factory';\nexport * from './video-frame-function';\nexport * from './video-frame-request-callback';\nexport * from './wake-lock-factory';\nexport * from './wake-lock-function';\nexport * from './wake-lock-type';\nexport * from './window';\nexport * from './window-factory';\nexport * from './wrap-subscribe-function-factory';\nexport * from './wrap-subscribe-function-function';\n", "import { patch, toObserver } from 'rxjs-interop';\nimport { createAnimationFrame } from './factories/animation-frame';\nimport { createAttribute } from './factories/attribute';\nimport { createGeolocation } from './factories/geolocation';\nimport { createIntersections } from './factories/intersections';\nimport { createMapSubscribableThing } from './factories/map-subscribable-thing';\nimport { createMediaDevices } from './factories/media-devices';\nimport { createMediaQueryMatch } from './factories/media-query-match';\nimport { createMetrics } from './factories/metrics';\nimport { createMidiInputs } from './factories/midi-inputs';\nimport { createMidiOutputs } from './factories/midi-outputs';\nimport { createMutations } from './factories/mutations';\nimport { createOn } from './factories/on';\nimport { createOnline } from './factories/online';\nimport { createPermissionState } from './factories/permission-state';\nimport { createPrependSubscribableThing } from './factories/prepend-subscribable-thing';\nimport { createReports } from './factories/reports';\nimport { createResizes } from './factories/resizes';\nimport { createUnhandledRejection } from './factories/unhandled-rejection';\nimport { createVideoFrame } from './factories/video-frame';\nimport { createWakeLock } from './factories/wake-lock';\nimport { createWindow } from './factories/window';\nimport { createWrapSubscribeFunction } from './factories/wrap-subscribe-function';\nimport { emitNotSupportedError } from './functions/emit-not-supported-error';\n\n/*\n * @todo Explicitly referencing the barrel file seems to be necessary when enabling the\n * isolatedModules compiler option.\n */\nexport * from './interfaces/index';\nexport * from './types/index';\n\nconst window = createWindow();\nconst wrapSubscribeFunction = createWrapSubscribeFunction(patch, toObserver);\n\nexport const animationFrame = createAnimationFrame(emitNotSupportedError, window, wrapSubscribeFunction);\n\nexport const mutations = createMutations(emitNotSupportedError, window, wrapSubscribeFunction);\n\nconst mapSubscribableThing = createMapSubscribableThing(wrapSubscribeFunction);\nconst prependSubscribableThing = createPrependSubscribableThing(wrapSubscribeFunction);\n\nexport const attribute = createAttribute(mapSubscribableThing, mutations, prependSubscribableThing);\n\nexport const geolocation = createGeolocation(emitNotSupportedError, window, wrapSubscribeFunction);\n\nexport const intersections = createIntersections(emitNotSupportedError, window, wrapSubscribeFunction);\n\nexport const mediaDevices = createMediaDevices(emitNotSupportedError, window, wrapSubscribeFunction);\n\nexport const mediaQueryMatch = createMediaQueryMatch(emitNotSupportedError, window, wrapSubscribeFunction);\n\nexport const metrics = createMetrics(emitNotSupportedError, window, wrapSubscribeFunction);\n\nexport const midiInputs = createMidiInputs(wrapSubscribeFunction);\n\nexport const midiOutputs = createMidiOutputs(wrapSubscribeFunction);\n\nexport const on = createOn(wrapSubscribeFunction);\n\nexport const online = createOnline(emitNotSupportedError, window, wrapSubscribeFunction);\n\nexport const permissionState = createPermissionState(emitNotSupportedError, window, wrapSubscribeFunction);\n\nexport const reports = createReports(emitNotSupportedError, window, wrapSubscribeFunction);\n\nexport const resizes = createResizes(emitNotSupportedError, window, wrapSubscribeFunction);\n\nexport const unhandledRejection = createUnhandledRejection(emitNotSupportedError, window, wrapSubscribeFunction);\n\nexport const videoFrame = createVideoFrame(emitNotSupportedError, wrapSubscribeFunction);\n\nexport const wakeLock = createWakeLock(emitNotSupportedError, window, wrapSubscribeFunction);\n", "/*!\n * dashify <https://github.com/jonschlinkert/dashify>\n *\n * Copyright (c) 2015-2017, Jon Schlinkert.\n * Released under the MIT License.\n */\n\n'use strict';\n\nmodule.exports = (str, options) => {\n  if (typeof str !== 'string') throw new TypeError('expected a string');\n  return str.trim()\n    .replace(/([a-z])([A-Z])/g, '$1-$2')\n    .replace(/\\W/g, m => /[-]/.test(m) ? m : '-')\n    .replace(/^-+|-+$/g, '')\n    .replace(/-{2,}/g, m => options && options.condense ? '-' : m)\n    .toLowerCase();\n};\n", "/*\n * indefinite-article.js v1.0.0, 12-18-2011\n *\n * @author: Rodrigo Neri (@rigoneri)\n *\n * (The MIT License)\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n * THE SOFTWARE.\n */\n\nvar indefiniteArticle = function(phrase) {\n    var i, word;\n\n    // Getting the first word\n    var match = /\\w+/.exec(phrase);\n    if (match)\n        word = match[0];\n    else\n        return \"an\";\n\n    var l_word = word.toLowerCase();\n    // Specific start of words that should be preceeded by 'an'\n    var alt_cases = [\"honest\", \"hour\", \"hono\"];\n    for (i in alt_cases) {\n        if (l_word.indexOf(alt_cases[i]) == 0)\n            return \"an\";\n    }\n\n    // Single letter word which should be preceeded by 'an'\n    if (l_word.length == 1) {\n        if (\"aedhilmnorsx\".indexOf(l_word) >= 0)\n            return \"an\";\n        else\n            return \"a\";\n    }\n\n    // Capital words which should likely be preceeded by 'an'\n    if (word.match(/(?!FJO|[HLMNS]Y.|RY[EO]|SQU|(F[LR]?|[HL]|MN?|N|RH?|S[CHKLMNPTVW]?|X(YL)?)[AEIOU])[FHLMNRSX][A-Z]/)) {\n        return \"an\";\n    }\n\n    // Special cases where a word that begins with a vowel should be preceeded by 'a'\n    var regexes = [/^e[uw]/, /^onc?e\\b/, /^uni([^nmd]|mo)/, /^u[bcfhjkqrst][aeiou]/];\n    for (i = 0; i < regexes.length; i++) {\n        if (l_word.match(regexes[i]))\n            return \"a\"\n    }\n\n    // Special capital words (UK, UN)\n    if (word.match(/^U[NK][AIEO]/)) {\n        return \"a\";\n    }\n    else if (word == word.toUpperCase()) {\n        if (\"aedhilmnorsx\".indexOf(l_word[0]) >= 0)\n            return \"an\";\n        else\n            return \"a\";\n    }\n\n    // Basic method of words that begin with a vowel being preceeded by 'an'\n    if (\"aeiou\".indexOf(l_word[0]) >= 0)\n        return \"an\";\n\n    // Instances where y follwed by specific letters is preceeded by 'an'\n    if (l_word.match(/^y(b[lor]|cl[ea]|fere|gg|p[ios]|rou|tt)/))\n        return \"an\";\n\n    return \"a\";\n};\n\nif ((typeof module !== 'undefined') && (typeof module.exports !== 'undefined')) {\n    module.exports = indefiniteArticle;\n} else {\n    window.indefiniteArticle = indefiniteArticle;\n}\n", "export {};\n//# sourceMappingURL=augmented-error.js.map", "export {};\n//# sourceMappingURL=aws-error.js.map", "export {};\n//# sourceMappingURL=error-template.js.map", "export {};\n//# sourceMappingURL=param-object.js.map", "export {};\n//# sourceMappingURL=variable.js.map", "export * from './augmented-error';\nexport * from './aws-error';\nexport * from './error-template';\nexport * from './param-object';\nexport * from './variable';\n", "export {};\n//# sourceMappingURL=render-function.js.map", "export * from './render-function';\n", "import dashify from 'dashify';\nimport indefiniteArticle from 'indefinite-article';\nimport { IAWSError, IAugmentedError, IErrorTemplate, IParameterObject, IVariable } from './interfaces';\nimport { TRenderFunction } from './types';\n\n/*\n * @todo Explicitly referencing the barrel file seems to be necessary when enabling the\n * isolatedModules compiler option.\n */\nexport * from './interfaces/index';\nexport * from './types/index';\n\nconst applyModifiers = (name: string, modifiers: string[]) => {\n    if (modifiers === undefined) {\n        return name;\n    }\n\n    return modifiers.reduce((modifiedName, modifier) => {\n        if (modifier === 'capitalize') {\n            const head = modifiedName.charAt(0).toUpperCase();\n            const tail = modifiedName.slice(1);\n\n            return `${head}${tail}`;\n        }\n\n        if (modifier === 'dashify') {\n            return dashify(modifiedName);\n        }\n\n        if (modifier === 'prependIndefiniteArticle') {\n            return `${indefiniteArticle(modifiedName)} ${modifiedName}`;\n        }\n\n        return modifiedName;\n    }, name);\n};\n\nconst buildRegex = (variable: IVariable) => {\n    const expression = variable.name + variable.modifiers.map((modifier) => `\\\\.${modifier}\\\\(\\\\)`).join('');\n\n    return new RegExp(`\\\\$\\\\{${expression}}`, 'g');\n};\n\nconst preRenderString = (string: string, parameters: IParameterObject) => {\n    const expressionRegex = /\\${([^.}]+)((\\.[^(]+\\(\\))*)}/g;\n\n    const variables: IVariable[] = [];\n\n    let expressionResult = expressionRegex.exec(string);\n\n    while (expressionResult !== null) {\n        const variable: IVariable = {\n            modifiers: [],\n            name: expressionResult[1]\n        };\n\n        if (expressionResult[3] !== undefined) {\n            const modifiersRegex = /\\.[^(]+\\(\\)/g;\n\n            let modifiersRegexResult = modifiersRegex.exec(expressionResult[2]);\n\n            while (modifiersRegexResult !== null) {\n                variable.modifiers.push(modifiersRegexResult[0].slice(1, -2));\n\n                modifiersRegexResult = modifiersRegex.exec(expressionResult[2]);\n            }\n        }\n\n        variables.push(variable);\n\n        expressionResult = expressionRegex.exec(string);\n    }\n\n    const preRenderedParts = variables.reduce(\n        (parts: (string | TRenderFunction)[], variable: IVariable) =>\n            parts\n                .map((part) => {\n                    if (typeof part === 'string') {\n                        return part.split(buildRegex(variable)).reduce((prts: (string | TRenderFunction)[], prt: string, index: number) => {\n                            if (index === 0) {\n                                return [prt];\n                            }\n\n                            if (variable.name in parameters) {\n                                return [...prts, applyModifiers(parameters[variable.name], variable.modifiers), prt];\n                            }\n\n                            return [...prts, (prmtrs: IParameterObject) => applyModifiers(prmtrs[variable.name], variable.modifiers), prt];\n                        }, []);\n                    }\n\n                    return [part];\n                })\n                .reduce((prts: (string | TRenderFunction)[], part: (string | TRenderFunction)[]) => [...prts, ...part], []),\n        [string]\n    );\n\n    return (missingParameters: IParameterObject) =>\n        preRenderedParts\n            .reduce((renderedParts: string[], preRenderedPart: string | TRenderFunction) => {\n                if (typeof preRenderedPart === 'string') {\n                    return [...renderedParts, preRenderedPart];\n                }\n\n                return [...renderedParts, preRenderedPart(missingParameters)];\n            }, [])\n            .join('');\n};\n\nexport const compile = (template: IErrorTemplate, knownParameters: IParameterObject = {}) => {\n    const renderCode = template.code === undefined ? undefined : preRenderString(template.code, knownParameters);\n    const renderMessage = template.message === undefined ? undefined : preRenderString(template.message, knownParameters);\n\n    function render(missingParameters: IParameterObject, cause?: Error | IAWSError): IAugmentedError;\n    function render(cause: Error | IAWSError): IAugmentedError;\n    function render(\n        causeOrMissingParameters: Error | IAWSError | IParameterObject = {},\n        optionalCause?: Error | IAWSError\n    ): IAugmentedError {\n        const hasNoOptionalCause =\n            optionalCause === undefined &&\n            (causeOrMissingParameters instanceof Error ||\n                ((<IAWSError>causeOrMissingParameters).code !== undefined &&\n                    (<IAWSError>causeOrMissingParameters).code.slice(-9) === 'Exception'));\n        const { cause, missingParameters } = hasNoOptionalCause\n            ? {\n                  cause: <Error | IAWSError>causeOrMissingParameters,\n                  missingParameters: {}\n              }\n            : {\n                  cause: <Error | IAWSError>optionalCause,\n                  missingParameters: <IParameterObject>causeOrMissingParameters\n              };\n\n        const err: IAugmentedError = <IAugmentedError>(\n            (renderMessage === undefined ? new Error() : new Error(renderMessage(<IParameterObject>missingParameters)))\n        );\n\n        if (cause !== null) {\n            err.cause = cause;\n        }\n\n        if (renderCode !== undefined) {\n            err.code = renderCode(missingParameters);\n        }\n\n        if (template.status !== undefined) {\n            err.status = template.status;\n        }\n\n        return err;\n    }\n\n    return render;\n};\n", "import { IAugmentedError, IParameterObject, compile } from 'compilerr';\n\nconst JSON_RPC_ERROR_CODES = { INTERNAL_ERROR: -32603, INVALID_PARAMS: -32602, METHOD_NOT_FOUND: -32601 };\n\nexport const renderMethodNotFoundError: (missingParameters: IParameterObject) => IAugmentedError = compile({\n    message: 'The requested method called \"${method}\" is not supported.',\n    status: JSON_RPC_ERROR_CODES.METHOD_NOT_FOUND\n});\n\nexport const renderMissingResponseError: (missingParameters: IParameterObject) => IAugmentedError = compile({\n    message: 'The handler of the method called \"${method}\" returned no required result.',\n    status: JSON_RPC_ERROR_CODES.INTERNAL_ERROR\n});\n\nexport const renderUnexpectedResultError: (missingParameters: IParameterObject) => IAugmentedError = compile({\n    message: 'The handler of the method called \"${method}\" returned an unexpected result.',\n    status: JSON_RPC_ERROR_CODES.INTERNAL_ERROR\n});\n\nexport const renderUnknownPortIdError: (missingParameters: IParameterObject) => IAugmentedError = compile({\n    message: 'The specified parameter called \"portId\" with the given value \"${portId}\" does not identify a port connected to this worker.',\n    status: JSON_RPC_ERROR_CODES.INVALID_PARAMS\n});\n", "import { IAugmentedError } from 'compilerr';\nimport { IBrokerEvent, IErrorNotification, IErrorResponse, IReceiver, IRequest, IWorkerDefinition } from '../interfaces';\nimport { TMessageReceiverWithParams, TMessageReceiverWithoutParams, TWorkerImplementation } from '../types';\nimport { renderMethodNotFoundError, renderMissingResponseError, renderUnexpectedResultError } from './error-renderers';\n\nexport const createMessageHandler = <T extends IWorkerDefinition>(receiver: IReceiver, workerImplementation: TWorkerImplementation<T>) => {\n    return async ({ data: { id, method, params } }: IBrokerEvent<T>) => {\n        const messageHandler = workerImplementation[method];\n\n        try {\n            if (messageHandler === undefined) {\n                throw renderMethodNotFoundError({ method });\n            }\n\n            const response =\n                params === undefined\n                    ? (messageHandler as TMessageReceiverWithoutParams<T[typeof method]['response']>)()\n                    : (messageHandler as TMessageReceiverWithParams<T[typeof method]['params'], T[typeof method]['response']>)(params);\n\n            if (response === undefined) {\n                throw renderMissingResponseError({ method });\n            }\n\n            const synchronousResponse = response instanceof Promise ? await response : response;\n\n            if (id === null) {\n                if (synchronousResponse.result !== undefined) {\n                    throw renderUnexpectedResultError({ method });\n                }\n            } else {\n                if (synchronousResponse.result === undefined) {\n                    throw renderUnexpectedResultError({ method });\n                }\n\n                const { result, transferables = [] } = <IRequest['response']>synchronousResponse;\n\n                receiver.postMessage({ id, result }, transferables);\n            }\n        } catch (err) {\n            const { message, status = -32603 } = <IAugmentedError>err;\n\n            receiver.postMessage(<IErrorNotification | IErrorResponse>{ error: { code: status, message }, id });\n        }\n    };\n};\n", "// Bug #1: Safari does currently not support to use transferables.\n\nexport const isSupportingTransferables = () =>\n    new Promise<boolean>((resolve) => {\n        const arrayBuffer = new ArrayBuffer(0);\n        const { port1, port2 } = new MessageChannel();\n\n        port1.onmessage = ({ data }) => resolve(data !== null);\n        port2.postMessage(arrayBuffer, [arrayBuffer]);\n    });\n", "import { generateUniqueNumber } from 'fast-unique-numbers';\nimport { IDefaultWorkerDefinition, IReceiver, IWorkerDefinition } from '../interfaces';\nimport { TDestroyWorkerFunction, TWorkerImplementation } from '../types';\nimport { renderUnknownPortIdError } from './error-renderers';\nimport { isSupportingTransferables } from './is-supporting-transferables';\n\nconst DESTROY_WORKER_FUNCTIONS: Map<number, TDestroyWorkerFunction> = new Map();\n\nexport const extendWorkerImplementation = <T extends IWorkerDefinition>(\n    createWorker: (receiver: IReceiver, workerImplementation: TWorkerImplementation<T>) => TDestroyWorkerFunction,\n    partialWorkerImplementation: TWorkerImplementation<T>,\n    isSupportedFunction: () => boolean | Promise<boolean>\n): TWorkerImplementation<T> & TWorkerImplementation<IDefaultWorkerDefinition> => ({\n    ...partialWorkerImplementation,\n    connect: ({ port }) => {\n        port.start();\n\n        const destroyWorker = createWorker(port, partialWorkerImplementation);\n        const portId = generateUniqueNumber(DESTROY_WORKER_FUNCTIONS);\n\n        DESTROY_WORKER_FUNCTIONS.set(portId, () => {\n            destroyWorker();\n            port.close();\n            DESTROY_WORKER_FUNCTIONS.delete(portId);\n        });\n\n        return { result: portId };\n    },\n    disconnect: ({ portId }) => {\n        const destroyWorker = DESTROY_WORKER_FUNCTIONS.get(portId);\n\n        if (destroyWorker === undefined) {\n            throw renderUnknownPortIdError({ portId: portId.toString() });\n        }\n\n        destroyWorker();\n\n        return { result: null };\n    },\n    isSupported: async () => {\n        const isSelfSupported = await isSupportingTransferables();\n\n        if (isSelfSupported) {\n            const result = isSupportedFunction();\n            const synchronousResult = result instanceof Promise ? await result : result;\n\n            return { result: synchronousResult };\n        }\n\n        return { result: false };\n    }\n});\n", "export {};\n//# sourceMappingURL=broker-event.js.map", "export {};\n//# sourceMappingURL=broker-message.js.map", "export {};\n//# sourceMappingURL=default-worker-definition.js.map", "export {};\n//# sourceMappingURL=error.js.map", "export {};\n//# sourceMappingURL=error-notification.js.map", "export {};\n//# sourceMappingURL=error-response.js.map", "export {};\n//# sourceMappingURL=notification.js.map", "export {};\n//# sourceMappingURL=receiver.js.map", "export {};\n//# sourceMappingURL=request.js.map", "export {};\n//# sourceMappingURL=value-array.js.map", "export {};\n//# sourceMappingURL=value-map.js.map", "export {};\n//# sourceMappingURL=worker-definition.js.map", "export {};\n//# sourceMappingURL=worker-error-message.js.map", "export {};\n//# sourceMappingURL=worker-result-message.js.map", "export * from './broker-event';\nexport * from './broker-message';\nexport * from './default-worker-definition';\nexport * from './error';\nexport * from './error-notification';\nexport * from './error-response';\nexport * from './notification';\nexport * from './receiver';\nexport * from './request';\nexport * from './value-array';\nexport * from './value-map';\nexport * from './worker-definition';\nexport * from './worker-error-message';\nexport * from './worker-result-message';\n", "export {};\n//# sourceMappingURL=destroy-worker-function.js.map", "export {};\n//# sourceMappingURL=message.js.map", "export {};\n//# sourceMappingURL=message-receiver.js.map", "export {};\n//# sourceMappingURL=message-receiver-with-params.js.map", "export {};\n//# sourceMappingURL=message-receiver-without-params.js.map", "export {};\n//# sourceMappingURL=typed-array.js.map", "export {};\n//# sourceMappingURL=value.js.map", "export {};\n//# sourceMappingURL=value-map.js.map", "export {};\n//# sourceMappingURL=worker-definition.js.map", "export {};\n//# sourceMappingURL=worker-implementation.js.map", "export {};\n//# sourceMappingURL=worker-message.js.map", "export * from './destroy-worker-function';\nexport * from './message';\nexport * from './message-receiver';\nexport * from './message-receiver-with-params';\nexport * from './message-receiver-without-params';\nexport * from './typed-array';\nexport * from './value';\nexport * from './value-map';\nexport * from './worker-definition';\nexport * from './worker-implementation';\nexport * from './worker-message';\n", "import { createMessageHandler } from './helpers/create-message-handler';\nimport { extendWorkerImplementation } from './helpers/extend-worker-implementation';\nimport { isSupportingTransferables } from './helpers/is-supporting-transferables';\nimport { IReceiver, IWorkerDefinition } from './interfaces';\nimport { TDestroyWorkerFunction, TWorkerImplementation } from './types';\n\n/*\n * @todo Explicitly referencing the barrel file seems to be necessary when enabling the\n * isolatedModules compiler option.\n */\nexport * from './interfaces/index';\nexport * from './types/index';\n\nexport const createWorker = <T extends IWorkerDefinition>(\n    receiver: IReceiver,\n    workerImplementation: TWorkerImplementation<T>,\n    isSupportedFunction: () => boolean | Promise<boolean> = () => true\n): TDestroyWorkerFunction => {\n    const fullWorkerImplementation = extendWorkerImplementation<T>(createWorker, workerImplementation, isSupportedFunction);\n    const messageHandler = createMessageHandler(receiver, fullWorkerImplementation);\n\n    receiver.addEventListener('message', messageHandler);\n\n    return () => receiver.removeEventListener('message', messageHandler);\n};\n\nexport { isSupportingTransferables as isSupported };\n", "export const createAddRecorderAudioWorkletModule = (blobConstructor: typeof Blob, urlConstructor: typeof URL, worklet: string) => {\n    return async (addAudioWorkletModule: (url: string) => Promise<void>) => {\n        const blob = new blobConstructor([worklet], { type: 'application/javascript; charset=utf-8' });\n        const url = urlConstructor.createObjectURL(blob);\n\n        try {\n            await addAudioWorkletModule(url);\n        } finally {\n            urlConstructor.revokeObjectURL(url);\n        }\n    };\n};\n", "import type { IWorkerEvent } from 'broker-factory';\nimport type { IWorkerErrorMessage, IWorkerResultMessage } from 'worker-factory';\n\nexport const createListener = (ongoingRequests: Map<number, { reject: Function; resolve: Function }>) => {\n    return ({ data: message }: IWorkerEvent) => {\n        const { id } = message;\n\n        if (id !== null) {\n            const ongoingRequest = ongoingRequests.get(id);\n\n            if (ongoingRequest !== undefined) {\n                const { reject, resolve } = ongoingRequest;\n\n                ongoingRequests.delete(id);\n\n                if ((<IWorkerErrorMessage>message).error === undefined) {\n                    resolve((<IWorkerResultMessage>message).result);\n                } else {\n                    reject(new Error((<IWorkerErrorMessage>message).error.message));\n                }\n            }\n        }\n    };\n};\n", "import type { generateUniqueNumber as generateUniqueNumberFunction } from 'fast-unique-numbers';\n\nexport const createPostMessageFactory = (generateUniqueNumber: typeof generateUniqueNumberFunction) => {\n    return (ongoingRequests: Map<number, { reject: Function; resolve: Function }>, port: MessagePort) => {\n        return (message: { method: string; params?: object }, transferables: Transferable[] = []): Promise<void> => {\n            return new Promise((resolve, reject) => {\n                const id = generateUniqueNumber(ongoingRequests);\n\n                ongoingRequests.set(id, { reject, resolve });\n\n                port.postMessage({ id, ...message }, transferables);\n            });\n        };\n    };\n};\n", "import type {\n    IAudioWorkletNode,\n    TAudioWorkletNodeConstructor,\n    TContext,\n    TNativeAudioWorkletNode,\n    TNativeAudioWorkletNodeConstructor,\n    TNativeContext\n} from 'standardized-audio-context';\nimport type { on as onFunction } from 'subscribable-things';\nimport type { validateState as validateStateFunction } from '../functions/validate-state';\nimport { INativeRecorderAudioWorkletNode, IRecorderAudioWorkletNode } from '../interfaces';\nimport { TAnyRecorderAudioWorkletNodeOptions, TState } from '../types';\nimport type { createListener as createListenerFunction } from './listener';\nimport type { createPostMessageFactory } from './post-message-factory';\n\nexport const createRecorderAudioWorkletNodeFactory = (\n    createListener: typeof createListenerFunction,\n    createPostMessage: ReturnType<typeof createPostMessageFactory>,\n    on: typeof onFunction,\n    validateState: typeof validateStateFunction\n) => {\n    return <T extends TContext | TNativeContext>(\n        audioWorkletNodeConstructor: T extends TContext ? TAudioWorkletNodeConstructor : TNativeAudioWorkletNodeConstructor,\n        context: T,\n        options: Partial<TAnyRecorderAudioWorkletNodeOptions<T>> = {}\n    ): T extends TContext ? IRecorderAudioWorkletNode<T> : INativeRecorderAudioWorkletNode => {\n        type TAnyAudioWorkletNode = T extends TContext ? IAudioWorkletNode<T> : TNativeAudioWorkletNode;\n        type TAnyRecorderAudioWorkletNode = T extends TContext ? IRecorderAudioWorkletNode<T> : INativeRecorderAudioWorkletNode;\n\n        const audioWorkletNode: TAnyAudioWorkletNode = new (<any>audioWorkletNodeConstructor)(context, 'recorder-audio-worklet-processor', {\n            ...options,\n            channelCountMode: 'explicit',\n            numberOfInputs: 1,\n            numberOfOutputs: 0\n        });\n        const ongoingRequests: Map<number, { reject: Function; resolve: Function }> = new Map();\n        const postMessage = createPostMessage(ongoingRequests, audioWorkletNode.port);\n        const unsubscribe = on(audioWorkletNode.port, 'message')(createListener(ongoingRequests));\n\n        audioWorkletNode.port.start();\n\n        let state: TState = 'inactive';\n\n        Object.defineProperties(audioWorkletNode, {\n            pause: {\n                get(): TAnyRecorderAudioWorkletNode['pause'] {\n                    return async () => {\n                        validateState(['recording'], state);\n\n                        state = 'paused';\n\n                        return postMessage({\n                            method: 'pause'\n                        });\n                    };\n                }\n            },\n            port: {\n                get(): TAnyRecorderAudioWorkletNode['port'] {\n                    throw new Error(\"The port of a RecorderAudioWorkletNode can't be accessed.\");\n                }\n            },\n            record: {\n                get(): TAnyRecorderAudioWorkletNode['record'] {\n                    return async (encoderPort: MessagePort) => {\n                        validateState(['inactive'], state);\n\n                        state = 'recording';\n\n                        return postMessage(\n                            {\n                                method: 'record',\n                                params: { encoderPort }\n                            },\n                            [encoderPort]\n                        );\n                    };\n                }\n            },\n            resume: {\n                get(): TAnyRecorderAudioWorkletNode['resume'] {\n                    return async () => {\n                        validateState(['paused'], state);\n\n                        state = 'recording';\n\n                        return postMessage({\n                            method: 'resume'\n                        });\n                    };\n                }\n            },\n            stop: {\n                get(): TAnyRecorderAudioWorkletNode['stop'] {\n                    return async () => {\n                        validateState(['paused', 'recording'], state);\n\n                        state = 'stopped';\n\n                        try {\n                            await postMessage({ method: 'stop' });\n                        } finally {\n                            unsubscribe();\n                        }\n                    };\n                }\n            }\n        });\n\n        return <TAnyRecorderAudioWorkletNode>audioWorkletNode;\n    };\n};\n", "import { TState } from '../types';\n\nexport const validateState = (expectedStates: TState[], currentState: TState): void => {\n    if (!expectedStates.includes(currentState)) {\n        throw new Error(\n            `Expected the state to be ${expectedStates\n                .map((expectedState) => `\"${expectedState}\"`)\n                .join(' or ')} but it was \"${currentState}\".`\n        );\n    }\n};\n", "// This is the minified and stringified code of the recorder-audio-worklet-processor package.\nexport const worklet = `(()=>{\"use strict\";class e extends AudioWorkletProcessor{constructor(){super(),this._encoderPort=null,this._state=\"inactive\",this.port.onmessage=e=>{let{data:t}=e;\"pause\"===t.method?\"active\"===this._state||\"recording\"===this._state?(this._state=\"paused\",this._sendAcknowledgement(t.id)):this._sendUnexpectedStateError(t.id):\"record\"===t.method?\"inactive\"===this._state?(this._encoderPort=t.params.encoderPort,this._state=\"active\",this._sendAcknowledgement(t.id)):this._sendUnexpectedStateError(t.id):\"resume\"===t.method?\"paused\"===this._state?(this._state=\"active\",this._sendAcknowledgement(t.id)):this._sendUnexpectedStateError(t.id):\"stop\"===t.method?\"active\"!==this._state&&\"paused\"!==this._state&&\"recording\"!==this._state||null===this._encoderPort?this._sendUnexpectedStateError(t.id):(this._stop(this._encoderPort),this._sendAcknowledgement(t.id)):\"number\"==typeof t.id&&this.port.postMessage({error:{code:-32601,message:\"The requested method is not supported.\"},id:t.id})}}process(e){let[t]=e;if(\"inactive\"===this._state||\"paused\"===this._state)return!0;if(\"active\"===this._state){if(void 0===t)throw new Error(\"No channelData was received for the first input.\");if(0===t.length)return!0;this._state=\"recording\"}if(\"recording\"===this._state&&null!==this._encoderPort){if(void 0===t)throw new Error(\"No channelData was received for the first input.\");if(0!==t.length)return this._encoderPort.postMessage(t,t.map((e=>{let{buffer:t}=e;return t}))),!0;this._stop(this._encoderPort)}return!1}_sendAcknowledgement(e){this.port.postMessage({id:e,result:null})}_sendUnexpectedStateError(e){this.port.postMessage({error:{code:-32603,message:\"The internal state does not allow to process the given message.\"},id:e})}_stop(e){e.postMessage([]),e.close(),this._encoderPort=null,this._state=\"stopped\"}}e.parameterDescriptors=[],registerProcessor(\"recorder-audio-worklet-processor\",e)})();`; // tslint:disable-line:max-line-length\n", "export {};\n//# sourceMappingURL=native-recorder-audio-worklet-node.js.map", "export {};\n//# sourceMappingURL=recorder-audio-worklet-node.js.map", "export * from './native-recorder-audio-worklet-node';\nexport * from './recorder-audio-worklet-node';\n", "export {};\n//# sourceMappingURL=any-recorder-audio-worklet-node-options.js.map", "export {};\n//# sourceMappingURL=native-recorder-audio-worklet-node-options.js.map", "export {};\n//# sourceMappingURL=recorder-audio-worklet-node-options.js.map", "export {};\n//# sourceMappingURL=state.js.map", "export * from './any-recorder-audio-worklet-node-options';\nexport * from './native-recorder-audio-worklet-node-options';\nexport * from './recorder-audio-worklet-node-options';\nexport * from './state';\n", "import { generateUniqueNumber } from 'fast-unique-numbers';\nimport { on } from 'subscribable-things';\nimport { isSupported } from 'worker-factory';\nimport { createAddRecorderAudioWorkletModule } from './factories/add-recorder-audio-worklet-module';\nimport { createListener } from './factories/listener';\nimport { createPostMessageFactory } from './factories/post-message-factory';\nimport { createRecorderAudioWorkletNodeFactory } from './factories/recorder-audio-worklet-node-factory';\nimport { validateState } from './functions/validate-state';\nimport { worklet } from './worklet/worklet';\n\n/*\n * @todo Explicitly referencing the barrel file seems to be necessary when enabling the\n * isolatedModules compiler option.\n */\nexport * from './interfaces/index';\nexport * from './types/index';\n\nexport const addRecorderAudioWorkletModule = createAddRecorderAudioWorkletModule(Blob, URL, worklet);\n\nexport const createRecorderAudioWorkletNode = createRecorderAudioWorkletNodeFactory(\n    createListener,\n    createPostMessageFactory(generateUniqueNumber),\n    on,\n    validateState\n);\n\nexport { isSupported };\n", "import { IExtendedExponentialRampToValueAutomationEvent } from '../interfaces';\n\nexport const createExtendedExponentialRampToValueAutomationEvent = (\n    value: number,\n    endTime: number,\n    insertTime: number\n): IExtendedExponentialRampToValueAutomationEvent => {\n    return { endTime, insertTime, type: 'exponentialRampToValue', value };\n};\n", "import { IExtendedLinearRampToValueAutomationEvent } from '../interfaces';\n\nexport const createExtendedLinearRampToValueAutomationEvent = (\n    value: number,\n    endTime: number,\n    insertTime: number\n): IExtendedLinearRampToValueAutomationEvent => {\n    return { endTime, insertTime, type: 'linearRampToValue', value };\n};\n", "import { ISetValueAutomationEvent } from '../interfaces';\n\nexport const createSetValueAutomationEvent = (value: number, startTime: number): ISetValueAutomationEvent => {\n    return { startTime, type: 'setValue', value };\n};\n", "import { ISetValueCurveAutomationEvent } from '../interfaces';\n\nexport const createSetValueCurveAutomationEvent = (\n    values: Float32Array,\n    startTime: number,\n    duration: number\n): ISetValueCurveAutomationEvent => {\n    return { duration, startTime, type: 'setValueCurve', values };\n};\n", "import { ISetTargetAutomationEvent } from '../interfaces';\n\nexport const getTargetValueAtTime = (\n    time: number,\n    valueAtStartTime: number,\n    { startTime, target, timeConstant }: ISetTargetAutomationEvent\n): number => {\n    return target + (valueAtStartTime - target) * Math.exp((startTime - time) / timeConstant);\n};\n", "import { IExponentialRampToValueAutomationEvent } from '../interfaces';\nimport { TAutomationEvent } from '../types';\n\nexport const isExponentialRampToValueAutomationEvent = (\n    automationEvent: TAutomationEvent\n): automationEvent is IExponentialRampToValueAutomationEvent => {\n    return automationEvent.type === 'exponentialRampToValue';\n};\n", "import { ILinearRampToValueAutomationEvent } from '../interfaces';\nimport { TAutomationEvent } from '../types';\n\nexport const isLinearRampToValueAutomationEvent = (\n    automationEvent: TAutomationEvent\n): automationEvent is ILinearRampToValueAutomationEvent => {\n    return automationEvent.type === 'linearRampToValue';\n};\n", "import { IExponentialRampToValueAutomationEvent, ILinearRampToValueAutomationEvent } from '../interfaces';\nimport { TAutomationEvent } from '../types';\nimport { isExponentialRampToValueAutomationEvent } from './exponential-ramp-to-value-automation-event';\nimport { isLinearRampToValueAutomationEvent } from './linear-ramp-to-value-automation-event';\n\nexport const isAnyRampToValueAutomationEvent = (\n    automationEvent: TAutomationEvent\n): automationEvent is IExponentialRampToValueAutomationEvent | ILinearRampToValueAutomationEvent => {\n    return isExponentialRampToValueAutomationEvent(automationEvent) || isLinearRampToValueAutomationEvent(automationEvent);\n};\n", "import { ISetValueAutomationEvent } from '../interfaces';\nimport { TAutomationEvent } from '../types';\n\nexport const isSetValueAutomationEvent = (automationEvent: TAutomationEvent): automationEvent is ISetValueAutomationEvent => {\n    return automationEvent.type === 'setValue';\n};\n", "import { ISetValueCurveAutomationEvent } from '../interfaces';\nimport { TAutomationEvent } from '../types';\n\nexport const isSetValueCurveAutomationEvent = (automationEvent: TAutomationEvent): automationEvent is ISetValueCurveAutomationEvent => {\n    return automationEvent.type === 'setValueCurve';\n};\n", "import { getTargetValueAtTime } from '../functions/get-target-value-at-time';\nimport { isAnyRampToValueAutomationEvent } from '../guards/any-ramp-to-value-automation-event';\nimport { isSetValueAutomationEvent } from '../guards/set-value-automation-event';\nimport { isSetValueCurveAutomationEvent } from '../guards/set-value-curve-automation-event';\nimport { TPersistentAutomationEvent } from '../types';\n\nexport const getValueOfAutomationEventAtIndexAtTime = (\n    automationEvents: TPersistentAutomationEvent[],\n    index: number,\n    time: number,\n    defaultValue: number\n): number => {\n    const automationEvent = automationEvents[index];\n\n    return automationEvent === undefined\n        ? defaultValue\n        : isAnyRampToValueAutomationEvent(automationEvent) || isSetValueAutomationEvent(automationEvent)\n        ? automationEvent.value\n        : isSetValueCurveAutomationEvent(automationEvent)\n        ? automationEvent.values[automationEvent.values.length - 1]\n        : getTargetValueAtTime(\n              time,\n              getValueOfAutomationEventAtIndexAtTime(automationEvents, index - 1, automationEvent.startTime, defaultValue),\n              automationEvent\n          );\n};\n", "import { getValueOfAutomationEventAtIndexAtTime } from '../functions/get-value-of-automation-event-at-index-at-time';\nimport { isAnyRampToValueAutomationEvent } from '../guards/any-ramp-to-value-automation-event';\nimport { isSetValueAutomationEvent } from '../guards/set-value-automation-event';\nimport { isSetValueCurveAutomationEvent } from '../guards/set-value-curve-automation-event';\nimport { IExtendedExponentialRampToValueAutomationEvent, IExtendedLinearRampToValueAutomationEvent } from '../interfaces';\nimport { TPersistentAutomationEvent } from '../types';\n\nexport const getEndTimeAndValueOfPreviousAutomationEvent = (\n    automationEvents: TPersistentAutomationEvent[],\n    index: number,\n    currentAutomationEvent: TPersistentAutomationEvent,\n    nextAutomationEvent: IExtendedExponentialRampToValueAutomationEvent | IExtendedLinearRampToValueAutomationEvent,\n    defaultValue: number\n): [number, number] => {\n    return currentAutomationEvent === undefined\n        ? [nextAutomationEvent.insertTime, defaultValue]\n        : isAnyRampToValueAutomationEvent(currentAutomationEvent)\n        ? [currentAutomationEvent.endTime, currentAutomationEvent.value]\n        : isSetValueAutomationEvent(currentAutomationEvent)\n        ? [currentAutomationEvent.startTime, currentAutomationEvent.value]\n        : isSetValueCurveAutomationEvent(currentAutomationEvent)\n        ? [\n              currentAutomationEvent.startTime + currentAutomationEvent.duration,\n              currentAutomationEvent.values[currentAutomationEvent.values.length - 1]\n          ]\n        : [\n              currentAutomationEvent.startTime,\n              getValueOfAutomationEventAtIndexAtTime(automationEvents, index - 1, currentAutomationEvent.startTime, defaultValue)\n          ];\n};\n", "import { ICancelAndHoldAutomationEvent } from '../interfaces';\nimport { TAutomationEvent } from '../types';\n\nexport const isCancelAndHoldAutomationEvent = (automationEvent: TAutomationEvent): automationEvent is ICancelAndHoldAutomationEvent => {\n    return automationEvent.type === 'cancelAndHold';\n};\n", "import { ICancelScheduledValuesAutomationEvent } from '../interfaces';\nimport { TAutomationEvent } from '../types';\n\nexport const isCancelScheduledValuesAutomationEvent = (\n    automationEvent: TAutomationEvent\n): automationEvent is ICancelScheduledValuesAutomationEvent => {\n    return automationEvent.type === 'cancelScheduledValues';\n};\n", "import { isCancelAndHoldAutomationEvent } from '../guards/cancel-and-hold-automation-event';\nimport { isCancelScheduledValuesAutomationEvent } from '../guards/cancel-scheduled-values-automation-event';\nimport { isExponentialRampToValueAutomationEvent } from '../guards/exponential-ramp-to-value-automation-event';\nimport { isLinearRampToValueAutomationEvent } from '../guards/linear-ramp-to-value-automation-event';\nimport { TAutomationEvent } from '../types';\n\nexport const getEventTime = (automationEvent: TAutomationEvent): number => {\n    if (isCancelAndHoldAutomationEvent(automationEvent) || isCancelScheduledValuesAutomationEvent(automationEvent)) {\n        return automationEvent.cancelTime;\n    }\n\n    if (isExponentialRampToValueAutomationEvent(automationEvent) || isLinearRampToValueAutomationEvent(automationEvent)) {\n        return automationEvent.endTime;\n    }\n\n    return automationEvent.startTime;\n};\n", "import { IExponentialRampToValueAutomationEvent } from '../interfaces';\n\nexport const getExponentialRampValueAtTime = (\n    time: number,\n    startTime: number,\n    valueAtStartTime: number,\n    { endTime, value }: IExponentialRampToValueAutomationEvent\n) => {\n    if (valueAtStartTime === value) {\n        return value;\n    }\n\n    if ((0 < valueAtStartTime && 0 < value) || (valueAtStartTime < 0 && value < 0)) {\n        return valueAtStartTime * (value / valueAtStartTime) ** ((time - startTime) / (endTime - startTime));\n    }\n\n    return 0;\n};\n", "import { ILinearRampToValueAutomationEvent } from '../interfaces';\n\nexport const getLinearRampValueAtTime = (\n    time: number,\n    startTime: number,\n    valueAtStartTime: number,\n    { endTime, value }: ILinearRampToValueAutomationEvent\n) => {\n    return valueAtStartTime + ((time - startTime) / (endTime - startTime)) * (value - valueAtStartTime);\n};\n", "export const interpolateValue = (values: Float32Array, theoreticIndex: number) => {\n    const lowerIndex = Math.floor(theoreticIndex);\n    const upperIndex = Math.ceil(theoreticIndex);\n\n    if (lowerIndex === upperIndex) {\n        return values[lowerIndex];\n    }\n\n    return (1 - (theoreticIndex - lowerIndex)) * values[lowerIndex] + (1 - (upperIndex - theoreticIndex)) * values[upperIndex];\n};\n", "import { ISetValueCurveAutomationEvent } from '../interfaces';\nimport { interpolateValue } from './interpolate-value';\n\nexport const getValueCurveValueAtTime = (time: number, { duration, startTime, values }: ISetValueCurveAutomationEvent): number => {\n    const theoreticIndex = ((time - startTime) / duration) * (values.length - 1);\n\n    return interpolateValue(values, theoreticIndex);\n};\n", "import { ISetTargetAutomationEvent } from '../interfaces';\nimport { TAutomationEvent } from '../types';\n\nexport const isSetTargetAutomationEvent = (automationEvent: TAutomationEvent): automationEvent is ISetTargetAutomationEvent => {\n    return automationEvent.type === 'setTarget';\n};\n", "import { createExtendedExponentialRampToValueAutomationEvent } from '../functions/create-extended-exponential-ramp-to-value-automation-event';\nimport { createExtendedLinearRampToValueAutomationEvent } from '../functions/create-extended-linear-ramp-to-value-automation-event';\nimport { createSetValueAutomationEvent } from '../functions/create-set-value-automation-event';\nimport { createSetValueCurveAutomationEvent } from '../functions/create-set-value-curve-automation-event';\nimport { getEndTimeAndValueOfPreviousAutomationEvent } from '../functions/get-end-time-and-value-of-previous-automation-event';\nimport { getEventTime } from '../functions/get-event-time';\nimport { getExponentialRampValueAtTime } from '../functions/get-exponential-ramp-value-at-time';\nimport { getLinearRampValueAtTime } from '../functions/get-linear-ramp-value-at-time';\nimport { getTargetValueAtTime } from '../functions/get-target-value-at-time';\nimport { getValueCurveValueAtTime } from '../functions/get-value-curve-value-at-time';\nimport { getValueOfAutomationEventAtIndexAtTime } from '../functions/get-value-of-automation-event-at-index-at-time';\nimport { isAnyRampToValueAutomationEvent } from '../guards/any-ramp-to-value-automation-event';\nimport { isCancelAndHoldAutomationEvent } from '../guards/cancel-and-hold-automation-event';\nimport { isCancelScheduledValuesAutomationEvent } from '../guards/cancel-scheduled-values-automation-event';\nimport { isExponentialRampToValueAutomationEvent } from '../guards/exponential-ramp-to-value-automation-event';\nimport { isLinearRampToValueAutomationEvent } from '../guards/linear-ramp-to-value-automation-event';\nimport { isSetTargetAutomationEvent } from '../guards/set-target-automation-event';\nimport { isSetValueAutomationEvent } from '../guards/set-value-automation-event';\nimport { isSetValueCurveAutomationEvent } from '../guards/set-value-curve-automation-event';\nimport { TAutomationEvent, TPersistentAutomationEvent } from '../types';\n\nexport class AutomationEventList {\n    private _automationEvents: TPersistentAutomationEvent[];\n\n    private _currenTime: number;\n\n    private _defaultValue: number;\n\n    constructor(defaultValue: number) {\n        this._automationEvents = [];\n        this._currenTime = 0;\n        this._defaultValue = defaultValue;\n    }\n\n    public [Symbol.iterator](): Iterator<TPersistentAutomationEvent> {\n        return this._automationEvents[Symbol.iterator]();\n    }\n\n    public add(automationEvent: TAutomationEvent): boolean {\n        const eventTime = getEventTime(automationEvent);\n\n        if (isCancelAndHoldAutomationEvent(automationEvent) || isCancelScheduledValuesAutomationEvent(automationEvent)) {\n            const index = this._automationEvents.findIndex((currentAutomationEvent) => {\n                if (isCancelScheduledValuesAutomationEvent(automationEvent) && isSetValueCurveAutomationEvent(currentAutomationEvent)) {\n                    return currentAutomationEvent.startTime + currentAutomationEvent.duration >= eventTime;\n                }\n\n                return getEventTime(currentAutomationEvent) >= eventTime;\n            });\n            const removedAutomationEvent = this._automationEvents[index];\n\n            if (index !== -1) {\n                this._automationEvents = this._automationEvents.slice(0, index);\n            }\n\n            if (isCancelAndHoldAutomationEvent(automationEvent)) {\n                const lastAutomationEvent = this._automationEvents[this._automationEvents.length - 1];\n\n                if (removedAutomationEvent !== undefined && isAnyRampToValueAutomationEvent(removedAutomationEvent)) {\n                    if (lastAutomationEvent !== undefined && isSetTargetAutomationEvent(lastAutomationEvent)) {\n                        throw new Error('The internal list is malformed.');\n                    }\n\n                    const startTime =\n                        lastAutomationEvent === undefined\n                            ? removedAutomationEvent.insertTime\n                            : isSetValueCurveAutomationEvent(lastAutomationEvent)\n                            ? lastAutomationEvent.startTime + lastAutomationEvent.duration\n                            : getEventTime(lastAutomationEvent);\n                    const startValue =\n                        lastAutomationEvent === undefined\n                            ? this._defaultValue\n                            : isSetValueCurveAutomationEvent(lastAutomationEvent)\n                            ? lastAutomationEvent.values[lastAutomationEvent.values.length - 1]\n                            : lastAutomationEvent.value;\n                    const value = isExponentialRampToValueAutomationEvent(removedAutomationEvent)\n                        ? getExponentialRampValueAtTime(eventTime, startTime, startValue, removedAutomationEvent)\n                        : getLinearRampValueAtTime(eventTime, startTime, startValue, removedAutomationEvent);\n                    const truncatedAutomationEvent = isExponentialRampToValueAutomationEvent(removedAutomationEvent)\n                        ? createExtendedExponentialRampToValueAutomationEvent(value, eventTime, this._currenTime)\n                        : createExtendedLinearRampToValueAutomationEvent(value, eventTime, this._currenTime);\n\n                    this._automationEvents.push(truncatedAutomationEvent);\n                }\n\n                if (lastAutomationEvent !== undefined && isSetTargetAutomationEvent(lastAutomationEvent)) {\n                    this._automationEvents.push(createSetValueAutomationEvent(this.getValue(eventTime), eventTime));\n                }\n\n                if (\n                    lastAutomationEvent !== undefined &&\n                    isSetValueCurveAutomationEvent(lastAutomationEvent) &&\n                    lastAutomationEvent.startTime + lastAutomationEvent.duration > eventTime\n                ) {\n                    const duration = eventTime - lastAutomationEvent.startTime;\n                    const ratio = (lastAutomationEvent.values.length - 1) / lastAutomationEvent.duration;\n                    const length = Math.max(2, 1 + Math.ceil(duration * ratio));\n                    const fraction = (duration / (length - 1)) * ratio;\n                    const values = lastAutomationEvent.values.slice(0, length);\n\n                    if (fraction < 1) {\n                        for (let i = 1; i < length; i += 1) {\n                            const factor = (fraction * i) % 1;\n\n                            values[i] = lastAutomationEvent.values[i - 1] * (1 - factor) + lastAutomationEvent.values[i] * factor;\n                        }\n                    }\n\n                    this._automationEvents[this._automationEvents.length - 1] = createSetValueCurveAutomationEvent(\n                        values,\n                        lastAutomationEvent.startTime,\n                        duration\n                    );\n                }\n            }\n        } else {\n            const index = this._automationEvents.findIndex((currentAutomationEvent) => getEventTime(currentAutomationEvent) > eventTime);\n\n            const previousAutomationEvent =\n                index === -1 ? this._automationEvents[this._automationEvents.length - 1] : this._automationEvents[index - 1];\n\n            if (\n                previousAutomationEvent !== undefined &&\n                isSetValueCurveAutomationEvent(previousAutomationEvent) &&\n                getEventTime(previousAutomationEvent) + previousAutomationEvent.duration > eventTime\n            ) {\n                return false;\n            }\n\n            const persistentAutomationEvent = isExponentialRampToValueAutomationEvent(automationEvent)\n                ? createExtendedExponentialRampToValueAutomationEvent(automationEvent.value, automationEvent.endTime, this._currenTime)\n                : isLinearRampToValueAutomationEvent(automationEvent)\n                ? createExtendedLinearRampToValueAutomationEvent(automationEvent.value, eventTime, this._currenTime)\n                : automationEvent;\n\n            if (index === -1) {\n                this._automationEvents.push(persistentAutomationEvent);\n            } else {\n                if (\n                    isSetValueCurveAutomationEvent(automationEvent) &&\n                    eventTime + automationEvent.duration > getEventTime(this._automationEvents[index])\n                ) {\n                    return false;\n                }\n\n                this._automationEvents.splice(index, 0, persistentAutomationEvent);\n            }\n        }\n\n        return true;\n    }\n\n    public flush(time: number): void {\n        const index = this._automationEvents.findIndex((currentAutomationEvent) => getEventTime(currentAutomationEvent) > time);\n\n        if (index > 1) {\n            const remainingAutomationEvents = this._automationEvents.slice(index - 1);\n            const firstRemainingAutomationEvent = remainingAutomationEvents[0];\n\n            if (isSetTargetAutomationEvent(firstRemainingAutomationEvent)) {\n                remainingAutomationEvents.unshift(\n                    createSetValueAutomationEvent(\n                        getValueOfAutomationEventAtIndexAtTime(\n                            this._automationEvents,\n                            index - 2,\n                            firstRemainingAutomationEvent.startTime,\n                            this._defaultValue\n                        ),\n                        firstRemainingAutomationEvent.startTime\n                    )\n                );\n            }\n\n            this._automationEvents = remainingAutomationEvents;\n        }\n    }\n\n    public getValue(time: number): number {\n        if (this._automationEvents.length === 0) {\n            return this._defaultValue;\n        }\n\n        const indexOfNextEvent = this._automationEvents.findIndex((automationEvent) => getEventTime(automationEvent) > time);\n        const nextAutomationEvent = this._automationEvents[indexOfNextEvent];\n        const indexOfCurrentEvent = (indexOfNextEvent === -1 ? this._automationEvents.length : indexOfNextEvent) - 1;\n        const currentAutomationEvent = this._automationEvents[indexOfCurrentEvent];\n\n        if (\n            currentAutomationEvent !== undefined &&\n            isSetTargetAutomationEvent(currentAutomationEvent) &&\n            (nextAutomationEvent === undefined ||\n                !isAnyRampToValueAutomationEvent(nextAutomationEvent) ||\n                nextAutomationEvent.insertTime > time)\n        ) {\n            return getTargetValueAtTime(\n                time,\n                getValueOfAutomationEventAtIndexAtTime(\n                    this._automationEvents,\n                    indexOfCurrentEvent - 1,\n                    currentAutomationEvent.startTime,\n                    this._defaultValue\n                ),\n                currentAutomationEvent\n            );\n        }\n\n        if (\n            currentAutomationEvent !== undefined &&\n            isSetValueAutomationEvent(currentAutomationEvent) &&\n            (nextAutomationEvent === undefined || !isAnyRampToValueAutomationEvent(nextAutomationEvent))\n        ) {\n            return currentAutomationEvent.value;\n        }\n\n        if (\n            currentAutomationEvent !== undefined &&\n            isSetValueCurveAutomationEvent(currentAutomationEvent) &&\n            (nextAutomationEvent === undefined ||\n                !isAnyRampToValueAutomationEvent(nextAutomationEvent) ||\n                currentAutomationEvent.startTime + currentAutomationEvent.duration > time)\n        ) {\n            if (time < currentAutomationEvent.startTime + currentAutomationEvent.duration) {\n                return getValueCurveValueAtTime(time, currentAutomationEvent);\n            }\n\n            return currentAutomationEvent.values[currentAutomationEvent.values.length - 1];\n        }\n\n        if (\n            currentAutomationEvent !== undefined &&\n            isAnyRampToValueAutomationEvent(currentAutomationEvent) &&\n            (nextAutomationEvent === undefined || !isAnyRampToValueAutomationEvent(nextAutomationEvent))\n        ) {\n            return currentAutomationEvent.value;\n        }\n\n        if (nextAutomationEvent !== undefined && isExponentialRampToValueAutomationEvent(nextAutomationEvent)) {\n            const [startTime, value] = getEndTimeAndValueOfPreviousAutomationEvent(\n                this._automationEvents,\n                indexOfCurrentEvent,\n                currentAutomationEvent,\n                nextAutomationEvent,\n                this._defaultValue\n            );\n\n            return getExponentialRampValueAtTime(time, startTime, value, nextAutomationEvent);\n        }\n\n        if (nextAutomationEvent !== undefined && isLinearRampToValueAutomationEvent(nextAutomationEvent)) {\n            const [startTime, value] = getEndTimeAndValueOfPreviousAutomationEvent(\n                this._automationEvents,\n                indexOfCurrentEvent,\n                currentAutomationEvent,\n                nextAutomationEvent,\n                this._defaultValue\n            );\n\n            return getLinearRampValueAtTime(time, startTime, value, nextAutomationEvent);\n        }\n\n        return this._defaultValue;\n    }\n}\n", "import { ICancelAndHoldAutomationEvent } from '../interfaces';\n\nexport const createCancelAndHoldAutomationEvent = (cancelTime: number): ICancelAndHoldAutomationEvent => {\n    return { cancelTime, type: 'cancelAndHold' };\n};\n", "import { ICancelScheduledValuesAutomationEvent } from '../interfaces';\n\nexport const createCancelScheduledValuesAutomationEvent = (cancelTime: number): ICancelScheduledValuesAutomationEvent => {\n    return { cancelTime, type: 'cancelScheduledValues' };\n};\n", "import { IExponentialRampToValueAutomationEvent } from '../interfaces';\n\nexport const createExponentialRampToValueAutomationEvent = (value: number, endTime: number): IExponentialRampToValueAutomationEvent => {\n    return { endTime, type: 'exponentialRampToValue', value };\n};\n", "import { ILinearRampToValueAutomationEvent } from '../interfaces';\n\nexport const createLinearRampToValueAutomationEvent = (value: number, endTime: number): ILinearRampToValueAutomationEvent => {\n    return { endTime, type: 'linearRampToValue', value };\n};\n", "import { ISetTargetAutomationEvent } from '../interfaces';\n\nexport const createSetTargetAutomationEvent = (target: number, startTime: number, timeConstant: number): ISetTargetAutomationEvent => {\n    return { startTime, target, timeConstant, type: 'setTarget' };\n};\n", "export {};\n//# sourceMappingURL=cancel-and-hold-automation-event.js.map", "export {};\n//# sourceMappingURL=cancel-scheduled-values-automation-event.js.map", "export {};\n//# sourceMappingURL=exponential-ramp-to-value-automation-event.js.map", "export {};\n//# sourceMappingURL=extended-exponential-ramp-to-value-automation-event.js.map", "export {};\n//# sourceMappingURL=extended-linear-ramp-to-value-automation-event.js.map", "export {};\n//# sourceMappingURL=linear-ramp-to-value-automation-event.js.map", "export {};\n//# sourceMappingURL=set-value-automation-event.js.map", "export {};\n//# sourceMappingURL=set-target-automation-event.js.map", "export {};\n//# sourceMappingURL=set-value-curve-automation-event.js.map", "export * from './cancel-and-hold-automation-event';\nexport * from './cancel-scheduled-values-automation-event';\nexport * from './exponential-ramp-to-value-automation-event';\nexport * from './extended-exponential-ramp-to-value-automation-event';\nexport * from './extended-linear-ramp-to-value-automation-event';\nexport * from './linear-ramp-to-value-automation-event';\nexport * from './set-value-automation-event';\nexport * from './set-target-automation-event';\nexport * from './set-value-curve-automation-event';\n", "export {};\n//# sourceMappingURL=automation-event.js.map", "export {};\n//# sourceMappingURL=persistent-automation-event.js.map", "export * from './automation-event';\nexport * from './persistent-automation-event';\n", "import { AutomationEventList } from './classes/automation-event-list';\nimport { createCancelAndHoldAutomationEvent } from './functions/create-cancel-and-hold-automation-event';\nimport { createCancelScheduledValuesAutomationEvent } from './functions/create-cancel-scheduled-values-automation-event';\nimport { createExponentialRampToValueAutomationEvent } from './functions/create-exponential-ramp-to-value-automation-event';\nimport { createLinearRampToValueAutomationEvent } from './functions/create-linear-ramp-to-value-automation-event';\nimport { createSetTargetAutomationEvent } from './functions/create-set-target-automation-event';\nimport { createSetValueAutomationEvent } from './functions/create-set-value-automation-event';\nimport { createSetValueCurveAutomationEvent } from './functions/create-set-value-curve-automation-event';\n\n/*\n * @todo Explicitly referencing the barrel file seems to be necessary when enabling the\n * isolatedModules compiler option.\n */\nexport * from './interfaces/index';\nexport * from './types/index';\n\nexport { AutomationEventList };\n\nexport { createCancelAndHoldAutomationEvent };\n\nexport { createCancelScheduledValuesAutomationEvent };\n\nexport { createExponentialRampToValueAutomationEvent };\n\nexport { createLinearRampToValueAutomationEvent };\n\nexport { createSetTargetAutomationEvent };\n\nexport { createSetValueAutomationEvent };\n\nexport { createSetValueCurveAutomationEvent };\n", "import { TAbortErrorFactory } from '../types';\n\nexport const createAbortError: TAbortErrorFactory = () => new DOMException('', 'AbortError');\n", "import { TAddActiveInputConnectionToAudioNodeFactory } from '../types/add-active-input-connection-to-audio-node-factory';\n\nexport const createAddActiveInputConnectionToAudioNode: TAddActiveInputConnectionToAudioNodeFactory = (insertElementInSet) => {\n    return (activeInputs, source, [output, input, eventListener], ignoreDuplicates) => {\n        insertElementInSet(\n            activeInputs[input],\n            [source, output, eventListener],\n            (activeInputConnection) => activeInputConnection[0] === source && activeInputConnection[1] === output,\n            ignoreDuplicates\n        );\n    };\n};\n", "import { IAudioNode, IAudioNodeRenderer, IMinimalOfflineAudioContext, IOfflineAudioContext } from '../interfaces';\nimport { TActiveInputConnection, TAddAudioNodeConnectionsFactory, TContext, TNativeAudioNode } from '../types';\n\nexport const createAddAudioNodeConnections: TAddAudioNodeConnectionsFactory = (audioNodeConnectionsStore) => {\n    return <T extends TContext>(\n        audioNode: IAudioNode<T>,\n        audioNodeRenderer: T extends IMinimalOfflineAudioContext | IOfflineAudioContext ? IAudioNodeRenderer<T, IAudioNode<T>> : null,\n        nativeAudioNode: TNativeAudioNode\n    ) => {\n        const activeInputs = [];\n\n        for (let i = 0; i < nativeAudioNode.numberOfInputs; i += 1) {\n            activeInputs.push(new Set<TActiveInputConnection<T>>());\n        }\n\n        audioNodeConnectionsStore.set(audioNode, {\n            activeInputs,\n            outputs: new Set(),\n            passiveInputs: new WeakMap(),\n            renderer: audioNodeRenderer\n        });\n    };\n};\n", "import { IAudioParam, IAudioParamRenderer, IMinimalOfflineAudioContext, IOfflineAudioContext } from '../interfaces';\nimport { TAddAudioParamConnectionsFactory, TContext } from '../types';\n\nexport const createAddAudioParamConnections: TAddAudioParamConnectionsFactory = (audioParamConnectionsStore) => {\n    return <T extends TContext>(\n        audioParam: IAudioParam,\n        audioParamRenderer: T extends IMinimalOfflineAudioContext | IOfflineAudioContext ? IAudioParamRenderer : null\n    ) => {\n        audioParamConnectionsStore.set(audioParam, { activeInputs: new Set(), passiveInputs: new WeakMap(), renderer: audioParamRenderer });\n    };\n};\n", "import { IAudioNode, IAudioWorkletProcessor, IAudioWorkletProcessorConstructor } from './interfaces';\nimport {\n    TAudioNodeConnectionsStore,\n    TAudioNodeStore,\n    TAudioParamConnectionsStore,\n    TAudioParamStore,\n    TContext,\n    TContextStore,\n    TCycleCounters,\n    TInternalStateEventListener,\n    TNativeAudioWorkletNode,\n    TNativeContext\n} from './types';\n\nexport const ACTIVE_AUDIO_NODE_STORE: WeakSet<IAudioNode<TContext>> = new WeakSet();\n\nexport const AUDIO_NODE_CONNECTIONS_STORE: TAudioNodeConnectionsStore = new WeakMap();\n\nexport const AUDIO_NODE_STORE: TAudioNodeStore = new WeakMap();\n\nexport const AUDIO_PARAM_CONNECTIONS_STORE: TAudioParamConnectionsStore = new WeakMap();\n\nexport const AUDIO_PARAM_STORE: TAudioParamStore = new WeakMap();\n\nexport const CONTEXT_STORE: TContextStore = new WeakMap();\n\nexport const EVENT_LISTENERS: WeakMap<IAudioNode<TContext>, Set<TInternalStateEventListener>> = new WeakMap();\n\nexport const CYCLE_COUNTERS: TCycleCounters = new WeakMap();\n\n// This clunky name is borrowed from the spec. :-)\nexport const NODE_NAME_TO_PROCESSOR_CONSTRUCTOR_MAPS: WeakMap<\n    TNativeContext,\n    Map<string, IAudioWorkletProcessorConstructor>\n> = new WeakMap();\n\nexport const NODE_TO_PROCESSOR_MAPS: WeakMap<\n    TNativeContext,\n    WeakMap<TNativeAudioWorkletNode, Promise<IAudioWorkletProcessor>>\n> = new WeakMap();\n", "import { TConstructor } from '../types';\n\nconst handler = {\n    construct(): any {\n        return handler;\n    }\n};\n\nexport const isConstructible = (constructible: TConstructor): boolean => {\n    try {\n        const proxy = new Proxy(constructible, handler);\n\n        new proxy(); // tslint:disable-line:no-unused-expression\n    } catch {\n        return false;\n    }\n\n    return true;\n};\n", "/*\n * This massive regex tries to cover all the following cases.\n *\n * import './path';\n * import defaultImport from './path';\n * import { namedImport } from './path';\n * import { namedImport as renamendImport } from './path';\n * import * as namespaceImport from './path';\n * import defaultImport, { namedImport } from './path';\n * import defaultImport, { namedImport as renamendImport } from './path';\n * import defaultImport, * as namespaceImport from './path';\n */\nconst IMPORT_STATEMENT_REGEX = /^import(?:(?:[\\s]+[\\w]+|(?:[\\s]+[\\w]+[\\s]*,)?[\\s]*\\{[\\s]*[\\w]+(?:[\\s]+as[\\s]+[\\w]+)?(?:[\\s]*,[\\s]*[\\w]+(?:[\\s]+as[\\s]+[\\w]+)?)*[\\s]*}|(?:[\\s]+[\\w]+[\\s]*,)?[\\s]*\\*[\\s]+as[\\s]+[\\w]+)[\\s]+from)?(?:[\\s]*)(\"([^\"\\\\]|\\\\.)+\"|'([^'\\\\]|\\\\.)+')(?:[\\s]*);?/; // tslint:disable-line:max-line-length\n\nexport const splitImportStatements = (source: string, url: string): [string, string] => {\n    const importStatements = [];\n\n    let sourceWithoutImportStatements = source.replace(/^[\\s]+/, '');\n    let result = sourceWithoutImportStatements.match(IMPORT_STATEMENT_REGEX);\n\n    while (result !== null) {\n        const unresolvedUrl = result[1].slice(1, -1);\n\n        const importStatementWithResolvedUrl = result[0]\n            .replace(/([\\s]+)?;?$/, '')\n            .replace(unresolvedUrl, new URL(unresolvedUrl, url).toString());\n        importStatements.push(importStatementWithResolvedUrl);\n\n        sourceWithoutImportStatements = sourceWithoutImportStatements.slice(result[0].length).replace(/^[\\s]+/, '');\n        result = sourceWithoutImportStatements.match(IMPORT_STATEMENT_REGEX);\n    }\n\n    return [importStatements.join(';'), sourceWithoutImportStatements];\n};\n", "import { NODE_NAME_TO_PROCESSOR_CONSTRUCTOR_MAPS } from '../globals';\nimport { isConstructible } from '../helpers/is-constructible';\nimport { splitImportStatements } from '../helpers/split-import-statements';\nimport { IAudioWorkletProcessorConstructor } from '../interfaces';\nimport { TAddAudioWorkletModuleFactory, TEvaluateAudioWorkletGlobalScopeFunction } from '../types';\n\nconst verifyParameterDescriptors = (parameterDescriptors: IAudioWorkletProcessorConstructor['parameterDescriptors']) => {\n    if (parameterDescriptors !== undefined && !Array.isArray(parameterDescriptors)) {\n        throw new TypeError('The parameterDescriptors property of given value for processorCtor is not an array.');\n    }\n};\n\nconst verifyProcessorCtor = <T extends IAudioWorkletProcessorConstructor>(processorCtor: T) => {\n    if (!isConstructible(processorCtor)) {\n        throw new TypeError('The given value for processorCtor should be a constructor.');\n    }\n\n    if (processorCtor.prototype === null || typeof processorCtor.prototype !== 'object') {\n        throw new TypeError('The given value for processorCtor should have a prototype.');\n    }\n};\n\nexport const createAddAudioWorkletModule: TAddAudioWorkletModuleFactory = (\n    cacheTestResult,\n    createNotSupportedError,\n    evaluateSource,\n    exposeCurrentFrameAndCurrentTime,\n    fetchSource,\n    getNativeContext,\n    getOrCreateBackupOfflineAudioContext,\n    isNativeOfflineAudioContext,\n    nativeAudioWorkletNodeConstructor,\n    ongoingRequests,\n    resolvedRequests,\n    testAudioWorkletProcessorPostMessageSupport,\n    window\n) => {\n    let index = 0;\n\n    return (context, moduleURL, options = { credentials: 'omit' }) => {\n        const resolvedRequestsOfContext = resolvedRequests.get(context);\n\n        if (resolvedRequestsOfContext !== undefined && resolvedRequestsOfContext.has(moduleURL)) {\n            return Promise.resolve();\n        }\n\n        const ongoingRequestsOfContext = ongoingRequests.get(context);\n\n        if (ongoingRequestsOfContext !== undefined) {\n            const promiseOfOngoingRequest = ongoingRequestsOfContext.get(moduleURL);\n\n            if (promiseOfOngoingRequest !== undefined) {\n                return promiseOfOngoingRequest;\n            }\n        }\n\n        const nativeContext = getNativeContext(context);\n\n        // Bug #59: Safari does not implement the audioWorklet property.\n        const promise =\n            nativeContext.audioWorklet === undefined\n                ? fetchSource(moduleURL)\n                      .then(([source, absoluteUrl]) => {\n                          const [importStatements, sourceWithoutImportStatements] = splitImportStatements(source, absoluteUrl);\n\n                          /*\n                           * This is the unminified version of the code used below:\n                           *\n                           * ```js\n                           * ${ importStatements };\n                           * ((a, b) => {\n                           *     (a[b] = a[b] || [ ]).push(\n                           *         (AudioWorkletProcessor, global, registerProcessor, sampleRate, self, window) => {\n                           *             ${ sourceWithoutImportStatements }\n                           *         }\n                           *     );\n                           * })(window, '_AWGS');\n                           * ```\n                           */\n                          // tslint:disable-next-line:max-line-length\n                          const wrappedSource = `${importStatements};((a,b)=>{(a[b]=a[b]||[]).push((AudioWorkletProcessor,global,registerProcessor,sampleRate,self,window)=>{${sourceWithoutImportStatements}\n})})(window,'_AWGS')`;\n\n                          // @todo Evaluating the given source code is a possible security problem.\n                          return evaluateSource(wrappedSource);\n                      })\n                      .then(() => {\n                          const evaluateAudioWorkletGlobalScope = (<TEvaluateAudioWorkletGlobalScopeFunction[]>(<any>window)._AWGS).pop();\n\n                          if (evaluateAudioWorkletGlobalScope === undefined) {\n                              // Bug #182 Chrome and Edge do throw an instance of a SyntaxError instead of a DOMException.\n                              throw new SyntaxError();\n                          }\n\n                          exposeCurrentFrameAndCurrentTime(nativeContext.currentTime, nativeContext.sampleRate, () =>\n                              evaluateAudioWorkletGlobalScope(\n                                  class AudioWorkletProcessor {},\n                                  undefined,\n                                  (name, processorCtor) => {\n                                      if (name.trim() === '') {\n                                          throw createNotSupportedError();\n                                      }\n\n                                      const nodeNameToProcessorConstructorMap = NODE_NAME_TO_PROCESSOR_CONSTRUCTOR_MAPS.get(nativeContext);\n\n                                      if (nodeNameToProcessorConstructorMap !== undefined) {\n                                          if (nodeNameToProcessorConstructorMap.has(name)) {\n                                              throw createNotSupportedError();\n                                          }\n\n                                          verifyProcessorCtor(processorCtor);\n                                          verifyParameterDescriptors(processorCtor.parameterDescriptors);\n\n                                          nodeNameToProcessorConstructorMap.set(name, processorCtor);\n                                      } else {\n                                          verifyProcessorCtor(processorCtor);\n                                          verifyParameterDescriptors(processorCtor.parameterDescriptors);\n\n                                          NODE_NAME_TO_PROCESSOR_CONSTRUCTOR_MAPS.set(nativeContext, new Map([[name, processorCtor]]));\n                                      }\n                                  },\n                                  nativeContext.sampleRate,\n                                  undefined,\n                                  undefined\n                              )\n                          );\n                      })\n                : Promise.all([\n                      fetchSource(moduleURL),\n                      Promise.resolve(\n                          cacheTestResult(testAudioWorkletProcessorPostMessageSupport, testAudioWorkletProcessorPostMessageSupport)\n                      )\n                  ]).then(([[source, absoluteUrl], isSupportingPostMessage]) => {\n                      const currentIndex = index + 1;\n\n                      index = currentIndex;\n\n                      const [importStatements, sourceWithoutImportStatements] = splitImportStatements(source, absoluteUrl);\n                      /*\n                       * Bug #179: Firefox does not allow to transfer any buffer which has been passed to the process() method as an argument.\n                       *\n                       * This is the unminified version of the code used below.\n                       *\n                       * ```js\n                       * class extends AudioWorkletProcessor {\n                       *\n                       *     __buffers = new WeakSet();\n                       *\n                       *     constructor () {\n                       *         super();\n                       *\n                       *         this.port.postMessage = ((postMessage) => {\n                       *             return (message, transferables) => {\n                       *                 const filteredTransferables = (transferables)\n                       *                     ? transferables.filter((transferable) => !this.__buffers.has(transferable))\n                       *                     : transferables;\n                       *\n                       *                 return postMessage.call(this.port, message, filteredTransferables);\n                       *              };\n                       *         })(this.port.postMessage);\n                       *     }\n                       * }\n                       * ```\n                       */\n                      const patchedAudioWorkletProcessor = isSupportingPostMessage\n                          ? 'AudioWorkletProcessor'\n                          : 'class extends AudioWorkletProcessor {__b=new WeakSet();constructor(){super();(p=>p.postMessage=(q=>(m,t)=>q.call(p,m,t?t.filter(u=>!this.__b.has(u)):t))(p.postMessage))(this.port)}}';\n                      /*\n                       * Bug #170: Chrome and Edge do call process() with an array with empty channelData for each input if no input is connected.\n                       *\n                       * Bug #179: Firefox does not allow to transfer any buffer which has been passed to the process() method as an argument.\n                       *\n                       * Bug #190: Safari doesn't throw an error when loading an unparsable module.\n                       *\n                       * This is the unminified version of the code used below:\n                       *\n                       * ```js\n                       * `${ importStatements };\n                       * ((AudioWorkletProcessor, registerProcessor) => {${ sourceWithoutImportStatements }\n                       * })(\n                       *     ${patchedAudioWorkletProcessor },\n                       *     (name, processorCtor) => registerProcessor(name, class extends processorCtor {\n                       *\n                       *         __collectBuffers = (array) => {\n                       *             array.forEach((element) => this.__buffers.add(element.buffer));\n                       *         };\n                       *\n                       *         process (inputs, outputs, parameters) {\n                       *             inputs.forEach(this.__collectBuffers);\n                       *             outputs.forEach(this.__collectBuffers);\n                       *             this.__collectBuffers(Object.values(parameters));\n                       *\n                       *             return super.process(\n                       *                 (inputs.map((input) => input.some((channelData) => channelData.length === 0)) ? [ ] : input),\n                       *                 outputs,\n                       *                 parameters\n                       *             );\n                       *         }\n                       *\n                       *     })\n                       * );\n                       *\n                       * registerProcessor(`__sac${currentIndex}`, class extends AudioWorkletProcessor{\n                       *\n                       *     process () {\n                       *         return false;\n                       *     }\n                       *\n                       * })`\n                       * ```\n                       */\n                      const memberDefinition = isSupportingPostMessage ? '' : '__c = (a) => a.forEach(e=>this.__b.add(e.buffer));';\n                      const bufferRegistration = isSupportingPostMessage\n                          ? ''\n                          : 'i.forEach(this.__c);o.forEach(this.__c);this.__c(Object.values(p));';\n                      const wrappedSource = `${importStatements};((AudioWorkletProcessor,registerProcessor)=>{${sourceWithoutImportStatements}\n})(${patchedAudioWorkletProcessor},(n,p)=>registerProcessor(n,class extends p{${memberDefinition}process(i,o,p){${bufferRegistration}return super.process(i.map(j=>j.some(k=>k.length===0)?[]:j),o,p)}}));registerProcessor('__sac${currentIndex}',class extends AudioWorkletProcessor{process(){return !1}})`;\n                      const blob = new Blob([wrappedSource], { type: 'application/javascript; charset=utf-8' });\n                      const url = URL.createObjectURL(blob);\n\n                      return nativeContext.audioWorklet\n                          .addModule(url, options)\n                          .then(() => {\n                              if (isNativeOfflineAudioContext(nativeContext)) {\n                                  return nativeContext;\n                              }\n\n                              // Bug #186: Chrome and Edge do not allow to create an AudioWorkletNode on a closed AudioContext.\n                              const backupOfflineAudioContext = getOrCreateBackupOfflineAudioContext(nativeContext);\n\n                              return backupOfflineAudioContext.audioWorklet.addModule(url, options).then(() => backupOfflineAudioContext);\n                          })\n                          .then((nativeContextOrBackupOfflineAudioContext) => {\n                              if (nativeAudioWorkletNodeConstructor === null) {\n                                  throw new SyntaxError();\n                              }\n\n                              try {\n                                  // Bug #190: Safari doesn't throw an error when loading an unparsable module.\n                                  new nativeAudioWorkletNodeConstructor(nativeContextOrBackupOfflineAudioContext, `__sac${currentIndex}`); // tslint:disable-line:no-unused-expression\n                              } catch {\n                                  throw new SyntaxError();\n                              }\n                          })\n                          .finally(() => URL.revokeObjectURL(url));\n                  });\n\n        if (ongoingRequestsOfContext === undefined) {\n            ongoingRequests.set(context, new Map([[moduleURL, promise]]));\n        } else {\n            ongoingRequestsOfContext.set(moduleURL, promise);\n        }\n\n        promise\n            .then(() => {\n                const updatedResolvedRequestsOfContext = resolvedRequests.get(context);\n\n                if (updatedResolvedRequestsOfContext === undefined) {\n                    resolvedRequests.set(context, new Set([moduleURL]));\n                } else {\n                    updatedResolvedRequestsOfContext.add(moduleURL);\n                }\n            })\n            .finally(() => {\n                const updatedOngoingRequestsOfContext = ongoingRequests.get(context);\n\n                if (updatedOngoingRequestsOfContext !== undefined) {\n                    updatedOngoingRequestsOfContext.delete(moduleURL);\n                }\n            });\n\n        return promise;\n    };\n};\n", "import { TGetValueForKeyFunction } from '../types';\n\nexport const getValueForKey: TGetValueForKeyFunction = (map, key) => {\n    const value = map.get(key);\n\n    if (value === undefined) {\n        throw new Error('A value with the given key could not be found.');\n    }\n\n    return value;\n};\n", "import { TPickElementFromSetFunction } from '../types';\n\nexport const pickElementFromSet: TPickElementFromSetFunction = (set, predicate) => {\n    const matchingElements = Array.from(set).filter(predicate);\n\n    if (matchingElements.length > 1) {\n        throw Error('More than one element was found.');\n    }\n\n    if (matchingElements.length === 0) {\n        throw Error('No element was found.');\n    }\n\n    const [matchingElement] = matchingElements;\n\n    set.delete(matchingElement);\n\n    return matchingElement;\n};\n", "import { IAudioNode } from '../interfaces';\nimport { TContext, TPassiveAudioNodeInputConnection } from '../types';\nimport { getValueForKey } from './get-value-for-key';\nimport { pickElementFromSet } from './pick-element-from-set';\n\nexport const deletePassiveInputConnectionToAudioNode = <T extends TContext>(\n    passiveInputs: WeakMap<IAudioNode<T>, Set<TPassiveAudioNodeInputConnection>>,\n    source: IAudioNode<T>,\n    output: number,\n    input: number\n) => {\n    const passiveInputConnections = getValueForKey(passiveInputs, source);\n    const matchingConnection = pickElementFromSet(\n        passiveInputConnections,\n        (passiveInputConnection) => passiveInputConnection[0] === output && passiveInputConnection[1] === input\n    );\n\n    if (passiveInputConnections.size === 0) {\n        passiveInputs.delete(source);\n    }\n\n    return matchingConnection;\n};\n", "import { EVENT_LISTENERS } from '../globals';\nimport { TGetEventListenersOfAudioNodeFunction } from '../types';\nimport { getValueForKey } from './get-value-for-key';\n\nexport const getEventListenersOfAudioNode: TGetEventListenersOfAudioNodeFunction = (audioNode) => {\n    return getValueForKey(EVENT_LISTENERS, audioNode);\n};\n", "import { ACTIVE_AUDIO_NODE_STORE } from '../globals';\nimport { IAudioNode } from '../interfaces';\nimport { TContext } from '../types';\nimport { getEventListenersOfAudioNode } from './get-event-listeners-of-audio-node';\n\nexport const setInternalStateToActive = <T extends TContext>(audioNode: IAudioNode<T>) => {\n    if (ACTIVE_AUDIO_NODE_STORE.has(audioNode)) {\n        throw new Error('The AudioNode is already stored.');\n    }\n\n    ACTIVE_AUDIO_NODE_STORE.add(audioNode);\n\n    getEventListenersOfAudioNode(audioNode).forEach((eventListener) => eventListener(true));\n};\n", "import { IAudioNode, IAudioWorkletNode } from '../interfaces';\nimport { TContext } from '../types';\n\nexport const isAudioWorkletNode = <T extends TContext>(audioNode: IAudioNode<T>): audioNode is IAudioWorkletNode<T> => {\n    return 'port' in audioNode;\n};\n", "import { ACTIVE_AUDIO_NODE_STORE } from '../globals';\nimport { IAudioNode } from '../interfaces';\nimport { TContext } from '../types';\nimport { getEventListenersOfAudioNode } from './get-event-listeners-of-audio-node';\n\nexport const setInternalStateToPassive = <T extends TContext>(audioNode: IAudioNode<T>) => {\n    if (!ACTIVE_AUDIO_NODE_STORE.has(audioNode)) {\n        throw new Error('The AudioNode is not stored.');\n    }\n\n    ACTIVE_AUDIO_NODE_STORE.delete(audioNode);\n\n    getEventListenersOfAudioNode(audioNode).forEach((eventListener) => eventListener(false));\n};\n", "import { isAudioWorkletNode } from '../guards/audio-worklet-node';\nimport { IAudioNode } from '../interfaces';\nimport { TActiveInputConnection, TContext } from '../types';\nimport { setInternalStateToPassive } from './set-internal-state-to-passive';\n\n// Set the internalState of the audioNode to 'passive' if it is not an AudioWorkletNode and if it has no 'active' input connections.\nexport const setInternalStateToPassiveWhenNecessary = <T extends TContext>(\n    audioNode: IAudioNode<T>,\n    activeInputs: Set<TActiveInputConnection<T>>[]\n) => {\n    if (!isAudioWorkletNode(audioNode) && activeInputs.every((connections) => connections.size === 0)) {\n        setInternalStateToPassive(audioNode);\n    }\n};\n", "import { deletePassiveInputConnectionToAudioNode } from '../helpers/delete-passive-input-connection-to-audio-node';\nimport { setInternalStateToActive } from '../helpers/set-internal-state-to-active';\nimport { setInternalStateToPassiveWhenNecessary } from '../helpers/set-internal-state-to-passive-when-necessary';\nimport { IAudioNode } from '../interfaces';\nimport { TAddConnectionToAudioNodeFactory, TContext, TInternalStateEventListener } from '../types';\n\nexport const createAddConnectionToAudioNode: TAddConnectionToAudioNodeFactory = (\n    addActiveInputConnectionToAudioNode,\n    addPassiveInputConnectionToAudioNode,\n    connectNativeAudioNodeToNativeAudioNode,\n    deleteActiveInputConnectionToAudioNode,\n    disconnectNativeAudioNodeFromNativeAudioNode,\n    getAudioNodeConnections,\n    getAudioNodeTailTime,\n    getEventListenersOfAudioNode,\n    getNativeAudioNode,\n    insertElementInSet,\n    isActiveAudioNode,\n    isPartOfACycle,\n    isPassiveAudioNode\n) => {\n    const tailTimeTimeoutIds = new WeakMap<IAudioNode<TContext>, number>();\n\n    return (source, destination, output, input, isOffline) => {\n        const { activeInputs, passiveInputs } = getAudioNodeConnections(destination);\n        const { outputs } = getAudioNodeConnections(source);\n        const eventListeners = getEventListenersOfAudioNode(source);\n\n        const eventListener: TInternalStateEventListener = (isActive) => {\n            const nativeDestinationAudioNode = getNativeAudioNode(destination);\n            const nativeSourceAudioNode = getNativeAudioNode(source);\n\n            if (isActive) {\n                const partialConnection = deletePassiveInputConnectionToAudioNode(passiveInputs, source, output, input);\n\n                addActiveInputConnectionToAudioNode(activeInputs, source, partialConnection, false);\n\n                if (!isOffline && !isPartOfACycle(source)) {\n                    connectNativeAudioNodeToNativeAudioNode(nativeSourceAudioNode, nativeDestinationAudioNode, output, input);\n                }\n\n                if (isPassiveAudioNode(destination)) {\n                    setInternalStateToActive(destination);\n                }\n            } else {\n                const partialConnection = deleteActiveInputConnectionToAudioNode(activeInputs, source, output, input);\n\n                addPassiveInputConnectionToAudioNode(passiveInputs, input, partialConnection, false);\n\n                if (!isOffline && !isPartOfACycle(source)) {\n                    disconnectNativeAudioNodeFromNativeAudioNode(nativeSourceAudioNode, nativeDestinationAudioNode, output, input);\n                }\n\n                const tailTime = getAudioNodeTailTime(destination);\n\n                if (tailTime === 0) {\n                    if (isActiveAudioNode(destination)) {\n                        setInternalStateToPassiveWhenNecessary(destination, activeInputs);\n                    }\n                } else {\n                    const tailTimeTimeoutId = tailTimeTimeoutIds.get(destination);\n\n                    if (tailTimeTimeoutId !== undefined) {\n                        clearTimeout(tailTimeTimeoutId);\n                    }\n\n                    tailTimeTimeoutIds.set(\n                        destination,\n                        setTimeout(() => {\n                            if (isActiveAudioNode(destination)) {\n                                setInternalStateToPassiveWhenNecessary(destination, activeInputs);\n                            }\n                        }, tailTime * 1000)\n                    );\n                }\n            }\n        };\n\n        if (\n            insertElementInSet(\n                outputs,\n                [destination, output, input],\n                (outputConnection) =>\n                    outputConnection[0] === destination && outputConnection[1] === output && outputConnection[2] === input,\n                true\n            )\n        ) {\n            eventListeners.add(eventListener);\n\n            if (isActiveAudioNode(source)) {\n                addActiveInputConnectionToAudioNode(activeInputs, source, [output, input, eventListener], true);\n            } else {\n                addPassiveInputConnectionToAudioNode(passiveInputs, input, [source, output, eventListener], true);\n            }\n\n            return true;\n        }\n\n        return false;\n    };\n};\n", "import { TAddPassiveInputConnectionToAudioNodeFactory } from '../types';\n\nexport const createAddPassiveInputConnectionToAudioNode: TAddPassiveInputConnectionToAudioNodeFactory = (insertElementInSet) => {\n    return (passiveInputs, input, [source, output, eventListener], ignoreDuplicates) => {\n        const passiveInputConnections = passiveInputs.get(source);\n\n        if (passiveInputConnections === undefined) {\n            passiveInputs.set(source, new Set([[output, input, eventListener]]));\n        } else {\n            insertElementInSet(\n                passiveInputConnections,\n                [output, input, eventListener],\n                (passiveInputConnection) => passiveInputConnection[0] === output && passiveInputConnection[1] === input,\n                ignoreDuplicates\n            );\n        }\n    };\n};\n", "import { TAddSilentConnectionFactory } from '../types';\n\nexport const createAddSilentConnection: TAddSilentConnectionFactory = (createNativeGainNode) => {\n    return (nativeContext, nativeAudioScheduledSourceNode) => {\n        const nativeGainNode = createNativeGainNode(nativeContext, {\n            channelCount: 1,\n            channelCountMode: 'explicit',\n            channelInterpretation: 'discrete',\n            gain: 0\n        });\n\n        nativeAudioScheduledSourceNode.connect(nativeGainNode).connect(nativeContext.destination);\n\n        const disconnect = () => {\n            nativeAudioScheduledSourceNode.removeEventListener('ended', disconnect);\n            nativeAudioScheduledSourceNode.disconnect(nativeGainNode);\n            nativeGainNode.disconnect();\n        };\n\n        nativeAudioScheduledSourceNode.addEventListener('ended', disconnect);\n    };\n};\n", "import { TAddUnrenderedAudioWorkletNodeFactory } from '../types';\n\nexport const createAddUnrenderedAudioWorkletNode: TAddUnrenderedAudioWorkletNodeFactory = (getUnrenderedAudioWorkletNodes) => {\n    return (nativeContext, audioWorkletNode) => {\n        getUnrenderedAudioWorkletNodes(nativeContext).add(audioWorkletNode);\n    };\n};\n", "import { IAnalyserNode, IAnalyserOptions } from '../interfaces';\nimport { TAnalyserNodeConstructorFactory, TAudioNodeRenderer, TContext, TNativeAnalyserNode } from '../types';\n\nconst DEFAULT_OPTIONS = {\n    channelCount: 2,\n    channelCountMode: 'max',\n    channelInterpretation: 'speakers',\n    fftSize: 2048,\n    maxDecibels: -30,\n    minDecibels: -100,\n    smoothingTimeConstant: 0.8\n} as const;\n\nexport const createAnalyserNodeConstructor: TAnalyserNodeConstructorFactory = (\n    audionNodeConstructor,\n    createAnalyserNodeRenderer,\n    createIndexSizeError,\n    createNativeAnalyserNode,\n    getNativeContext,\n    isNativeOfflineAudioContext\n) => {\n    return class AnalyserNode<T extends TContext> extends audionNodeConstructor<T> implements IAnalyserNode<T> {\n        private _nativeAnalyserNode: TNativeAnalyserNode;\n\n        constructor(context: T, options?: Partial<IAnalyserOptions>) {\n            const nativeContext = getNativeContext(context);\n            const mergedOptions = { ...DEFAULT_OPTIONS, ...options };\n            const nativeAnalyserNode = createNativeAnalyserNode(nativeContext, mergedOptions);\n            const analyserNodeRenderer = <TAudioNodeRenderer<T, this>>(\n                (isNativeOfflineAudioContext(nativeContext) ? createAnalyserNodeRenderer() : null)\n            );\n\n            super(context, false, nativeAnalyserNode, analyserNodeRenderer);\n\n            this._nativeAnalyserNode = nativeAnalyserNode;\n        }\n\n        get fftSize(): number {\n            return this._nativeAnalyserNode.fftSize;\n        }\n\n        set fftSize(value) {\n            this._nativeAnalyserNode.fftSize = value;\n        }\n\n        get frequencyBinCount(): number {\n            return this._nativeAnalyserNode.frequencyBinCount;\n        }\n\n        get maxDecibels(): number {\n            return this._nativeAnalyserNode.maxDecibels;\n        }\n\n        set maxDecibels(value) {\n            // Bug #118: Safari does not throw an error if maxDecibels is not more than minDecibels.\n            const maxDecibels = this._nativeAnalyserNode.maxDecibels;\n\n            this._nativeAnalyserNode.maxDecibels = value;\n\n            if (!(value > this._nativeAnalyserNode.minDecibels)) {\n                this._nativeAnalyserNode.maxDecibels = maxDecibels;\n\n                throw createIndexSizeError();\n            }\n        }\n\n        get minDecibels(): number {\n            return this._nativeAnalyserNode.minDecibels;\n        }\n\n        set minDecibels(value) {\n            // Bug #118: Safari does not throw an error if maxDecibels is not more than minDecibels.\n            const minDecibels = this._nativeAnalyserNode.minDecibels;\n\n            this._nativeAnalyserNode.minDecibels = value;\n\n            if (!(this._nativeAnalyserNode.maxDecibels > value)) {\n                this._nativeAnalyserNode.minDecibels = minDecibels;\n\n                throw createIndexSizeError();\n            }\n        }\n\n        get smoothingTimeConstant(): number {\n            return this._nativeAnalyserNode.smoothingTimeConstant;\n        }\n\n        set smoothingTimeConstant(value) {\n            this._nativeAnalyserNode.smoothingTimeConstant = value;\n        }\n\n        public getByteFrequencyData(array: Uint8Array): void {\n            this._nativeAnalyserNode.getByteFrequencyData(array);\n        }\n\n        public getByteTimeDomainData(array: Uint8Array): void {\n            this._nativeAnalyserNode.getByteTimeDomainData(array);\n        }\n\n        public getFloatFrequencyData(array: Float32Array): void {\n            this._nativeAnalyserNode.getFloatFrequencyData(array);\n        }\n\n        public getFloatTimeDomainData(array: Float32Array): void {\n            this._nativeAnalyserNode.getFloatTimeDomainData(array);\n        }\n    };\n};\n", "import { TNativeAudioNode, TNativeContext } from '../types';\n\nexport const isOwnedByContext = (nativeAudioNode: TNativeAudioNode, nativeContext: TNativeContext): boolean => {\n    return nativeAudioNode.context === nativeContext;\n};\n", "import { isOwnedByContext } from '../helpers/is-owned-by-context';\nimport { IAnalyserNode, IMinimalOfflineAudioContext, IOfflineAudioContext } from '../interfaces';\nimport { TAnalyserNodeRendererFactoryFactory, TNativeAnalyserNode, TNativeOfflineAudioContext } from '../types';\n\nexport const createAnalyserNodeRendererFactory: TAnalyserNodeRendererFactoryFactory = (\n    createNativeAnalyserNode,\n    getNativeAudioNode,\n    renderInputsOfAudioNode\n) => {\n    return <T extends IMinimalOfflineAudioContext | IOfflineAudioContext>() => {\n        const renderedNativeAnalyserNodes = new WeakMap<TNativeOfflineAudioContext, TNativeAnalyserNode>();\n\n        const createAnalyserNode = async (proxy: IAnalyserNode<T>, nativeOfflineAudioContext: TNativeOfflineAudioContext) => {\n            let nativeAnalyserNode = getNativeAudioNode<T, TNativeAnalyserNode>(proxy);\n\n            // If the initially used nativeAnalyserNode was not constructed on the same OfflineAudioContext it needs to be created again.\n            const nativeAnalyserNodeIsOwnedByContext = isOwnedByContext(nativeAnalyserNode, nativeOfflineAudioContext);\n\n            if (!nativeAnalyserNodeIsOwnedByContext) {\n                const options = {\n                    channelCount: nativeAnalyserNode.channelCount,\n                    channelCountMode: nativeAnalyserNode.channelCountMode,\n                    channelInterpretation: nativeAnalyserNode.channelInterpretation,\n                    fftSize: nativeAnalyserNode.fftSize,\n                    maxDecibels: nativeAnalyserNode.maxDecibels,\n                    minDecibels: nativeAnalyserNode.minDecibels,\n                    smoothingTimeConstant: nativeAnalyserNode.smoothingTimeConstant\n                };\n\n                nativeAnalyserNode = createNativeAnalyserNode(nativeOfflineAudioContext, options);\n            }\n\n            renderedNativeAnalyserNodes.set(nativeOfflineAudioContext, nativeAnalyserNode);\n\n            await renderInputsOfAudioNode(proxy, nativeOfflineAudioContext, nativeAnalyserNode);\n\n            return nativeAnalyserNode;\n        };\n\n        return {\n            render(proxy: IAnalyserNode<T>, nativeOfflineAudioContext: TNativeOfflineAudioContext): Promise<TNativeAnalyserNode> {\n                const renderedNativeAnalyserNode = renderedNativeAnalyserNodes.get(nativeOfflineAudioContext);\n\n                if (renderedNativeAnalyserNode !== undefined) {\n                    return Promise.resolve(renderedNativeAnalyserNode);\n                }\n\n                return createAnalyserNode(proxy, nativeOfflineAudioContext);\n            }\n        };\n    };\n};\n", "import { TNativeAudioBuffer } from '../types';\n\nexport const testAudioBufferCopyChannelMethodsOutOfBoundsSupport = (nativeAudioBuffer: TNativeAudioBuffer): boolean => {\n    try {\n        nativeAudioBuffer.copyToChannel(new Float32Array(1), 0, -1);\n    } catch {\n        return false;\n    }\n\n    return true;\n};\n", "import { TIndexSizeErrorFactory } from '../types';\n\nexport const createIndexSizeError: TIndexSizeErrorFactory = () => new DOMException('', 'IndexSizeError');\n", "import { createIndexSizeError } from '../factories/index-size-error';\nimport { TNativeAudioBuffer } from '../types';\n\nexport const wrapAudioBufferGetChannelDataMethod = (audioBuffer: TNativeAudioBuffer): void => {\n    audioBuffer.getChannelData = ((getChannelData) => {\n        return (channel: number) => {\n            try {\n                return getChannelData.call(audioBuffer, channel);\n            } catch (err) {\n                if (err.code === 12) {\n                    throw createIndexSizeError();\n                }\n\n                throw err;\n            }\n        };\n    })(audioBuffer.getChannelData);\n};\n", "import { testAudioBufferCopyChannelMethodsOutOfBoundsSupport } from '../helpers/test-audio-buffer-copy-channel-methods-out-of-bounds-support';\nimport { wrapAudioBufferGetChannelDataMethod } from '../helpers/wrap-audio-buffer-get-channel-data-method';\nimport { IAudioBuffer, IAudioBufferOptions } from '../interfaces';\nimport { TAudioBufferConstructorFactory, TNativeOfflineAudioContext } from '../types';\n\nconst DEFAULT_OPTIONS = {\n    numberOfChannels: 1\n} as const;\n\nexport const createAudioBufferConstructor: TAudioBufferConstructorFactory = (\n    audioBufferStore,\n    cacheTestResult,\n    createNotSupportedError,\n    nativeAudioBufferConstructor,\n    nativeOfflineAudioContextConstructor,\n    testNativeAudioBufferConstructorSupport,\n    wrapAudioBufferCopyChannelMethods,\n    wrapAudioBufferCopyChannelMethodsOutOfBounds\n) => {\n    let nativeOfflineAudioContext: null | TNativeOfflineAudioContext = null;\n\n    return class AudioBuffer implements IAudioBuffer {\n        // This field needs to be defined to convince TypeScript that the IAudioBuffer will be implemented.\n        public copyFromChannel!: (destination: Float32Array, channelNumber: number, bufferOffset?: number) => void;\n\n        // This field needs to be defined to convince TypeScript that the IAudioBuffer will be implemented.\n        public copyToChannel!: (source: Float32Array, channelNumber: number, bufferOffset?: number) => void;\n\n        // This field needs to be defined to convince TypeScript that the IAudioBuffer will be implemented.\n        public duration!: number;\n\n        // This field needs to be defined to convince TypeScript that the IAudioBuffer will be implemented.\n        public getChannelData!: (channel: number) => Float32Array;\n\n        // This field needs to be defined to convince TypeScript that the IAudioBuffer will be implemented.\n        public length!: number;\n\n        // This field needs to be defined to convince TypeScript that the IAudioBuffer will be implemented.\n        public numberOfChannels!: number;\n\n        // This field needs to be defined to convince TypeScript that the IAudioBuffer will be implemented.\n        public sampleRate!: number;\n\n        constructor(options: IAudioBufferOptions) {\n            if (nativeOfflineAudioContextConstructor === null) {\n                throw new Error('Missing the native OfflineAudioContext constructor.');\n            }\n\n            const { length, numberOfChannels, sampleRate } = { ...DEFAULT_OPTIONS, ...options };\n\n            if (nativeOfflineAudioContext === null) {\n                nativeOfflineAudioContext = new nativeOfflineAudioContextConstructor(1, 1, 44100);\n            }\n\n            /*\n             * Bug #99: Firefox does not throw a NotSupportedError when the numberOfChannels is zero. But it only does it when using the\n             * factory function. But since Firefox also supports the constructor everything should be fine.\n             */\n            const audioBuffer =\n                nativeAudioBufferConstructor !== null &&\n                cacheTestResult(testNativeAudioBufferConstructorSupport, testNativeAudioBufferConstructorSupport)\n                    ? new nativeAudioBufferConstructor({ length, numberOfChannels, sampleRate })\n                    : nativeOfflineAudioContext.createBuffer(numberOfChannels, length, sampleRate);\n\n            // Bug #99: Safari does not throw an error when the numberOfChannels is zero.\n            if (audioBuffer.numberOfChannels === 0) {\n                throw createNotSupportedError();\n            }\n\n            // Bug #5: Safari does not support copyFromChannel() and copyToChannel().\n            // Bug #100: Safari does throw a wrong error when calling getChannelData() with an out-of-bounds value.\n            if (typeof audioBuffer.copyFromChannel !== 'function') {\n                wrapAudioBufferCopyChannelMethods(audioBuffer);\n                wrapAudioBufferGetChannelDataMethod(audioBuffer);\n                // Bug #157: Firefox does not allow the bufferOffset to be out-of-bounds.\n            } else if (\n                !cacheTestResult(testAudioBufferCopyChannelMethodsOutOfBoundsSupport, () =>\n                    testAudioBufferCopyChannelMethodsOutOfBoundsSupport(audioBuffer)\n                )\n            ) {\n                wrapAudioBufferCopyChannelMethodsOutOfBounds(audioBuffer);\n            }\n\n            audioBufferStore.add(audioBuffer);\n\n            /*\n             * This does violate all good pratices but it is necessary to allow this AudioBuffer to be used with native\n             * (Offline)AudioContexts.\n             */\n            return audioBuffer;\n        }\n\n        public static [Symbol.hasInstance](instance: unknown): boolean {\n            return (\n                (instance !== null && typeof instance === 'object' && Object.getPrototypeOf(instance) === AudioBuffer.prototype) ||\n                audioBufferStore.has(<any>instance)\n            );\n        }\n    };\n};\n", "export const MOST_NEGATIVE_SINGLE_FLOAT = -3.4028234663852886e38;\n\nexport const MOST_POSITIVE_SINGLE_FLOAT = -MOST_NEGATIVE_SINGLE_FLOAT;\n", "import { ACTIVE_AUDIO_NODE_STORE } from '../globals';\nimport { TIsActiveAudioNodeFunction } from '../types';\n\nexport const isActiveAudioNode: TIsActiveAudioNodeFunction = (audioNode) => ACTIVE_AUDIO_NODE_STORE.has(audioNode);\n", "import { MOST_NEGATIVE_SINGLE_FLOAT, MOST_POSITIVE_SINGLE_FLOAT } from '../constants';\nimport { isActiveAudioNode } from '../helpers/is-active-audio-node';\nimport { setInternalStateToActive } from '../helpers/set-internal-state-to-active';\nimport { setInternalStateToPassive } from '../helpers/set-internal-state-to-passive';\nimport { IAudioBufferSourceNode, IAudioBufferSourceOptions, IAudioParam, IAudioScheduledSourceNodeEventMap } from '../interfaces';\nimport {\n    TAnyAudioBuffer,\n    TAudioBufferSourceNodeConstructorFactory,\n    TAudioBufferSourceNodeRenderer,\n    TContext,\n    TEventHandler,\n    TNativeAudioBufferSourceNode\n} from '../types';\n\nconst DEFAULT_OPTIONS = {\n    buffer: null,\n    channelCount: 2,\n    channelCountMode: 'max',\n    channelInterpretation: 'speakers',\n    // Bug #149: Safari does not yet support the detune AudioParam.\n    loop: false,\n    loopEnd: 0,\n    loopStart: 0,\n    playbackRate: 1\n} as const;\n\nexport const createAudioBufferSourceNodeConstructor: TAudioBufferSourceNodeConstructorFactory = (\n    audioNodeConstructor,\n    createAudioBufferSourceNodeRenderer,\n    createAudioParam,\n    createInvalidStateError,\n    createNativeAudioBufferSourceNode,\n    getNativeContext,\n    isNativeOfflineAudioContext,\n    wrapEventListener\n) => {\n    return class AudioBufferSourceNode<T extends TContext>\n        extends audioNodeConstructor<T, IAudioScheduledSourceNodeEventMap>\n        implements IAudioBufferSourceNode<T>\n    {\n        private _audioBufferSourceNodeRenderer: TAudioBufferSourceNodeRenderer<T>;\n\n        private _isBufferNullified: boolean;\n\n        private _isBufferSet: boolean;\n\n        private _nativeAudioBufferSourceNode: TNativeAudioBufferSourceNode;\n\n        private _onended: null | TEventHandler<this>;\n\n        private _playbackRate: IAudioParam;\n\n        constructor(context: T, options?: Partial<IAudioBufferSourceOptions>) {\n            const nativeContext = getNativeContext(context);\n            const mergedOptions = { ...DEFAULT_OPTIONS, ...options };\n            const nativeAudioBufferSourceNode = createNativeAudioBufferSourceNode(nativeContext, mergedOptions);\n            const isOffline = isNativeOfflineAudioContext(nativeContext);\n            const audioBufferSourceNodeRenderer = <TAudioBufferSourceNodeRenderer<T>>(\n                (isOffline ? createAudioBufferSourceNodeRenderer() : null)\n            );\n\n            super(context, false, nativeAudioBufferSourceNode, audioBufferSourceNodeRenderer);\n\n            this._audioBufferSourceNodeRenderer = audioBufferSourceNodeRenderer;\n            this._isBufferNullified = false;\n            this._isBufferSet = mergedOptions.buffer !== null;\n            this._nativeAudioBufferSourceNode = nativeAudioBufferSourceNode;\n            this._onended = null;\n            // Bug #73: Safari does not export the correct values for maxValue and minValue.\n            this._playbackRate = createAudioParam(\n                this,\n                isOffline,\n                nativeAudioBufferSourceNode.playbackRate,\n                MOST_POSITIVE_SINGLE_FLOAT,\n                MOST_NEGATIVE_SINGLE_FLOAT\n            );\n        }\n\n        get buffer(): null | TAnyAudioBuffer {\n            if (this._isBufferNullified) {\n                return null;\n            }\n\n            return this._nativeAudioBufferSourceNode.buffer;\n        }\n\n        set buffer(value) {\n            this._nativeAudioBufferSourceNode.buffer = value;\n\n            // Bug #72: Only Chrome & Edge do not allow to reassign the buffer yet.\n            if (value !== null) {\n                if (this._isBufferSet) {\n                    throw createInvalidStateError();\n                }\n\n                this._isBufferSet = true;\n            }\n        }\n\n        get loop(): boolean {\n            return this._nativeAudioBufferSourceNode.loop;\n        }\n\n        set loop(value) {\n            this._nativeAudioBufferSourceNode.loop = value;\n        }\n\n        get loopEnd(): number {\n            return this._nativeAudioBufferSourceNode.loopEnd;\n        }\n\n        set loopEnd(value) {\n            this._nativeAudioBufferSourceNode.loopEnd = value;\n        }\n\n        get loopStart(): number {\n            return this._nativeAudioBufferSourceNode.loopStart;\n        }\n\n        set loopStart(value) {\n            this._nativeAudioBufferSourceNode.loopStart = value;\n        }\n\n        get onended(): null | TEventHandler<this> {\n            return this._onended;\n        }\n\n        set onended(value) {\n            const wrappedListener = typeof value === 'function' ? wrapEventListener(this, value) : null;\n\n            this._nativeAudioBufferSourceNode.onended = wrappedListener;\n\n            const nativeOnEnded = this._nativeAudioBufferSourceNode.onended;\n\n            this._onended = nativeOnEnded !== null && nativeOnEnded === wrappedListener ? value : nativeOnEnded;\n        }\n\n        get playbackRate(): IAudioParam {\n            return this._playbackRate;\n        }\n\n        public start(when = 0, offset = 0, duration?: number): void {\n            this._nativeAudioBufferSourceNode.start(when, offset, duration);\n\n            if (this._audioBufferSourceNodeRenderer !== null) {\n                this._audioBufferSourceNodeRenderer.start = duration === undefined ? [when, offset] : [when, offset, duration];\n            }\n\n            if (this.context.state !== 'closed') {\n                setInternalStateToActive(this);\n\n                const resetInternalStateToPassive = () => {\n                    this._nativeAudioBufferSourceNode.removeEventListener('ended', resetInternalStateToPassive);\n\n                    if (isActiveAudioNode(this)) {\n                        setInternalStateToPassive(this);\n                    }\n                };\n\n                this._nativeAudioBufferSourceNode.addEventListener('ended', resetInternalStateToPassive);\n            }\n        }\n\n        public stop(when = 0): void {\n            this._nativeAudioBufferSourceNode.stop(when);\n\n            if (this._audioBufferSourceNodeRenderer !== null) {\n                this._audioBufferSourceNodeRenderer.stop = when;\n            }\n        }\n    };\n};\n", "import { isOwnedByContext } from '../helpers/is-owned-by-context';\nimport { IAudioBufferSourceNode, IMinimalOfflineAudioContext, IOfflineAudioContext } from '../interfaces';\nimport { TAudioBufferSourceNodeRendererFactoryFactory, TNativeAudioBufferSourceNode, TNativeOfflineAudioContext } from '../types';\n\nexport const createAudioBufferSourceNodeRendererFactory: TAudioBufferSourceNodeRendererFactoryFactory = (\n    connectAudioParam,\n    createNativeAudioBufferSourceNode,\n    getNativeAudioNode,\n    renderAutomation,\n    renderInputsOfAudioNode\n) => {\n    return <T extends IMinimalOfflineAudioContext | IOfflineAudioContext>() => {\n        const renderedNativeAudioBufferSourceNodes = new WeakMap<TNativeOfflineAudioContext, TNativeAudioBufferSourceNode>();\n\n        let start: null | [number, number] | [number, number, number] = null;\n        let stop: null | number = null;\n\n        const createAudioBufferSourceNode = async (\n            proxy: IAudioBufferSourceNode<T>,\n            nativeOfflineAudioContext: TNativeOfflineAudioContext\n        ) => {\n            let nativeAudioBufferSourceNode = getNativeAudioNode<T, TNativeAudioBufferSourceNode>(proxy);\n\n            /*\n             * If the initially used nativeAudioBufferSourceNode was not constructed on the same OfflineAudioContext it needs to be created\n             * again.\n             */\n            const nativeAudioBufferSourceNodeIsOwnedByContext = isOwnedByContext(nativeAudioBufferSourceNode, nativeOfflineAudioContext);\n\n            if (!nativeAudioBufferSourceNodeIsOwnedByContext) {\n                const options = {\n                    buffer: nativeAudioBufferSourceNode.buffer,\n                    channelCount: nativeAudioBufferSourceNode.channelCount,\n                    channelCountMode: nativeAudioBufferSourceNode.channelCountMode,\n                    channelInterpretation: nativeAudioBufferSourceNode.channelInterpretation,\n                    // Bug #149: Safari does not yet support the detune AudioParam.\n                    loop: nativeAudioBufferSourceNode.loop,\n                    loopEnd: nativeAudioBufferSourceNode.loopEnd,\n                    loopStart: nativeAudioBufferSourceNode.loopStart,\n                    playbackRate: nativeAudioBufferSourceNode.playbackRate.value\n                };\n\n                nativeAudioBufferSourceNode = createNativeAudioBufferSourceNode(nativeOfflineAudioContext, options);\n\n                if (start !== null) {\n                    nativeAudioBufferSourceNode.start(...start);\n                }\n\n                if (stop !== null) {\n                    nativeAudioBufferSourceNode.stop(stop);\n                }\n            }\n\n            renderedNativeAudioBufferSourceNodes.set(nativeOfflineAudioContext, nativeAudioBufferSourceNode);\n\n            if (!nativeAudioBufferSourceNodeIsOwnedByContext) {\n                // Bug #149: Safari does not yet support the detune AudioParam.\n                await renderAutomation(nativeOfflineAudioContext, proxy.playbackRate, nativeAudioBufferSourceNode.playbackRate);\n            } else {\n                // Bug #149: Safari does not yet support the detune AudioParam.\n                await connectAudioParam(nativeOfflineAudioContext, proxy.playbackRate, nativeAudioBufferSourceNode.playbackRate);\n            }\n\n            await renderInputsOfAudioNode(proxy, nativeOfflineAudioContext, nativeAudioBufferSourceNode);\n\n            return nativeAudioBufferSourceNode;\n        };\n\n        return {\n            set start(value: [number, number] | [number, number, number]) {\n                start = value;\n            },\n            set stop(value: number) {\n                stop = value;\n            },\n            render(\n                proxy: IAudioBufferSourceNode<T>,\n                nativeOfflineAudioContext: TNativeOfflineAudioContext\n            ): Promise<TNativeAudioBufferSourceNode> {\n                const renderedNativeAudioBufferSourceNode = renderedNativeAudioBufferSourceNodes.get(nativeOfflineAudioContext);\n\n                if (renderedNativeAudioBufferSourceNode !== undefined) {\n                    return Promise.resolve(renderedNativeAudioBufferSourceNode);\n                }\n\n                return createAudioBufferSourceNode(proxy, nativeOfflineAudioContext);\n            }\n        };\n    };\n};\n", "import { IAudioBufferSourceNode, IAudioNode } from '../interfaces';\nimport { TContext } from '../types';\n\nexport const isAudioBufferSourceNode = <T extends TContext>(audioNode: IAudioNode<T>): audioNode is IAudioBufferSourceNode<T> => {\n    return 'playbackRate' in audioNode;\n};\n", "import { IAudioNode, IBiquadFilterNode } from '../interfaces';\nimport { TContext } from '../types';\n\nexport const isBiquadFilterNode = <T extends TContext>(audioNode: IAudioNode<T>): audioNode is IBiquadFilterNode<T> => {\n    return 'frequency' in audioNode && 'gain' in audioNode;\n};\n", "import { IAudioNode, IConstantSourceNode } from '../interfaces';\nimport { TContext } from '../types';\n\nexport const isConstantSourceNode = <T extends TContext>(audioNode: IAudioNode<T>): audioNode is IConstantSourceNode<T> => {\n    return 'offset' in audioNode;\n};\n", "import { IAudioNode, IGainNode } from '../interfaces';\nimport { TContext } from '../types';\n\nexport const isGainNode = <T extends TContext>(audioNode: IAudioNode<T>): audioNode is IGainNode<T> => {\n    return !('frequency' in audioNode) && 'gain' in audioNode;\n};\n", "import { IAudioNode, IOscillatorNode } from '../interfaces';\nimport { TContext } from '../types';\n\nexport const isOscillatorNode = <T extends TContext>(audioNode: IAudioNode<T>): audioNode is IOscillatorNode<T> => {\n    return 'detune' in audioNode && 'frequency' in audioNode;\n};\n", "import { IAudioNode, IStereoPannerNode } from '../interfaces';\nimport { TContext } from '../types';\n\nexport const isStereoPannerNode = <T extends TContext>(audioNode: IAudioNode<T>): audioNode is IStereoPannerNode<T> => {\n    return 'pan' in audioNode;\n};\n", "import { AUDIO_NODE_CONNECTIONS_STORE } from '../globals';\nimport { IAudioNode } from '../interfaces';\nimport { TAudioNodeConnections, TContext, TGetAudioNodeConnectionsFunction } from '../types';\nimport { getValueForKey } from './get-value-for-key';\n\nexport const getAudioNodeConnections: TGetAudioNodeConnectionsFunction = <T extends TContext>(\n    audioNode: IAudioNode<T>\n): TAudioNodeConnections<T> => {\n    return <TAudioNodeConnections<T>>getValueForKey(AUDIO_NODE_CONNECTIONS_STORE, audioNode);\n};\n", "import { AUDIO_PARAM_CONNECTIONS_STORE } from '../globals';\nimport { IAudioParam } from '../interfaces';\nimport { TAudioParamConnections, TContext, TGetAudioParamConnectionsFunction } from '../types';\nimport { getValueForKey } from './get-value-for-key';\n\nexport const getAudioParamConnections: TGetAudioParamConnectionsFunction = <T extends TContext>(\n    audioParam: IAudioParam\n): TAudioParamConnections<T> => {\n    return <TAudioParamConnections<T>>getValueForKey(AUDIO_PARAM_CONNECTIONS_STORE, audioParam);\n};\n", "import { isAudioBufferSourceNode } from '../guards/audio-buffer-source-node';\nimport { isAudioWorkletNode } from '../guards/audio-worklet-node';\nimport { isBiquadFilterNode } from '../guards/biquad-filter-node';\nimport { isConstantSourceNode } from '../guards/constant-source-node';\nimport { isGainNode } from '../guards/gain-node';\nimport { isOscillatorNode } from '../guards/oscillator-node';\nimport { isStereoPannerNode } from '../guards/stereo-panner-node';\nimport { IAudioNode } from '../interfaces';\nimport { TContext } from '../types';\nimport { getAudioNodeConnections } from './get-audio-node-connections';\nimport { getAudioParamConnections } from './get-audio-param-connections';\nimport { isActiveAudioNode } from './is-active-audio-node';\nimport { setInternalStateToPassive } from './set-internal-state-to-passive';\n\nexport const deactivateActiveAudioNodeInputConnections = <T extends TContext>(\n    audioNode: IAudioNode<T>,\n    trace: readonly IAudioNode<T>[]\n) => {\n    const { activeInputs } = getAudioNodeConnections(audioNode);\n\n    activeInputs.forEach((connections) =>\n        connections.forEach(([source]) => {\n            if (!trace.includes(audioNode)) {\n                deactivateActiveAudioNodeInputConnections(source, [...trace, audioNode]);\n            }\n        })\n    );\n\n    const audioParams = isAudioBufferSourceNode(audioNode)\n        ? [\n              // Bug #149: Safari does not yet support the detune AudioParam.\n              audioNode.playbackRate\n          ]\n        : isAudioWorkletNode(audioNode)\n        ? Array.from(audioNode.parameters.values())\n        : isBiquadFilterNode(audioNode)\n        ? [audioNode.Q, audioNode.detune, audioNode.frequency, audioNode.gain]\n        : isConstantSourceNode(audioNode)\n        ? [audioNode.offset]\n        : isGainNode(audioNode)\n        ? [audioNode.gain]\n        : isOscillatorNode(audioNode)\n        ? [audioNode.detune, audioNode.frequency]\n        : isStereoPannerNode(audioNode)\n        ? [audioNode.pan]\n        : [];\n\n    for (const audioParam of audioParams) {\n        const audioParamConnections = getAudioParamConnections<T>(audioParam);\n\n        if (audioParamConnections !== undefined) {\n            audioParamConnections.activeInputs.forEach(([source]) => deactivateActiveAudioNodeInputConnections(source, trace));\n        }\n    }\n\n    if (isActiveAudioNode(audioNode)) {\n        setInternalStateToPassive(audioNode);\n    }\n};\n", "import { IAudioDestinationNode } from '../interfaces';\nimport { TContext } from '../types';\nimport { deactivateActiveAudioNodeInputConnections } from './deactivate-active-audio-node-input-connections';\n\nexport const deactivateAudioGraph = <T extends TContext>(context: T): void => {\n    deactivateActiveAudioNodeInputConnections(<IAudioDestinationNode<T>>context.destination, []);\n};\n", "import { IAudioContextOptions } from '../interfaces';\n\nexport const isValidLatencyHint = (latencyHint: IAudioContextOptions['latencyHint']) => {\n    return (\n        latencyHint === undefined ||\n        typeof latencyHint === 'number' ||\n        (typeof latencyHint === 'string' && (latencyHint === 'balanced' || latencyHint === 'interactive' || latencyHint === 'playback'))\n    );\n};\n", "import { deactivateAudioGraph } from '../helpers/deactivate-audio-graph';\nimport { isValidLatencyHint } from '../helpers/is-valid-latency-hint';\nimport {\n    IAudioContext,\n    IAudioContextOptions,\n    IMediaElementAudioSourceNode,\n    IMediaStreamAudioDestinationNode,\n    IMediaStreamAudioSourceNode,\n    IMediaStreamTrackAudioSourceNode\n} from '../interfaces';\nimport { TAudioContextConstructorFactory, TAudioContextState, TNativeAudioContext, TNativeGainNode, TNativeOscillatorNode } from '../types';\n\nexport const createAudioContextConstructor: TAudioContextConstructorFactory = (\n    baseAudioContextConstructor,\n    createInvalidStateError,\n    createNotSupportedError,\n    createUnknownError,\n    mediaElementAudioSourceNodeConstructor,\n    mediaStreamAudioDestinationNodeConstructor,\n    mediaStreamAudioSourceNodeConstructor,\n    mediaStreamTrackAudioSourceNodeConstructor,\n    nativeAudioContextConstructor\n) => {\n    return class AudioContext extends baseAudioContextConstructor<IAudioContext> implements IAudioContext {\n        private _baseLatency: number;\n\n        private _nativeAudioContext: TNativeAudioContext;\n\n        private _nativeGainNode: null | TNativeGainNode;\n\n        private _nativeOscillatorNode: null | TNativeOscillatorNode;\n\n        private _state: null | 'suspended';\n\n        constructor(options: IAudioContextOptions = {}) {\n            if (nativeAudioContextConstructor === null) {\n                throw new Error('Missing the native AudioContext constructor.');\n            }\n\n            let nativeAudioContext: TNativeAudioContext;\n\n            try {\n                nativeAudioContext = new nativeAudioContextConstructor(options);\n            } catch (err) {\n                // Bug #192 Safari does throw a SyntaxError if the sampleRate is not supported.\n                if (err.code === 12 && err.message === 'sampleRate is not in range') {\n                    throw createNotSupportedError();\n                }\n\n                throw err;\n            }\n\n            // Bug #131 Safari returns null when there are four other AudioContexts running already.\n            if (nativeAudioContext === null) {\n                throw createUnknownError();\n            }\n\n            // Bug #51 Only Chrome and Edge throw an error if the given latencyHint is invalid.\n            if (!isValidLatencyHint(options.latencyHint)) {\n                throw new TypeError(\n                    `The provided value '${options.latencyHint}' is not a valid enum value of type AudioContextLatencyCategory.`\n                );\n            }\n\n            // Bug #150 Safari does not support setting the sampleRate.\n            if (options.sampleRate !== undefined && nativeAudioContext.sampleRate !== options.sampleRate) {\n                throw createNotSupportedError();\n            }\n\n            super(nativeAudioContext, 2);\n\n            const { latencyHint } = options;\n            const { sampleRate } = nativeAudioContext;\n\n            // @todo The values for 'balanced', 'interactive' and 'playback' are just copied from Chrome's implementation.\n            this._baseLatency =\n                typeof nativeAudioContext.baseLatency === 'number'\n                    ? nativeAudioContext.baseLatency\n                    : latencyHint === 'balanced'\n                    ? 512 / sampleRate\n                    : latencyHint === 'interactive' || latencyHint === undefined\n                    ? 256 / sampleRate\n                    : latencyHint === 'playback'\n                    ? 1024 / sampleRate\n                    : /*\n                       * @todo The min (256) and max (16384) values are taken from the allowed bufferSize values of a\n                       * ScriptProcessorNode.\n                       */\n                      (Math.max(2, Math.min(128, Math.round((latencyHint * sampleRate) / 128))) * 128) / sampleRate;\n            this._nativeAudioContext = nativeAudioContext;\n\n            // Bug #188: Safari will set the context's state to 'interrupted' in case the user switches tabs.\n            if (nativeAudioContextConstructor.name === 'webkitAudioContext') {\n                this._nativeGainNode = nativeAudioContext.createGain();\n                this._nativeOscillatorNode = nativeAudioContext.createOscillator();\n\n                this._nativeGainNode.gain.value = 1e-37;\n\n                this._nativeOscillatorNode.connect(this._nativeGainNode).connect(nativeAudioContext.destination);\n                this._nativeOscillatorNode.start();\n            } else {\n                this._nativeGainNode = null;\n                this._nativeOscillatorNode = null;\n            }\n\n            this._state = null;\n\n            /*\n             * Bug #34: Chrome and Edge pretend to be running right away, but fire an onstatechange event when the state actually changes\n             * to 'running'.\n             */\n            if (nativeAudioContext.state === 'running') {\n                this._state = 'suspended';\n\n                const revokeState = () => {\n                    if (this._state === 'suspended') {\n                        this._state = null;\n                    }\n\n                    nativeAudioContext.removeEventListener('statechange', revokeState);\n                };\n\n                nativeAudioContext.addEventListener('statechange', revokeState);\n            }\n        }\n\n        get baseLatency(): number {\n            return this._baseLatency;\n        }\n\n        get state(): TAudioContextState {\n            return this._state !== null ? this._state : this._nativeAudioContext.state;\n        }\n\n        public close(): Promise<void> {\n            // Bug #35: Firefox does not throw an error if the AudioContext was closed before.\n            if (this.state === 'closed') {\n                return this._nativeAudioContext.close().then(() => {\n                    throw createInvalidStateError();\n                });\n            }\n\n            // Bug #34: If the state was set to suspended before it should be revoked now.\n            if (this._state === 'suspended') {\n                this._state = null;\n            }\n\n            return this._nativeAudioContext.close().then(() => {\n                if (this._nativeGainNode !== null && this._nativeOscillatorNode !== null) {\n                    this._nativeOscillatorNode.stop();\n\n                    this._nativeGainNode.disconnect();\n                    this._nativeOscillatorNode.disconnect();\n                }\n\n                deactivateAudioGraph(this);\n            });\n        }\n\n        public createMediaElementSource(mediaElement: HTMLMediaElement): IMediaElementAudioSourceNode<this> {\n            return new mediaElementAudioSourceNodeConstructor(this, { mediaElement });\n        }\n\n        public createMediaStreamDestination(): IMediaStreamAudioDestinationNode<this> {\n            return new mediaStreamAudioDestinationNodeConstructor(this);\n        }\n\n        public createMediaStreamSource(mediaStream: MediaStream): IMediaStreamAudioSourceNode<this> {\n            return new mediaStreamAudioSourceNodeConstructor(this, { mediaStream });\n        }\n\n        public createMediaStreamTrackSource(mediaStreamTrack: MediaStreamTrack): IMediaStreamTrackAudioSourceNode<this> {\n            return new mediaStreamTrackAudioSourceNodeConstructor(this, { mediaStreamTrack });\n        }\n\n        public resume(): Promise<void> {\n            if (this._state === 'suspended') {\n                return new Promise((resolve, reject) => {\n                    const resolvePromise = () => {\n                        this._nativeAudioContext.removeEventListener('statechange', resolvePromise);\n\n                        if (this._nativeAudioContext.state === 'running') {\n                            resolve();\n                        } else {\n                            this.resume().then(resolve, reject);\n                        }\n                    };\n\n                    this._nativeAudioContext.addEventListener('statechange', resolvePromise);\n                });\n            }\n\n            return this._nativeAudioContext.resume().catch((err) => {\n                // Bug #55: Chrome and Edge do throw an InvalidAccessError instead of an InvalidStateError.\n                // Bug #56: Safari invokes the catch handler but without an error.\n                if (err === undefined || err.code === 15) {\n                    throw createInvalidStateError();\n                }\n\n                throw err;\n            });\n        }\n\n        public suspend(): Promise<void> {\n            return this._nativeAudioContext.suspend().catch((err) => {\n                // Bug #56: Safari invokes the catch handler but without an error.\n                if (err === undefined) {\n                    throw createInvalidStateError();\n                }\n\n                throw err;\n            });\n        }\n    };\n};\n", "import { IAudioDestinationNode } from '../interfaces';\nimport {\n    TAudioDestinationNodeConstructorFactory,\n    TAudioNodeRenderer,\n    TChannelCountMode,\n    TContext,\n    TNativeAudioDestinationNode\n} from '../types';\n\nexport const createAudioDestinationNodeConstructor: TAudioDestinationNodeConstructorFactory = (\n    audioNodeConstructor,\n    createAudioDestinationNodeRenderer,\n    createIndexSizeError,\n    createInvalidStateError,\n    createNativeAudioDestinationNode,\n    getNativeContext,\n    isNativeOfflineAudioContext,\n    renderInputsOfAudioNode\n) => {\n    return class AudioDestinationNode<T extends TContext> extends audioNodeConstructor<T> implements IAudioDestinationNode<T> {\n        private _isNodeOfNativeOfflineAudioContext: boolean;\n\n        private _nativeAudioDestinationNode: TNativeAudioDestinationNode;\n\n        constructor(context: T, channelCount: number) {\n            const nativeContext = getNativeContext(context);\n            const isOffline = isNativeOfflineAudioContext(nativeContext);\n            const nativeAudioDestinationNode = createNativeAudioDestinationNode(nativeContext, channelCount, isOffline);\n            const audioDestinationNodeRenderer = <TAudioNodeRenderer<T, this>>(\n                (isOffline ? createAudioDestinationNodeRenderer(renderInputsOfAudioNode) : null)\n            );\n\n            super(context, false, nativeAudioDestinationNode, audioDestinationNodeRenderer);\n\n            this._isNodeOfNativeOfflineAudioContext = isOffline;\n            this._nativeAudioDestinationNode = nativeAudioDestinationNode;\n        }\n\n        get channelCount(): number {\n            return this._nativeAudioDestinationNode.channelCount;\n        }\n\n        set channelCount(value) {\n            // Bug #52: Chrome, Edge & Safari do not throw an exception at all.\n            // Bug #54: Firefox does throw an IndexSizeError.\n            if (this._isNodeOfNativeOfflineAudioContext) {\n                throw createInvalidStateError();\n            }\n\n            // Bug #47: The AudioDestinationNode in Safari does not initialize the maxChannelCount property correctly.\n            if (value > this._nativeAudioDestinationNode.maxChannelCount) {\n                throw createIndexSizeError();\n            }\n\n            this._nativeAudioDestinationNode.channelCount = value;\n        }\n\n        get channelCountMode(): TChannelCountMode {\n            return this._nativeAudioDestinationNode.channelCountMode;\n        }\n\n        set channelCountMode(value) {\n            // Bug #53: No browser does throw an exception yet.\n            if (this._isNodeOfNativeOfflineAudioContext) {\n                throw createInvalidStateError();\n            }\n\n            this._nativeAudioDestinationNode.channelCountMode = value;\n        }\n\n        get maxChannelCount(): number {\n            return this._nativeAudioDestinationNode.maxChannelCount;\n        }\n    };\n};\n", "import { IAudioDestinationNode, IMinimalOfflineAudioContext, IOfflineAudioContext } from '../interfaces';\nimport {\n    TAudioDestinationNodeRendererFactory,\n    TNativeAudioDestinationNode,\n    TNativeOfflineAudioContext,\n    TRenderInputsOfAudioNodeFunction\n} from '../types';\n\nexport const createAudioDestinationNodeRenderer: TAudioDestinationNodeRendererFactory = <\n    T extends IMinimalOfflineAudioContext | IOfflineAudioContext\n>(\n    renderInputsOfAudioNode: TRenderInputsOfAudioNodeFunction\n) => {\n    const renderedNativeAudioDestinationNodes = new WeakMap<TNativeOfflineAudioContext, TNativeAudioDestinationNode>();\n\n    const createAudioDestinationNode = async (proxy: IAudioDestinationNode<T>, nativeOfflineAudioContext: TNativeOfflineAudioContext) => {\n        const nativeAudioDestinationNode = nativeOfflineAudioContext.destination;\n\n        renderedNativeAudioDestinationNodes.set(nativeOfflineAudioContext, nativeAudioDestinationNode);\n\n        await renderInputsOfAudioNode(proxy, nativeOfflineAudioContext, nativeAudioDestinationNode);\n\n        return nativeAudioDestinationNode;\n    };\n\n    return {\n        render(\n            proxy: IAudioDestinationNode<T>,\n            nativeOfflineAudioContext: TNativeOfflineAudioContext\n        ): Promise<TNativeAudioDestinationNode> {\n            const renderedNativeAudioDestinationNode = renderedNativeAudioDestinationNodes.get(nativeOfflineAudioContext);\n\n            if (renderedNativeAudioDestinationNode !== undefined) {\n                return Promise.resolve(renderedNativeAudioDestinationNode);\n            }\n\n            return createAudioDestinationNode(proxy, nativeOfflineAudioContext);\n        }\n    };\n};\n", "import { MOST_NEGATIVE_SINGLE_FLOAT, MOST_POSITIVE_SINGLE_FLOAT } from '../constants';\nimport { IAudioParam } from '../interfaces';\nimport { TAudioListenerFactoryFactory } from '../types';\n\nexport const createAudioListenerFactory: TAudioListenerFactoryFactory = (\n    createAudioParam,\n    createNativeChannelMergerNode,\n    createNativeConstantSourceNode,\n    createNativeScriptProcessorNode,\n    createNotSupportedError,\n    getFirstSample,\n    isNativeOfflineAudioContext,\n    overwriteAccessors\n) => {\n    return (context, nativeContext) => {\n        const nativeListener = nativeContext.listener;\n\n        // Bug #117: Only Chrome & Edge support the new interface already.\n        const createFakeAudioParams = () => {\n            const buffer = new Float32Array(1);\n            const channelMergerNode = createNativeChannelMergerNode(nativeContext, {\n                channelCount: 1,\n                channelCountMode: 'explicit',\n                channelInterpretation: 'speakers',\n                numberOfInputs: 9\n            });\n            const isOffline = isNativeOfflineAudioContext(nativeContext);\n\n            let isScriptProcessorNodeCreated = false;\n            let lastOrientation: [number, number, number, number, number, number] = [0, 0, -1, 0, 1, 0];\n            let lastPosition: [number, number, number] = [0, 0, 0];\n\n            const createScriptProcessorNode = () => {\n                if (isScriptProcessorNodeCreated) {\n                    return;\n                }\n\n                isScriptProcessorNodeCreated = true;\n\n                const scriptProcessorNode = createNativeScriptProcessorNode(nativeContext, 256, 9, 0);\n\n                // tslint:disable-next-line:deprecation\n                scriptProcessorNode.onaudioprocess = ({ inputBuffer }) => {\n                    const orientation: [number, number, number, number, number, number] = [\n                        getFirstSample(inputBuffer, buffer, 0),\n                        getFirstSample(inputBuffer, buffer, 1),\n                        getFirstSample(inputBuffer, buffer, 2),\n                        getFirstSample(inputBuffer, buffer, 3),\n                        getFirstSample(inputBuffer, buffer, 4),\n                        getFirstSample(inputBuffer, buffer, 5)\n                    ];\n\n                    if (orientation.some((value, index) => value !== lastOrientation[index])) {\n                        nativeListener.setOrientation(...orientation); // tslint:disable-line:deprecation\n\n                        lastOrientation = orientation;\n                    }\n\n                    const positon: [number, number, number] = [\n                        getFirstSample(inputBuffer, buffer, 6),\n                        getFirstSample(inputBuffer, buffer, 7),\n                        getFirstSample(inputBuffer, buffer, 8)\n                    ];\n\n                    if (positon.some((value, index) => value !== lastPosition[index])) {\n                        nativeListener.setPosition(...positon); // tslint:disable-line:deprecation\n\n                        lastPosition = positon;\n                    }\n                };\n\n                channelMergerNode.connect(scriptProcessorNode);\n            };\n            const createSetOrientation = (index: number) => (value: number) => {\n                if (value !== lastOrientation[index]) {\n                    lastOrientation[index] = value;\n\n                    nativeListener.setOrientation(...lastOrientation); // tslint:disable-line:deprecation\n                }\n            };\n            const createSetPosition = (index: number) => (value: number) => {\n                if (value !== lastPosition[index]) {\n                    lastPosition[index] = value;\n\n                    nativeListener.setPosition(...lastPosition); // tslint:disable-line:deprecation\n                }\n            };\n            const createFakeAudioParam = (input: number, initialValue: number, setValue: (value: number) => void) => {\n                const constantSourceNode = createNativeConstantSourceNode(nativeContext, {\n                    channelCount: 1,\n                    channelCountMode: 'explicit',\n                    channelInterpretation: 'discrete',\n                    offset: initialValue\n                });\n\n                constantSourceNode.connect(channelMergerNode, 0, input);\n\n                // @todo This should be stopped when the context is closed.\n                constantSourceNode.start();\n\n                Object.defineProperty(constantSourceNode.offset, 'defaultValue', {\n                    get(): number {\n                        return initialValue;\n                    }\n                });\n\n                /*\n                 * Bug #62 & #74: Safari does not support ConstantSourceNodes and does not export the correct values for maxValue and\n                 * minValue for GainNodes.\n                 */\n                const audioParam = createAudioParam(\n                    <any>{ context },\n                    isOffline,\n                    constantSourceNode.offset,\n                    MOST_POSITIVE_SINGLE_FLOAT,\n                    MOST_NEGATIVE_SINGLE_FLOAT\n                );\n\n                overwriteAccessors(\n                    audioParam,\n                    'value',\n                    (get) => () => get.call(audioParam),\n                    (set) => (value) => {\n                        try {\n                            set.call(audioParam, value);\n                        } catch (err) {\n                            if (err.code !== 9) {\n                                throw err;\n                            }\n                        }\n\n                        createScriptProcessorNode();\n\n                        if (isOffline) {\n                            // Bug #117: Using setOrientation() and setPosition() doesn't work with an OfflineAudioContext.\n                            setValue(value);\n                        }\n                    }\n                );\n\n                audioParam.cancelAndHoldAtTime = ((cancelAndHoldAtTime) => {\n                    if (isOffline) {\n                        return () => {\n                            throw createNotSupportedError();\n                        };\n                    }\n\n                    return (...args: Parameters<IAudioParam['cancelAndHoldAtTime']>) => {\n                        const value = cancelAndHoldAtTime.apply(audioParam, args);\n\n                        createScriptProcessorNode();\n\n                        return value;\n                    };\n                })(audioParam.cancelAndHoldAtTime);\n                audioParam.cancelScheduledValues = ((cancelScheduledValues) => {\n                    if (isOffline) {\n                        return () => {\n                            throw createNotSupportedError();\n                        };\n                    }\n\n                    return (...args: Parameters<IAudioParam['cancelScheduledValues']>) => {\n                        const value = cancelScheduledValues.apply(audioParam, args);\n\n                        createScriptProcessorNode();\n\n                        return value;\n                    };\n                })(audioParam.cancelScheduledValues);\n                audioParam.exponentialRampToValueAtTime = ((exponentialRampToValueAtTime) => {\n                    if (isOffline) {\n                        return () => {\n                            throw createNotSupportedError();\n                        };\n                    }\n\n                    return (...args: Parameters<IAudioParam['exponentialRampToValueAtTime']>) => {\n                        const value = exponentialRampToValueAtTime.apply(audioParam, args);\n\n                        createScriptProcessorNode();\n\n                        return value;\n                    };\n                })(audioParam.exponentialRampToValueAtTime);\n                audioParam.linearRampToValueAtTime = ((linearRampToValueAtTime) => {\n                    if (isOffline) {\n                        return () => {\n                            throw createNotSupportedError();\n                        };\n                    }\n\n                    return (...args: Parameters<IAudioParam['linearRampToValueAtTime']>) => {\n                        const value = linearRampToValueAtTime.apply(audioParam, args);\n\n                        createScriptProcessorNode();\n\n                        return value;\n                    };\n                })(audioParam.linearRampToValueAtTime);\n                audioParam.setTargetAtTime = ((setTargetAtTime) => {\n                    if (isOffline) {\n                        return () => {\n                            throw createNotSupportedError();\n                        };\n                    }\n\n                    return (...args: Parameters<IAudioParam['setTargetAtTime']>) => {\n                        const value = setTargetAtTime.apply(audioParam, args);\n\n                        createScriptProcessorNode();\n\n                        return value;\n                    };\n                })(audioParam.setTargetAtTime);\n                audioParam.setValueAtTime = ((setValueAtTime) => {\n                    if (isOffline) {\n                        return () => {\n                            throw createNotSupportedError();\n                        };\n                    }\n\n                    return (...args: Parameters<IAudioParam['setValueAtTime']>) => {\n                        const value = setValueAtTime.apply(audioParam, args);\n\n                        createScriptProcessorNode();\n\n                        return value;\n                    };\n                })(audioParam.setValueAtTime);\n                audioParam.setValueCurveAtTime = ((setValueCurveAtTime) => {\n                    if (isOffline) {\n                        return () => {\n                            throw createNotSupportedError();\n                        };\n                    }\n\n                    return (...args: Parameters<IAudioParam['setValueCurveAtTime']>) => {\n                        const value = setValueCurveAtTime.apply(audioParam, args);\n\n                        createScriptProcessorNode();\n\n                        return value;\n                    };\n                })(audioParam.setValueCurveAtTime);\n\n                return audioParam;\n            };\n\n            return {\n                forwardX: createFakeAudioParam(0, 0, createSetOrientation(0)),\n                forwardY: createFakeAudioParam(1, 0, createSetOrientation(1)),\n                forwardZ: createFakeAudioParam(2, -1, createSetOrientation(2)),\n                positionX: createFakeAudioParam(6, 0, createSetPosition(0)),\n                positionY: createFakeAudioParam(7, 0, createSetPosition(1)),\n                positionZ: createFakeAudioParam(8, 0, createSetPosition(2)),\n                upX: createFakeAudioParam(3, 0, createSetOrientation(3)),\n                upY: createFakeAudioParam(4, 1, createSetOrientation(4)),\n                upZ: createFakeAudioParam(5, 0, createSetOrientation(5))\n            };\n        };\n\n        const { forwardX, forwardY, forwardZ, positionX, positionY, positionZ, upX, upY, upZ } =\n            nativeListener.forwardX === undefined ? createFakeAudioParams() : nativeListener;\n\n        return {\n            get forwardX(): IAudioParam {\n                return forwardX;\n            },\n            get forwardY(): IAudioParam {\n                return forwardY;\n            },\n            get forwardZ(): IAudioParam {\n                return forwardZ;\n            },\n            get positionX(): IAudioParam {\n                return positionX;\n            },\n            get positionY(): IAudioParam {\n                return positionY;\n            },\n            get positionZ(): IAudioParam {\n                return positionZ;\n            },\n            get upX(): IAudioParam {\n                return upX;\n            },\n            get upY(): IAudioParam {\n                return upY;\n            },\n            get upZ(): IAudioParam {\n                return upZ;\n            }\n        };\n    };\n};\n", "import { IAudioNode, IAudioParam } from '../interfaces';\nimport { TContext } from '../types';\n\nexport const isAudioNode = <T extends TContext>(\n    audioNodeOrAudioParam: IAudioNode<T> | IAudioParam\n): audioNodeOrAudioParam is IAudioNode<T> => {\n    return 'context' in audioNodeOrAudioParam;\n};\n", "import { TAudioNodeOutputConnection, TContext, TOutputConnection } from '../types';\nimport { isAudioNode } from './audio-node';\n\nexport const isAudioNodeOutputConnection = <T extends TContext>(\n    outputConnection: TOutputConnection<T>\n): outputConnection is TAudioNodeOutputConnection<T> => {\n    return isAudioNode(outputConnection[0]);\n};\n", "import { TInsertElementInSetFunction } from '../types';\n\nexport const insertElementInSet: TInsertElementInSetFunction = (set, element, predicate, ignoreDuplicates) => {\n    for (const lmnt of set) {\n        if (predicate(lmnt)) {\n            if (ignoreDuplicates) {\n                return false;\n            }\n\n            throw Error('The set contains at least one similar element.');\n        }\n    }\n\n    set.add(element);\n\n    return true;\n};\n", "import { IAudioNode } from '../interfaces';\nimport { TActiveInputConnection, TContext, TPassiveAudioParamInputConnection } from '../types';\nimport { insertElementInSet } from './insert-element-in-set';\n\nexport const addActiveInputConnectionToAudioParam = <T extends TContext>(\n    activeInputs: Set<TActiveInputConnection<T>>,\n    source: IAudioNode<T>,\n    [output, eventListener]: TPassiveAudioParamInputConnection,\n    ignoreDuplicates: boolean\n) => {\n    insertElementInSet(\n        activeInputs,\n        [source, output, eventListener],\n        (activeInputConnection) => activeInputConnection[0] === source && activeInputConnection[1] === output,\n        ignoreDuplicates\n    );\n};\n", "import { IAudioNode } from '../interfaces';\nimport { TActiveInputConnection, TContext, TPassiveAudioParamInputConnection } from '../types';\nimport { insertElementInSet } from './insert-element-in-set';\n\nexport const addPassiveInputConnectionToAudioParam = <T extends TContext>(\n    passiveInputs: WeakMap<IAudioNode<T>, Set<TPassiveAudioParamInputConnection>>,\n    [source, output, eventListener]: TActiveInputConnection<T>,\n    ignoreDuplicates: boolean\n) => {\n    const passiveInputConnections = passiveInputs.get(source);\n\n    if (passiveInputConnections === undefined) {\n        passiveInputs.set(source, new Set([[output, eventListener]]));\n    } else {\n        insertElementInSet(\n            passiveInputConnections,\n            [output, eventListener],\n            (passiveInputConnection) => passiveInputConnection[0] === output,\n            ignoreDuplicates\n        );\n    }\n};\n", "import { INativeAudioNodeFaker } from '../interfaces';\nimport { TNativeAudioNode } from '../types';\n\nexport const isNativeAudioNodeFaker = (\n    nativeAudioNodeOrNativeAudioNodeFaker: TNativeAudioNode | INativeAudioNodeFaker\n): nativeAudioNodeOrNativeAudioNodeFaker is INativeAudioNodeFaker => {\n    return 'inputs' in nativeAudioNodeOrNativeAudioNodeFaker;\n};\n", "import { isNativeAudioNodeFaker } from '../guards/native-audio-node-faker';\nimport { INativeAudioNodeFaker } from '../interfaces';\nimport { TConnectNativeAudioNodeToNativeAudioNodeFunction, TNativeAudioNode } from '../types';\n\nexport const connectNativeAudioNodeToNativeAudioNode: TConnectNativeAudioNodeToNativeAudioNodeFunction = (\n    nativeSourceAudioNode: INativeAudioNodeFaker | TNativeAudioNode,\n    nativeDestinationAudioNode: INativeAudioNodeFaker | TNativeAudioNode,\n    output: number,\n    input: number\n): [TNativeAudioNode, number, number] => {\n    if (isNativeAudioNodeFaker(nativeDestinationAudioNode)) {\n        const fakeNativeDestinationAudioNode = nativeDestinationAudioNode.inputs[input];\n\n        nativeSourceAudioNode.connect(fakeNativeDestinationAudioNode, output, 0);\n\n        return [fakeNativeDestinationAudioNode, output, 0];\n    }\n\n    nativeSourceAudioNode.connect(nativeDestinationAudioNode, output, input);\n\n    return [nativeDestinationAudioNode, output, input];\n};\n", "import { IAudioNode } from '../interfaces';\nimport { TActiveInputConnection, TContext } from '../types';\n\nexport const deleteActiveInputConnection = <T extends TContext>(\n    activeInputConnections: Set<TActiveInputConnection<T>>,\n    source: IAudioNode<T>,\n    output: number\n): null | TActiveInputConnection<T> => {\n    for (const activeInputConnection of activeInputConnections) {\n        if (activeInputConnection[0] === source && activeInputConnection[1] === output) {\n            activeInputConnections.delete(activeInputConnection);\n\n            return activeInputConnection;\n        }\n    }\n\n    return null;\n};\n", "import { IAudioNode } from '../interfaces';\nimport { TActiveInputConnection, TContext } from '../types';\nimport { pickElementFromSet } from './pick-element-from-set';\n\nexport const deleteActiveInputConnectionToAudioParam = <T extends TContext>(\n    activeInputs: Set<TActiveInputConnection<T>>,\n    source: IAudioNode<T>,\n    output: number\n) => {\n    return pickElementFromSet(\n        activeInputs,\n        (activeInputConnection) => activeInputConnection[0] === source && activeInputConnection[1] === output\n    );\n};\n", "import { IAudioNode } from '../interfaces';\nimport { TContext, TInternalStateEventListener } from '../types';\nimport { getEventListenersOfAudioNode } from './get-event-listeners-of-audio-node';\n\nexport const deleteEventListenerOfAudioNode = <T extends TContext>(\n    audioNode: IAudioNode<T>,\n    eventListener: TInternalStateEventListener\n) => {\n    const eventListeners = getEventListenersOfAudioNode(audioNode);\n\n    if (!eventListeners.delete(eventListener)) {\n        throw new Error('Missing the expected event listener.');\n    }\n};\n", "import { IAudioNode } from '../interfaces';\nimport { TContext, TPassiveAudioParamInputConnection } from '../types';\nimport { getValueForKey } from './get-value-for-key';\nimport { pickElementFromSet } from './pick-element-from-set';\n\nexport const deletePassiveInputConnectionToAudioParam = <T extends TContext>(\n    passiveInputs: WeakMap<IAudioNode<T>, Set<TPassiveAudioParamInputConnection>>,\n    source: IAudioNode<T>,\n    output: number\n) => {\n    const passiveInputConnections = getValueForKey(passiveInputs, source);\n    const matchingConnection = pickElementFromSet(\n        passiveInputConnections,\n        (passiveInputConnection) => passiveInputConnection[0] === output\n    );\n\n    if (passiveInputConnections.size === 0) {\n        passiveInputs.delete(source);\n    }\n\n    return matchingConnection;\n};\n", "import { isNativeAudioNodeFaker } from '../guards/native-audio-node-faker';\nimport { TDisconnectNativeAudioNodeFromNativeAudioNodeFunction } from '../types';\n\nexport const disconnectNativeAudioNodeFromNativeAudioNode: TDisconnectNativeAudioNodeFromNativeAudioNodeFunction = (\n    nativeSourceAudioNode,\n    nativeDestinationAudioNode,\n    output,\n    input\n) => {\n    if (isNativeAudioNodeFaker(nativeDestinationAudioNode)) {\n        nativeSourceAudioNode.disconnect(nativeDestinationAudioNode.inputs[input], output, 0);\n    } else {\n        nativeSourceAudioNode.disconnect(nativeDestinationAudioNode, output, input);\n    }\n};\n", "import { AUDIO_NODE_STORE } from '../globals';\nimport { IAudioNode, INativeAudioNodeFaker } from '../interfaces';\nimport { TContext, TGetNativeAudioNodeFunction, TNativeAudioNode } from '../types';\nimport { getValueForKey } from './get-value-for-key';\n\nexport const getNativeAudioNode: TGetNativeAudioNodeFunction = <T extends TContext, U extends TNativeAudioNode | INativeAudioNodeFaker>(\n    audioNode: IAudioNode<T>\n): U => {\n    return <U>getValueForKey(AUDIO_NODE_STORE, audioNode);\n};\n", "import { AUDIO_PARAM_STORE } from '../globals';\nimport { IAudioParam } from '../interfaces';\nimport { TNativeAudioParam } from '../types';\nimport { getValueForKey } from './get-value-for-key';\n\nexport const getNativeAudioParam = (audioParam: IAudioParam): TNativeAudioParam => {\n    return getValueForKey(AUDIO_PARAM_STORE, audioParam);\n};\n", "import { CYCLE_COUNTERS } from '../globals';\nimport { TIsPartOfACycleFunction } from '../types';\n\nexport const isPartOfACycle: TIsPartOfACycleFunction = (audioNode) => {\n    return CYCLE_COUNTERS.has(audioNode);\n};\n", "import { ACTIVE_AUDIO_NODE_STORE } from '../globals';\nimport { TIsPassiveAudioNodeFunction } from '../types';\n\nexport const isPassiveAudioNode: TIsPassiveAudioNodeFunction = (audioNode) => {\n    return !ACTIVE_AUDIO_NODE_STORE.has(audioNode);\n};\n", "import { TNativeAudioContext, TNativeAudioWorkletNodeConstructor } from '../types';\n\nexport const testAudioNodeDisconnectMethodSupport = (\n    nativeAudioContext: TNativeAudioContext,\n    nativeAudioWorkletNodeConstructor: null | TNativeAudioWorkletNodeConstructor\n): Promise<boolean> => {\n    return new Promise((resolve) => {\n        /*\n         * This bug existed in Safari up until v14.0.2. Since AudioWorklets were not supported in Safari until v14.1 the presence of the\n         * constructor for an AudioWorkletNode can be used here to skip the test.\n         */\n        if (nativeAudioWorkletNodeConstructor !== null) {\n            resolve(true);\n        } else {\n            const analyzer = nativeAudioContext.createScriptProcessor(256, 1, 1); // tslint:disable-line deprecation\n            const dummy = nativeAudioContext.createGain();\n            // Bug #95: Safari does not play one sample buffers.\n            const ones = nativeAudioContext.createBuffer(1, 2, 44100);\n            const channelData = ones.getChannelData(0);\n\n            channelData[0] = 1;\n            channelData[1] = 1;\n\n            const source = nativeAudioContext.createBufferSource();\n\n            source.buffer = ones;\n            source.loop = true;\n\n            source.connect(analyzer).connect(nativeAudioContext.destination);\n            source.connect(dummy);\n            source.disconnect(dummy);\n\n            // tslint:disable-next-line:deprecation\n            analyzer.onaudioprocess = (event) => {\n                const chnnlDt = event.inputBuffer.getChannelData(0); // tslint:disable-line deprecation\n\n                if (Array.prototype.some.call(chnnlDt, (sample: number) => sample === 1)) {\n                    resolve(true);\n                } else {\n                    resolve(false);\n                }\n\n                source.stop();\n\n                analyzer.onaudioprocess = null; // tslint:disable-line:deprecation\n\n                source.disconnect(analyzer);\n                analyzer.disconnect(nativeAudioContext.destination);\n            };\n\n            source.start();\n        }\n    });\n};\n", "import { IAudioNode } from '../interfaces';\nimport { TContext } from '../types';\n\nexport const visitEachAudioNodeOnce = <T extends TContext>(\n    cycles: IAudioNode<T>[][],\n    visitor: (audioNode: IAudioNode<T>, count: number) => void\n): void => {\n    const counts = new Map<IAudioNode<T>, number>();\n\n    for (const cycle of cycles) {\n        for (const audioNode of cycle) {\n            const count = counts.get(audioNode);\n\n            counts.set(audioNode, count === undefined ? 1 : count + 1);\n        }\n    }\n\n    counts.forEach((count, audioNode) => visitor(audioNode, count));\n};\n", "import { TNativeAudioNode, TNativeAudioParam } from '../types';\n\nexport const isNativeAudioNode = (\n    nativeAudioNodeOrAudioParam: TNativeAudioNode | TNativeAudioParam\n): nativeAudioNodeOrAudioParam is TNativeAudioNode => {\n    return 'context' in nativeAudioNodeOrAudioParam;\n};\n", "import { isNativeAudioNode } from '../guards/native-audio-node';\nimport { TNativeAudioNode, TNativeAudioParam } from '../types';\n\nexport const wrapAudioNodeDisconnectMethod = (nativeAudioNode: TNativeAudioNode): void => {\n    const connections = new Map<TNativeAudioNode | TNativeAudioParam, { input: number; output: number }[]>();\n\n    nativeAudioNode.connect = <TNativeAudioNode['connect']>((connect) => {\n        // tslint:disable-next-line:invalid-void no-inferrable-types\n        return (destination: TNativeAudioNode | TNativeAudioParam, output = 0, input: number = 0): void | TNativeAudioNode => {\n            const returnValue = isNativeAudioNode(destination) ? connect(destination, output, input) : connect(destination, output);\n\n            // Save the new connection only if the calls to connect above didn't throw an error.\n            const connectionsToDestination = connections.get(destination);\n\n            if (connectionsToDestination === undefined) {\n                connections.set(destination, [{ input, output }]);\n            } else {\n                if (connectionsToDestination.every((connection) => connection.input !== input || connection.output !== output)) {\n                    connectionsToDestination.push({ input, output });\n                }\n            }\n\n            return returnValue;\n        };\n    })(nativeAudioNode.connect.bind(nativeAudioNode));\n\n    nativeAudioNode.disconnect = ((disconnect) => {\n        return (destinationOrOutput?: number | TNativeAudioNode | TNativeAudioParam, output?: number, input?: number): void => {\n            disconnect.apply(nativeAudioNode);\n\n            if (destinationOrOutput === undefined) {\n                connections.clear();\n            } else if (typeof destinationOrOutput === 'number') {\n                for (const [destination, connectionsToDestination] of connections) {\n                    const filteredConnections = connectionsToDestination.filter((connection) => connection.output !== destinationOrOutput);\n\n                    if (filteredConnections.length === 0) {\n                        connections.delete(destination);\n                    } else {\n                        connections.set(destination, filteredConnections);\n                    }\n                }\n            } else if (connections.has(destinationOrOutput)) {\n                if (output === undefined) {\n                    connections.delete(destinationOrOutput);\n                } else {\n                    const connectionsToDestination = connections.get(destinationOrOutput);\n\n                    if (connectionsToDestination !== undefined) {\n                        const filteredConnections = connectionsToDestination.filter(\n                            (connection) => connection.output !== output && (connection.input !== input || input === undefined)\n                        );\n\n                        if (filteredConnections.length === 0) {\n                            connections.delete(destinationOrOutput);\n                        } else {\n                            connections.set(destinationOrOutput, filteredConnections);\n                        }\n                    }\n                }\n            }\n\n            for (const [destination, connectionsToDestination] of connections) {\n                connectionsToDestination.forEach((connection) => {\n                    if (isNativeAudioNode(destination)) {\n                        nativeAudioNode.connect(destination, connection.output, connection.input);\n                    } else {\n                        nativeAudioNode.connect(destination, connection.output);\n                    }\n                });\n            }\n        };\n    })(nativeAudioNode.disconnect);\n};\n", "import { AUDIO_NODE_STORE, EVENT_LISTENERS } from '../globals';\nimport { isAudioNode } from '../guards/audio-node';\nimport { isAudioNodeOutputConnection } from '../guards/audio-node-output-connection';\nimport { addActiveInputConnectionToAudioParam } from '../helpers/add-active-input-connection-to-audio-param';\nimport { addPassiveInputConnectionToAudioParam } from '../helpers/add-passive-input-connection-to-audio-param';\nimport { connectNativeAudioNodeToNativeAudioNode } from '../helpers/connect-native-audio-node-to-native-audio-node';\nimport { deleteActiveInputConnection } from '../helpers/delete-active-input-connection';\nimport { deleteActiveInputConnectionToAudioParam } from '../helpers/delete-active-input-connection-to-audio-param';\nimport { deleteEventListenerOfAudioNode } from '../helpers/delete-event-listeners-of-audio-node';\nimport { deletePassiveInputConnectionToAudioNode } from '../helpers/delete-passive-input-connection-to-audio-node';\nimport { deletePassiveInputConnectionToAudioParam } from '../helpers/delete-passive-input-connection-to-audio-param';\nimport { disconnectNativeAudioNodeFromNativeAudioNode } from '../helpers/disconnect-native-audio-node-from-native-audio-node';\nimport { getAudioNodeConnections } from '../helpers/get-audio-node-connections';\nimport { getAudioParamConnections } from '../helpers/get-audio-param-connections';\nimport { getEventListenersOfAudioNode } from '../helpers/get-event-listeners-of-audio-node';\nimport { getNativeAudioNode } from '../helpers/get-native-audio-node';\nimport { getNativeAudioParam } from '../helpers/get-native-audio-param';\nimport { insertElementInSet } from '../helpers/insert-element-in-set';\nimport { isActiveAudioNode } from '../helpers/is-active-audio-node';\nimport { isPartOfACycle } from '../helpers/is-part-of-a-cycle';\nimport { isPassiveAudioNode } from '../helpers/is-passive-audio-node';\nimport { setInternalStateToActive } from '../helpers/set-internal-state-to-active';\nimport { setInternalStateToPassiveWhenNecessary } from '../helpers/set-internal-state-to-passive-when-necessary';\nimport { testAudioNodeDisconnectMethodSupport } from '../helpers/test-audio-node-disconnect-method-support';\nimport { visitEachAudioNodeOnce } from '../helpers/visit-each-audio-node-once';\nimport { wrapAudioNodeDisconnectMethod } from '../helpers/wrap-audio-node-disconnect-method';\nimport {\n    IAudioNode,\n    IAudioNodeRenderer,\n    IAudioParam,\n    IMinimalOfflineAudioContext,\n    INativeAudioNodeFaker,\n    IOfflineAudioContext\n} from '../interfaces';\nimport {\n    TAudioNodeConstructorFactory,\n    TChannelCountMode,\n    TChannelInterpretation,\n    TContext,\n    TInternalStateEventListener,\n    TNativeAudioNode,\n    TNativeAudioParam\n} from '../types';\n\nconst addConnectionToAudioParamOfAudioContext = <T extends TContext>(\n    source: IAudioNode<T>,\n    destination: IAudioParam,\n    output: number,\n    isOffline: boolean\n): boolean => {\n    const { activeInputs, passiveInputs } = getAudioParamConnections<T>(destination);\n    const { outputs } = getAudioNodeConnections(source);\n    const eventListeners = getEventListenersOfAudioNode(source);\n\n    const eventListener: TInternalStateEventListener = (isActive) => {\n        const nativeAudioNode = getNativeAudioNode(source);\n        const nativeAudioParam = getNativeAudioParam(destination);\n\n        if (isActive) {\n            const partialConnection = deletePassiveInputConnectionToAudioParam(passiveInputs, source, output);\n\n            addActiveInputConnectionToAudioParam(activeInputs, source, partialConnection, false);\n\n            if (!isOffline && !isPartOfACycle(source)) {\n                nativeAudioNode.connect(nativeAudioParam, output);\n            }\n        } else {\n            const partialConnection = deleteActiveInputConnectionToAudioParam(activeInputs, source, output);\n\n            addPassiveInputConnectionToAudioParam(passiveInputs, partialConnection, false);\n\n            if (!isOffline && !isPartOfACycle(source)) {\n                nativeAudioNode.disconnect(nativeAudioParam, output);\n            }\n        }\n    };\n\n    if (\n        insertElementInSet(\n            outputs,\n            [destination, output],\n            (outputConnection) => outputConnection[0] === destination && outputConnection[1] === output,\n            true\n        )\n    ) {\n        eventListeners.add(eventListener);\n\n        if (isActiveAudioNode(source)) {\n            addActiveInputConnectionToAudioParam(activeInputs, source, [output, eventListener], true);\n        } else {\n            addPassiveInputConnectionToAudioParam(passiveInputs, [source, output, eventListener], true);\n        }\n\n        return true;\n    }\n\n    return false;\n};\n\nconst deleteInputConnectionOfAudioNode = <T extends TContext>(\n    source: IAudioNode<T>,\n    destination: IAudioNode<T>,\n    output: number,\n    input: number\n): [null | TInternalStateEventListener, boolean] => {\n    const { activeInputs, passiveInputs } = getAudioNodeConnections(destination);\n\n    const activeInputConnection = deleteActiveInputConnection(activeInputs[input], source, output);\n\n    if (activeInputConnection === null) {\n        const passiveInputConnection = deletePassiveInputConnectionToAudioNode(passiveInputs, source, output, input);\n\n        return [passiveInputConnection[2], false];\n    }\n\n    return [activeInputConnection[2], true];\n};\n\nconst deleteInputConnectionOfAudioParam = <T extends TContext>(\n    source: IAudioNode<T>,\n    destination: IAudioParam,\n    output: number\n): [null | TInternalStateEventListener, boolean] => {\n    const { activeInputs, passiveInputs } = getAudioParamConnections<T>(destination);\n\n    const activeInputConnection = deleteActiveInputConnection(activeInputs, source, output);\n\n    if (activeInputConnection === null) {\n        const passiveInputConnection = deletePassiveInputConnectionToAudioParam(passiveInputs, source, output);\n\n        return [passiveInputConnection[1], false];\n    }\n\n    return [activeInputConnection[2], true];\n};\n\nconst deleteInputsOfAudioNode = <T extends TContext>(\n    source: IAudioNode<T>,\n    isOffline: boolean,\n    destination: IAudioNode<T>,\n    output: number,\n    input: number\n) => {\n    const [listener, isActive] = deleteInputConnectionOfAudioNode(source, destination, output, input);\n\n    if (listener !== null) {\n        deleteEventListenerOfAudioNode(source, listener);\n\n        if (isActive && !isOffline && !isPartOfACycle(source)) {\n            disconnectNativeAudioNodeFromNativeAudioNode(getNativeAudioNode(source), getNativeAudioNode(destination), output, input);\n        }\n    }\n\n    if (isActiveAudioNode(destination)) {\n        const { activeInputs } = getAudioNodeConnections(destination);\n\n        setInternalStateToPassiveWhenNecessary(destination, activeInputs);\n    }\n};\n\nconst deleteInputsOfAudioParam = <T extends TContext>(\n    source: IAudioNode<T>,\n    isOffline: boolean,\n    destination: IAudioParam,\n    output: number\n) => {\n    const [listener, isActive] = deleteInputConnectionOfAudioParam(source, destination, output);\n\n    if (listener !== null) {\n        deleteEventListenerOfAudioNode(source, listener);\n\n        if (isActive && !isOffline && !isPartOfACycle(source)) {\n            getNativeAudioNode(source).disconnect(getNativeAudioParam(destination), output);\n        }\n    }\n};\n\nconst deleteAnyConnection = <T extends TContext>(source: IAudioNode<T>, isOffline: boolean): (IAudioNode<T> | IAudioParam)[] => {\n    const audioNodeConnectionsOfSource = getAudioNodeConnections(source);\n    const destinations = [];\n\n    for (const outputConnection of audioNodeConnectionsOfSource.outputs) {\n        if (isAudioNodeOutputConnection(outputConnection)) {\n            deleteInputsOfAudioNode(source, isOffline, ...outputConnection);\n        } else {\n            deleteInputsOfAudioParam(source, isOffline, ...outputConnection);\n        }\n\n        destinations.push(outputConnection[0]);\n    }\n\n    audioNodeConnectionsOfSource.outputs.clear();\n\n    return destinations;\n};\n\nconst deleteConnectionAtOutput = <T extends TContext>(\n    source: IAudioNode<T>,\n    isOffline: boolean,\n    output: number\n): (IAudioNode<T> | IAudioParam)[] => {\n    const audioNodeConnectionsOfSource = getAudioNodeConnections(source);\n    const destinations = [];\n\n    for (const outputConnection of audioNodeConnectionsOfSource.outputs) {\n        if (outputConnection[1] === output) {\n            if (isAudioNodeOutputConnection(outputConnection)) {\n                deleteInputsOfAudioNode(source, isOffline, ...outputConnection);\n            } else {\n                deleteInputsOfAudioParam(source, isOffline, ...outputConnection);\n            }\n\n            destinations.push(outputConnection[0]);\n            audioNodeConnectionsOfSource.outputs.delete(outputConnection);\n        }\n    }\n\n    return destinations;\n};\n\nconst deleteConnectionToDestination = <T extends TContext, U extends TContext>(\n    source: IAudioNode<T>,\n    isOffline: boolean,\n    destination: IAudioNode<U> | IAudioParam,\n    output?: number,\n    input?: number\n): (IAudioNode<T> | IAudioParam)[] => {\n    const audioNodeConnectionsOfSource = getAudioNodeConnections(source);\n\n    return Array.from(audioNodeConnectionsOfSource.outputs)\n        .filter(\n            (outputConnection) =>\n                outputConnection[0] === destination &&\n                (output === undefined || outputConnection[1] === output) &&\n                (input === undefined || outputConnection[2] === input)\n        )\n        .map((outputConnection) => {\n            if (isAudioNodeOutputConnection(outputConnection)) {\n                deleteInputsOfAudioNode(source, isOffline, ...outputConnection);\n            } else {\n                deleteInputsOfAudioParam(source, isOffline, ...outputConnection);\n            }\n\n            audioNodeConnectionsOfSource.outputs.delete(outputConnection);\n\n            return outputConnection[0];\n        });\n};\n\nexport const createAudioNodeConstructor: TAudioNodeConstructorFactory = (\n    addAudioNodeConnections,\n    addConnectionToAudioNode,\n    cacheTestResult,\n    createIncrementCycleCounter,\n    createIndexSizeError,\n    createInvalidAccessError,\n    createNotSupportedError,\n    decrementCycleCounter,\n    detectCycles,\n    eventTargetConstructor,\n    getNativeContext,\n    isNativeAudioContext,\n    isNativeAudioNode,\n    isNativeAudioParam,\n    isNativeOfflineAudioContext,\n    nativeAudioWorkletNodeConstructor\n) => {\n    return class AudioNode<T extends TContext, EventMap extends Record<string, Event> = {}>\n        extends eventTargetConstructor<EventMap>\n        implements IAudioNode<T, EventMap>\n    {\n        private _context: T;\n\n        private _nativeAudioNode: INativeAudioNodeFaker | TNativeAudioNode;\n\n        constructor(\n            context: T,\n            isActive: boolean,\n            nativeAudioNode: INativeAudioNodeFaker | TNativeAudioNode,\n            audioNodeRenderer: T extends IMinimalOfflineAudioContext | IOfflineAudioContext ? IAudioNodeRenderer<T, IAudioNode<T>> : null\n        ) {\n            super(nativeAudioNode);\n\n            this._context = context;\n            this._nativeAudioNode = nativeAudioNode;\n\n            const nativeContext = getNativeContext(context);\n\n            // Bug #12: Safari does not support to disconnect a specific destination.\n            if (\n                isNativeAudioContext(nativeContext) &&\n                true !==\n                    cacheTestResult(testAudioNodeDisconnectMethodSupport, () => {\n                        return testAudioNodeDisconnectMethodSupport(nativeContext, nativeAudioWorkletNodeConstructor);\n                    })\n            ) {\n                wrapAudioNodeDisconnectMethod(nativeAudioNode);\n            }\n\n            AUDIO_NODE_STORE.set(this, nativeAudioNode);\n            EVENT_LISTENERS.set(this, new Set());\n\n            if (context.state !== 'closed' && isActive) {\n                setInternalStateToActive(this);\n            }\n\n            addAudioNodeConnections(this, audioNodeRenderer, nativeAudioNode);\n        }\n\n        get channelCount(): number {\n            return this._nativeAudioNode.channelCount;\n        }\n\n        set channelCount(value) {\n            this._nativeAudioNode.channelCount = value;\n        }\n\n        get channelCountMode(): TChannelCountMode {\n            return this._nativeAudioNode.channelCountMode;\n        }\n\n        set channelCountMode(value) {\n            this._nativeAudioNode.channelCountMode = value;\n        }\n\n        get channelInterpretation(): TChannelInterpretation {\n            return this._nativeAudioNode.channelInterpretation;\n        }\n\n        set channelInterpretation(value) {\n            this._nativeAudioNode.channelInterpretation = value;\n        }\n\n        get context(): T {\n            return this._context;\n        }\n\n        get numberOfInputs(): number {\n            return this._nativeAudioNode.numberOfInputs;\n        }\n\n        get numberOfOutputs(): number {\n            return this._nativeAudioNode.numberOfOutputs;\n        }\n\n        public connect<U extends TContext, V extends IAudioNode<U>>(destinationNode: V, output?: number, input?: number): V;\n        public connect(destinationParam: IAudioParam, output?: number): void;\n        // tslint:disable-next-line:invalid-void\n        public connect<U extends TContext, V extends IAudioNode<U>>(destination: V | IAudioParam, output = 0, input = 0): void | V {\n            // Bug #174: Safari does expose a wrong numberOfOutputs for MediaStreamAudioDestinationNodes.\n            if (output < 0 || output >= this._nativeAudioNode.numberOfOutputs) {\n                throw createIndexSizeError();\n            }\n\n            const nativeContext = getNativeContext(this._context);\n            const isOffline = isNativeOfflineAudioContext(nativeContext);\n\n            if (isNativeAudioNode(destination) || isNativeAudioParam(destination)) {\n                throw createInvalidAccessError();\n            }\n\n            if (isAudioNode(destination)) {\n                const nativeDestinationAudioNode = getNativeAudioNode(destination);\n\n                try {\n                    const connection = connectNativeAudioNodeToNativeAudioNode(\n                        this._nativeAudioNode,\n                        nativeDestinationAudioNode,\n                        output,\n                        input\n                    );\n\n                    const isPassive = isPassiveAudioNode(this);\n\n                    if (isOffline || isPassive) {\n                        this._nativeAudioNode.disconnect(...connection);\n                    }\n\n                    if (this.context.state !== 'closed' && !isPassive && isPassiveAudioNode(destination)) {\n                        setInternalStateToActive(destination);\n                    }\n                } catch (err) {\n                    // Bug #41: Safari does not throw the correct exception so far.\n                    if (err.code === 12) {\n                        throw createInvalidAccessError();\n                    }\n\n                    throw err;\n                }\n\n                const isNewConnectionToAudioNode = addConnectionToAudioNode(\n                    this,\n                    <IAudioNode<TContext>>destination,\n                    output,\n                    input,\n                    isOffline\n                );\n\n                // Bug #164: Only Firefox detects cycles so far.\n                if (isNewConnectionToAudioNode) {\n                    const cycles = detectCycles([this], <IAudioNode<T>>(<unknown>destination));\n\n                    visitEachAudioNodeOnce(cycles, createIncrementCycleCounter(isOffline));\n                }\n\n                return destination;\n            }\n\n            const nativeAudioParam = getNativeAudioParam(destination);\n\n            /*\n             * Bug #73, #147 & #153: Safari does not support to connect an input signal to the playbackRate AudioParam of an\n             * AudioBufferSourceNode. This can't be easily detected and that's why the outdated name property is used here to identify\n             * Safari. In addition to that the maxValue property is used to only detect the affected versions below v14.0.2.\n             */\n            if ((<TNativeAudioParam & { name: string }>nativeAudioParam).name === 'playbackRate' && nativeAudioParam.maxValue === 1024) {\n                throw createNotSupportedError();\n            }\n\n            try {\n                this._nativeAudioNode.connect(nativeAudioParam, output);\n\n                if (isOffline || isPassiveAudioNode(this)) {\n                    this._nativeAudioNode.disconnect(nativeAudioParam, output);\n                }\n            } catch (err) {\n                // Bug #58: Safari doesn't throw an InvalidAccessError yet.\n                if (err.code === 12) {\n                    throw createInvalidAccessError();\n                }\n\n                throw err;\n            }\n\n            const isNewConnectionToAudioParam = addConnectionToAudioParamOfAudioContext(this, destination, output, isOffline);\n\n            // Bug #164: Only Firefox detects cycles so far.\n            if (isNewConnectionToAudioParam) {\n                const cycles = detectCycles([this], destination);\n\n                visitEachAudioNodeOnce(cycles, createIncrementCycleCounter(isOffline));\n            }\n        }\n\n        public disconnect(output?: number): void;\n        public disconnect<U extends TContext>(destinationNode: IAudioNode<U>, output?: number, input?: number): void;\n        public disconnect(destinationParam: IAudioParam, output?: number): void;\n        public disconnect<U extends TContext>(\n            destinationOrOutput?: number | IAudioNode<U> | IAudioParam,\n            output?: number,\n            input?: number\n        ): void {\n            let destinations: (IAudioNode<T> | IAudioParam)[];\n\n            const nativeContext = getNativeContext(this._context);\n            const isOffline = isNativeOfflineAudioContext(nativeContext);\n\n            if (destinationOrOutput === undefined) {\n                destinations = deleteAnyConnection(this, isOffline);\n            } else if (typeof destinationOrOutput === 'number') {\n                if (destinationOrOutput < 0 || destinationOrOutput >= this.numberOfOutputs) {\n                    throw createIndexSizeError();\n                }\n\n                destinations = deleteConnectionAtOutput(this, isOffline, destinationOrOutput);\n            } else {\n                if (output !== undefined && (output < 0 || output >= this.numberOfOutputs)) {\n                    throw createIndexSizeError();\n                }\n\n                if (isAudioNode(destinationOrOutput) && input !== undefined && (input < 0 || input >= destinationOrOutput.numberOfInputs)) {\n                    throw createIndexSizeError();\n                }\n\n                destinations = deleteConnectionToDestination(this, isOffline, destinationOrOutput, output, input);\n\n                if (destinations.length === 0) {\n                    throw createInvalidAccessError();\n                }\n            }\n\n            // Bug #164: Only Firefox detects cycles so far.\n            for (const destination of destinations) {\n                const cycles = detectCycles([this], destination);\n\n                visitEachAudioNodeOnce(cycles, decrementCycleCounter);\n            }\n        }\n    };\n};\n", "import { AutomationEventList } from 'automation-events';\nimport { IAudioNode, IAudioParam, IAudioParamRenderer, IMinimalOfflineAudioContext, IOfflineAudioContext } from '../interfaces';\nimport { TAudioParamFactoryFactory, TContext, TNativeAudioParam } from '../types';\n\nexport const createAudioParamFactory: TAudioParamFactoryFactory = (\n    addAudioParamConnections,\n    audioParamAudioNodeStore,\n    audioParamStore,\n    createAudioParamRenderer,\n    createCancelAndHoldAutomationEvent,\n    createCancelScheduledValuesAutomationEvent,\n    createExponentialRampToValueAutomationEvent,\n    createLinearRampToValueAutomationEvent,\n    createSetTargetAutomationEvent,\n    createSetValueAutomationEvent,\n    createSetValueCurveAutomationEvent,\n    nativeAudioContextConstructor,\n    setValueAtTimeUntilPossible\n) => {\n    return <T extends TContext>(\n        audioNode: IAudioNode<T>,\n        isAudioParamOfOfflineAudioContext: boolean,\n        nativeAudioParam: TNativeAudioParam,\n        maxValue: null | number = null,\n        minValue: null | number = null\n    ): IAudioParam => {\n        // Bug #196 Only Safari sets the defaultValue to the initial value.\n        const defaultValue = nativeAudioParam.value;\n        const automationEventList = new AutomationEventList(defaultValue);\n        const audioParamRenderer = isAudioParamOfOfflineAudioContext ? createAudioParamRenderer(automationEventList) : null;\n        const audioParam = {\n            get defaultValue(): number {\n                return defaultValue;\n            },\n            get maxValue(): number {\n                return maxValue === null ? nativeAudioParam.maxValue : maxValue;\n            },\n            get minValue(): number {\n                return minValue === null ? nativeAudioParam.minValue : minValue;\n            },\n            get value(): number {\n                return nativeAudioParam.value;\n            },\n            set value(value) {\n                nativeAudioParam.value = value;\n\n                // Bug #98: Firefox & Safari do not yet treat the value setter like a call to setValueAtTime().\n                audioParam.setValueAtTime(value, audioNode.context.currentTime);\n            },\n            cancelAndHoldAtTime(cancelTime: number): IAudioParam {\n                // Bug #28: Firefox & Safari do not yet implement cancelAndHoldAtTime().\n                if (typeof nativeAudioParam.cancelAndHoldAtTime === 'function') {\n                    if (audioParamRenderer === null) {\n                        automationEventList.flush(audioNode.context.currentTime);\n                    }\n\n                    automationEventList.add(createCancelAndHoldAutomationEvent(cancelTime));\n                    nativeAudioParam.cancelAndHoldAtTime(cancelTime);\n                } else {\n                    const previousLastEvent = Array.from(automationEventList).pop();\n\n                    if (audioParamRenderer === null) {\n                        automationEventList.flush(audioNode.context.currentTime);\n                    }\n\n                    automationEventList.add(createCancelAndHoldAutomationEvent(cancelTime));\n\n                    const currentLastEvent = Array.from(automationEventList).pop();\n\n                    nativeAudioParam.cancelScheduledValues(cancelTime);\n\n                    if (previousLastEvent !== currentLastEvent && currentLastEvent !== undefined) {\n                        if (currentLastEvent.type === 'exponentialRampToValue') {\n                            nativeAudioParam.exponentialRampToValueAtTime(currentLastEvent.value, currentLastEvent.endTime);\n                        } else if (currentLastEvent.type === 'linearRampToValue') {\n                            nativeAudioParam.linearRampToValueAtTime(currentLastEvent.value, currentLastEvent.endTime);\n                        } else if (currentLastEvent.type === 'setValue') {\n                            nativeAudioParam.setValueAtTime(currentLastEvent.value, currentLastEvent.startTime);\n                        } else if (currentLastEvent.type === 'setValueCurve') {\n                            nativeAudioParam.setValueCurveAtTime(\n                                currentLastEvent.values,\n                                currentLastEvent.startTime,\n                                currentLastEvent.duration\n                            );\n                        }\n                    }\n                }\n\n                return audioParam;\n            },\n            cancelScheduledValues(cancelTime: number): IAudioParam {\n                if (audioParamRenderer === null) {\n                    automationEventList.flush(audioNode.context.currentTime);\n                }\n\n                automationEventList.add(createCancelScheduledValuesAutomationEvent(cancelTime));\n                nativeAudioParam.cancelScheduledValues(cancelTime);\n\n                return audioParam;\n            },\n            exponentialRampToValueAtTime(value: number, endTime: number): IAudioParam {\n                // Bug #45: Safari does not throw an error yet.\n                if (value === 0) {\n                    throw new RangeError();\n                }\n\n                // Bug #187: Safari does not throw an error yet.\n                if (!Number.isFinite(endTime) || endTime < 0) {\n                    throw new RangeError();\n                }\n\n                const currentTime = audioNode.context.currentTime;\n\n                if (audioParamRenderer === null) {\n                    automationEventList.flush(currentTime);\n                }\n\n                // Bug #194: Firefox does not implicitly call setValueAtTime() if there is no previous event.\n                if (Array.from(automationEventList).length === 0) {\n                    automationEventList.add(createSetValueAutomationEvent(defaultValue, currentTime));\n                    nativeAudioParam.setValueAtTime(defaultValue, currentTime);\n                }\n\n                automationEventList.add(createExponentialRampToValueAutomationEvent(value, endTime));\n                nativeAudioParam.exponentialRampToValueAtTime(value, endTime);\n\n                return audioParam;\n            },\n            linearRampToValueAtTime(value: number, endTime: number): IAudioParam {\n                const currentTime = audioNode.context.currentTime;\n\n                if (audioParamRenderer === null) {\n                    automationEventList.flush(currentTime);\n                }\n\n                // Bug #195: Firefox does not implicitly call setValueAtTime() if there is no previous event.\n                if (Array.from(automationEventList).length === 0) {\n                    automationEventList.add(createSetValueAutomationEvent(defaultValue, currentTime));\n                    nativeAudioParam.setValueAtTime(defaultValue, currentTime);\n                }\n\n                automationEventList.add(createLinearRampToValueAutomationEvent(value, endTime));\n                nativeAudioParam.linearRampToValueAtTime(value, endTime);\n\n                return audioParam;\n            },\n            setTargetAtTime(target: number, startTime: number, timeConstant: number): IAudioParam {\n                if (audioParamRenderer === null) {\n                    automationEventList.flush(audioNode.context.currentTime);\n                }\n\n                automationEventList.add(createSetTargetAutomationEvent(target, startTime, timeConstant));\n                nativeAudioParam.setTargetAtTime(target, startTime, timeConstant);\n\n                return audioParam;\n            },\n            setValueAtTime(value: number, startTime: number): IAudioParam {\n                if (audioParamRenderer === null) {\n                    automationEventList.flush(audioNode.context.currentTime);\n                }\n\n                automationEventList.add(createSetValueAutomationEvent(value, startTime));\n                nativeAudioParam.setValueAtTime(value, startTime);\n\n                return audioParam;\n            },\n            setValueCurveAtTime(values: Iterable<number>, startTime: number, duration: number): IAudioParam {\n                // Bug 183: Safari only accepts a Float32Array.\n                const convertedValues = values instanceof Float32Array ? values : new Float32Array(values);\n                /*\n                 * Bug #152: Safari does not correctly interpolate the values of the curve.\n                 * @todo Unfortunately there is no way to test for this behavior in a synchronous fashion which is why testing for the\n                 * existence of the webkitAudioContext is used as a workaround here.\n                 */\n                if (nativeAudioContextConstructor !== null && nativeAudioContextConstructor.name === 'webkitAudioContext') {\n                    const endTime = startTime + duration;\n                    const sampleRate = audioNode.context.sampleRate;\n                    const firstSample = Math.ceil(startTime * sampleRate);\n                    const lastSample = Math.floor(endTime * sampleRate);\n                    const numberOfInterpolatedValues = lastSample - firstSample;\n                    const interpolatedValues = new Float32Array(numberOfInterpolatedValues);\n\n                    for (let i = 0; i < numberOfInterpolatedValues; i += 1) {\n                        const theoreticIndex = ((convertedValues.length - 1) / duration) * ((firstSample + i) / sampleRate - startTime);\n                        const lowerIndex = Math.floor(theoreticIndex);\n                        const upperIndex = Math.ceil(theoreticIndex);\n\n                        interpolatedValues[i] =\n                            lowerIndex === upperIndex\n                                ? convertedValues[lowerIndex]\n                                : (1 - (theoreticIndex - lowerIndex)) * convertedValues[lowerIndex] +\n                                  (1 - (upperIndex - theoreticIndex)) * convertedValues[upperIndex];\n                    }\n\n                    if (audioParamRenderer === null) {\n                        automationEventList.flush(audioNode.context.currentTime);\n                    }\n\n                    automationEventList.add(createSetValueCurveAutomationEvent(interpolatedValues, startTime, duration));\n                    nativeAudioParam.setValueCurveAtTime(interpolatedValues, startTime, duration);\n\n                    const timeOfLastSample = lastSample / sampleRate;\n\n                    if (timeOfLastSample < endTime) {\n                        setValueAtTimeUntilPossible(audioParam, interpolatedValues[interpolatedValues.length - 1], timeOfLastSample);\n                    }\n\n                    setValueAtTimeUntilPossible(audioParam, convertedValues[convertedValues.length - 1], endTime);\n                } else {\n                    if (audioParamRenderer === null) {\n                        automationEventList.flush(audioNode.context.currentTime);\n                    }\n\n                    automationEventList.add(createSetValueCurveAutomationEvent(convertedValues, startTime, duration));\n                    nativeAudioParam.setValueCurveAtTime(convertedValues, startTime, duration);\n                }\n\n                return audioParam;\n            }\n        };\n\n        audioParamStore.set(audioParam, nativeAudioParam);\n        audioParamAudioNodeStore.set(audioParam, audioNode);\n\n        addAudioParamConnections(\n            audioParam,\n            <T extends IMinimalOfflineAudioContext | IOfflineAudioContext ? IAudioParamRenderer : null>audioParamRenderer\n        );\n\n        return audioParam;\n    };\n};\n", "import { TAudioParamRendererFactory, TNativeAudioParam } from '../types';\n\nexport const createAudioParamRenderer: TAudioParamRendererFactory = (automationEventList) => {\n    return {\n        replay(audioParam: TNativeAudioParam): void {\n            for (const automationEvent of automationEventList) {\n                if (automationEvent.type === 'exponentialRampToValue') {\n                    const { endTime, value } = automationEvent;\n\n                    audioParam.exponentialRampToValueAtTime(value, endTime);\n                } else if (automationEvent.type === 'linearRampToValue') {\n                    const { endTime, value } = automationEvent;\n\n                    audioParam.linearRampToValueAtTime(value, endTime);\n                } else if (automationEvent.type === 'setTarget') {\n                    const { startTime, target, timeConstant } = automationEvent;\n\n                    audioParam.setTargetAtTime(target, startTime, timeConstant);\n                } else if (automationEvent.type === 'setValue') {\n                    const { startTime, value } = automationEvent;\n\n                    audioParam.setValueAtTime(value, startTime);\n                } else if (automationEvent.type === 'setValueCurve') {\n                    const { duration, startTime, values } = automationEvent;\n\n                    audioParam.setValueCurveAtTime(values, startTime, duration);\n                } else {\n                    throw new Error(\"Can't apply an unknown automation.\");\n                }\n            }\n        }\n    };\n};\n", "import { IReadOnlyMap } from './interfaces';\n\nexport class ReadOnlyMap<T, U> implements IReadOnlyMap<T, U> {\n    private _map: Map<T, U>;\n\n    constructor(parameters: [T, U][]) {\n        this._map = new Map(parameters);\n    }\n\n    get size(): number {\n        return this._map.size;\n    }\n\n    public entries(): IterableIterator<[T, U]> {\n        return this._map.entries();\n    }\n\n    public forEach(callback: (audioParam: U, name: T, map: ReadOnlyMap<T, U>) => void, thisArg: any = null): void {\n        return this._map.forEach((value: U, key: T) => callback.call(thisArg, value, key, this));\n    }\n\n    public get(name: T): undefined | U {\n        return this._map.get(name);\n    }\n\n    public has(name: T): boolean {\n        return this._map.has(name);\n    }\n\n    public keys(): IterableIterator<T> {\n        return this._map.keys();\n    }\n\n    public values(): IterableIterator<U> {\n        return this._map.values();\n    }\n}\n", "import { NODE_NAME_TO_PROCESSOR_CONSTRUCTOR_MAPS } from '../globals';\nimport {\n    IAudioParam,\n    IAudioWorkletNode,\n    IAudioWorkletNodeEventMap,\n    IAudioWorkletNodeOptions,\n    IMinimalAudioContext,\n    IMinimalOfflineAudioContext,\n    IOfflineAudioContext,\n    IReadOnlyMap\n} from '../interfaces';\nimport { ReadOnlyMap } from '../read-only-map';\nimport {\n    TAudioNodeRenderer,\n    TAudioParamMap,\n    TAudioWorkletNodeConstructorFactory,\n    TContext,\n    TErrorEventHandler,\n    TNativeAudioContext,\n    TNativeAudioParam,\n    TNativeAudioWorkletNode\n} from '../types';\n\nconst DEFAULT_OPTIONS = {\n    channelCount: 2,\n    // Bug #61: The channelCountMode should be 'max' according to the spec but is set to 'explicit' to achieve consistent behavior.\n    channelCountMode: 'explicit',\n    channelInterpretation: 'speakers',\n    numberOfInputs: 1,\n    numberOfOutputs: 1,\n    parameterData: {},\n    processorOptions: {}\n} as const;\n\nexport const createAudioWorkletNodeConstructor: TAudioWorkletNodeConstructorFactory = (\n    addUnrenderedAudioWorkletNode,\n    audioNodeConstructor,\n    createAudioParam,\n    createAudioWorkletNodeRenderer,\n    createNativeAudioWorkletNode,\n    getAudioNodeConnections,\n    getBackupOfflineAudioContext,\n    getNativeContext,\n    isNativeOfflineAudioContext,\n    nativeAudioWorkletNodeConstructor,\n    sanitizeAudioWorkletNodeOptions,\n    setActiveAudioWorkletNodeInputs,\n    testAudioWorkletNodeOptionsClonability,\n    wrapEventListener\n) => {\n    return class AudioWorkletNode<T extends TContext>\n        extends audioNodeConstructor<T, IAudioWorkletNodeEventMap>\n        implements IAudioWorkletNode<T>\n    {\n        private _nativeAudioWorkletNode: TNativeAudioWorkletNode;\n\n        private _onprocessorerror: null | TErrorEventHandler<this>;\n\n        private _parameters: null | TAudioParamMap;\n\n        constructor(context: T, name: string, options?: Partial<IAudioWorkletNodeOptions>) {\n            const nativeContext = getNativeContext(context);\n            const isOffline = isNativeOfflineAudioContext(nativeContext);\n            const mergedOptions = sanitizeAudioWorkletNodeOptions({ ...DEFAULT_OPTIONS, ...options });\n\n            // Bug #191: Safari doesn't throw an error if the options aren't clonable.\n            testAudioWorkletNodeOptionsClonability(mergedOptions);\n\n            const nodeNameToProcessorConstructorMap = NODE_NAME_TO_PROCESSOR_CONSTRUCTOR_MAPS.get(nativeContext);\n            const processorConstructor = nodeNameToProcessorConstructorMap?.get(name);\n            // Bug #186: Chrome and Edge do not allow to create an AudioWorkletNode on a closed AudioContext.\n            const nativeContextOrBackupOfflineAudioContext =\n                isOffline || nativeContext.state !== 'closed'\n                    ? nativeContext\n                    : getBackupOfflineAudioContext(<TNativeAudioContext>nativeContext) ?? nativeContext;\n            const nativeAudioWorkletNode = createNativeAudioWorkletNode(\n                nativeContextOrBackupOfflineAudioContext,\n                isOffline ? null : (<IMinimalAudioContext>(<any>context)).baseLatency,\n                nativeAudioWorkletNodeConstructor,\n                name,\n                processorConstructor,\n                mergedOptions\n            );\n            const audioWorkletNodeRenderer = <TAudioNodeRenderer<T, this>>(\n                (isOffline ? createAudioWorkletNodeRenderer(name, mergedOptions, processorConstructor) : null)\n            );\n\n            /*\n             * @todo Add a mechanism to switch an AudioWorkletNode to passive once the process() function of the AudioWorkletProcessor\n             * returns false.\n             */\n            super(context, true, nativeAudioWorkletNode, audioWorkletNodeRenderer);\n\n            const parameters: [string, IAudioParam][] = [];\n\n            nativeAudioWorkletNode.parameters.forEach((nativeAudioParam, nm) => {\n                const audioParam = createAudioParam(this, isOffline, nativeAudioParam);\n\n                parameters.push([nm, audioParam]);\n            });\n\n            this._nativeAudioWorkletNode = nativeAudioWorkletNode;\n            this._onprocessorerror = null;\n            this._parameters = new ReadOnlyMap(parameters);\n\n            /*\n             * Bug #86 & #87: Invoking the renderer of an AudioWorkletNode might be necessary if it has no direct or indirect connection to\n             * the destination.\n             */\n            if (isOffline) {\n                addUnrenderedAudioWorkletNode(nativeContext, <IAudioWorkletNode<IMinimalOfflineAudioContext | IOfflineAudioContext>>this);\n            }\n\n            const { activeInputs } = getAudioNodeConnections(this);\n\n            setActiveAudioWorkletNodeInputs(nativeAudioWorkletNode, activeInputs);\n        }\n\n        get onprocessorerror(): null | TErrorEventHandler<this> {\n            return this._onprocessorerror;\n        }\n\n        set onprocessorerror(value) {\n            const wrappedListener = typeof value === 'function' ? wrapEventListener(this, <EventListenerOrEventListenerObject>value) : null;\n\n            this._nativeAudioWorkletNode.onprocessorerror = wrappedListener;\n\n            const nativeOnProcessorError = this._nativeAudioWorkletNode.onprocessorerror;\n\n            this._onprocessorerror =\n                nativeOnProcessorError !== null && nativeOnProcessorError === wrappedListener\n                    ? value\n                    : <null | TErrorEventHandler<this>>nativeOnProcessorError;\n        }\n\n        get parameters(): TAudioParamMap {\n            if (this._parameters === null) {\n                // @todo The definition that TypeScript uses of the AudioParamMap is lacking many methods.\n                return <IReadOnlyMap<string, TNativeAudioParam>>this._nativeAudioWorkletNode.parameters;\n            }\n\n            return this._parameters;\n        }\n\n        get port(): MessagePort {\n            return this._nativeAudioWorkletNode.port;\n        }\n    };\n};\n", "import { TNativeAudioBuffer } from '../types';\n\nexport function copyFromChannel(\n    audioBuffer: TNativeAudioBuffer,\n    parent: { [key: number]: Float32Array },\n    key: number,\n    channelNumber: number,\n    bufferOffset: number\n): void;\nexport function copyFromChannel(\n    audioBuffer: TNativeAudioBuffer,\n    parent: { [key: string]: Float32Array },\n    key: string,\n    channelNumber: number,\n    bufferOffset: number\n): void;\nexport function copyFromChannel(\n    audioBuffer: TNativeAudioBuffer,\n    // @todo There is currently no way to define something like { [ key: number | string ]: Float32Array }\n    parent: any,\n    key: number | string,\n    channelNumber: number,\n    bufferOffset: number\n): void {\n    if (typeof audioBuffer.copyFromChannel === 'function') {\n        // The byteLength will be 0 when the ArrayBuffer was transferred.\n        if (parent[key].byteLength === 0) {\n            parent[key] = new Float32Array(128);\n        }\n\n        audioBuffer.copyFromChannel(parent[key], channelNumber, bufferOffset);\n\n        // Bug #5: Safari does not support copyFromChannel().\n    } else {\n        const channelData = audioBuffer.getChannelData(channelNumber);\n\n        // The byteLength will be 0 when the ArrayBuffer was transferred.\n        if (parent[key].byteLength === 0) {\n            parent[key] = channelData.slice(bufferOffset, bufferOffset + 128);\n        } else {\n            const slicedInput = new Float32Array(channelData.buffer, bufferOffset * Float32Array.BYTES_PER_ELEMENT, 128);\n\n            parent[key].set(slicedInput);\n        }\n    }\n}\n", "import { TNativeAudioBuffer } from '../types';\n\nexport const copyToChannel = (\n    audioBuffer: TNativeAudioBuffer,\n    parent: { [key: number]: Float32Array },\n    key: number,\n    channelNumber: number,\n    bufferOffset: number\n): void => {\n    if (typeof audioBuffer.copyToChannel === 'function') {\n        // The byteLength will be 0 when the ArrayBuffer was transferred.\n        if (parent[key].byteLength !== 0) {\n            audioBuffer.copyToChannel(parent[key], channelNumber, bufferOffset);\n        }\n\n        // Bug #5: Safari does not support copyToChannel().\n    } else {\n        // The byteLength will be 0 when the ArrayBuffer was transferred.\n        if (parent[key].byteLength !== 0) {\n            audioBuffer.getChannelData(channelNumber).set(parent[key], bufferOffset);\n        }\n    }\n};\n", "export const createNestedArrays = (x: number, y: number | number[]): Float32Array[][] => {\n    const arrays: Float32Array[][] = [];\n\n    for (let i = 0; i < x; i += 1) {\n        const array = [];\n\n        const length = typeof y === 'number' ? y : y[i];\n\n        for (let j = 0; j < length; j += 1) {\n            array.push(new Float32Array(128));\n        }\n\n        arrays.push(array);\n    }\n\n    return arrays;\n};\n", "import { NODE_TO_PROCESSOR_MAPS } from '../globals';\nimport { IAudioNode, IAudioWorkletProcessor } from '../interfaces';\nimport { TContext, TNativeAudioWorkletNode, TNativeOfflineAudioContext } from '../types';\nimport { getNativeAudioNode } from './get-native-audio-node';\nimport { getValueForKey } from './get-value-for-key';\n\nexport const getAudioWorkletProcessor = <T extends TContext>(\n    nativeOfflineAudioContext: TNativeOfflineAudioContext,\n    proxy: IAudioNode<T>\n): Promise<IAudioWorkletProcessor> => {\n    const nodeToProcessorMap = getValueForKey(NODE_TO_PROCESSOR_MAPS, nativeOfflineAudioContext);\n    const nativeAudioWorkletNode = getNativeAudioNode<T, TNativeAudioWorkletNode>(proxy);\n\n    return getValueForKey(nodeToProcessorMap, nativeAudioWorkletNode);\n};\n", "import { copyFromChannel } from '../helpers/copy-from-channel';\nimport { copyToChannel } from '../helpers/copy-to-channel';\nimport { createNestedArrays } from '../helpers/create-nested-arrays';\nimport { getAudioNodeConnections } from '../helpers/get-audio-node-connections';\nimport { getAudioWorkletProcessor } from '../helpers/get-audio-worklet-processor';\nimport { isOwnedByContext } from '../helpers/is-owned-by-context';\nimport {\n    IAudioWorkletNode,\n    IAudioWorkletNodeOptions,\n    IAudioWorkletProcessorConstructor,\n    IMinimalOfflineAudioContext,\n    IOfflineAudioContext,\n    IReadOnlyMap\n} from '../interfaces';\nimport {\n    TAudioWorkletNodeRendererFactoryFactory,\n    TExposeCurrentFrameAndCurrentTimeFunction,\n    TNativeAudioBuffer,\n    TNativeAudioNode,\n    TNativeAudioParam,\n    TNativeAudioWorkletNode,\n    TNativeChannelMergerNode,\n    TNativeChannelSplitterNode,\n    TNativeGainNode,\n    TNativeOfflineAudioContext\n} from '../types';\n\nconst processBuffer = async <T extends IMinimalOfflineAudioContext | IOfflineAudioContext>(\n    proxy: IAudioWorkletNode<T>,\n    renderedBuffer: null | TNativeAudioBuffer,\n    nativeOfflineAudioContext: TNativeOfflineAudioContext,\n    options: IAudioWorkletNodeOptions,\n    outputChannelCount: number[],\n    processorConstructor: undefined | IAudioWorkletProcessorConstructor,\n    exposeCurrentFrameAndCurrentTime: TExposeCurrentFrameAndCurrentTimeFunction\n): Promise<null | TNativeAudioBuffer> => {\n    // Ceil the length to the next full render quantum.\n    // Bug #17: Safari does not yet expose the length.\n    const length = renderedBuffer === null ? Math.ceil(proxy.context.length / 128) * 128 : renderedBuffer.length;\n    const numberOfInputChannels = options.channelCount * options.numberOfInputs;\n    const numberOfOutputChannels = outputChannelCount.reduce((sum, value) => sum + value, 0);\n    const processedBuffer =\n        numberOfOutputChannels === 0\n            ? null\n            : nativeOfflineAudioContext.createBuffer(numberOfOutputChannels, length, nativeOfflineAudioContext.sampleRate);\n\n    if (processorConstructor === undefined) {\n        throw new Error('Missing the processor constructor.');\n    }\n\n    const audioNodeConnections = getAudioNodeConnections(proxy);\n    const audioWorkletProcessor = await getAudioWorkletProcessor(nativeOfflineAudioContext, proxy);\n    const inputs = createNestedArrays(options.numberOfInputs, options.channelCount);\n    const outputs = createNestedArrays(options.numberOfOutputs, outputChannelCount);\n    const parameters: { [name: string]: Float32Array } = Array.from(proxy.parameters.keys()).reduce(\n        (prmtrs, name) => ({ ...prmtrs, [name]: new Float32Array(128) }),\n        {}\n    );\n\n    for (let i = 0; i < length; i += 128) {\n        if (options.numberOfInputs > 0 && renderedBuffer !== null) {\n            for (let j = 0; j < options.numberOfInputs; j += 1) {\n                for (let k = 0; k < options.channelCount; k += 1) {\n                    copyFromChannel(renderedBuffer, inputs[j], k, k, i);\n                }\n            }\n        }\n\n        if (processorConstructor.parameterDescriptors !== undefined && renderedBuffer !== null) {\n            processorConstructor.parameterDescriptors.forEach(({ name }, index) => {\n                copyFromChannel(renderedBuffer, parameters, name, numberOfInputChannels + index, i);\n            });\n        }\n\n        for (let j = 0; j < options.numberOfInputs; j += 1) {\n            for (let k = 0; k < outputChannelCount[j]; k += 1) {\n                // The byteLength will be 0 when the ArrayBuffer was transferred.\n                if (outputs[j][k].byteLength === 0) {\n                    outputs[j][k] = new Float32Array(128);\n                }\n            }\n        }\n\n        try {\n            const potentiallyEmptyInputs = inputs.map((input, index) => {\n                if (audioNodeConnections.activeInputs[index].size === 0) {\n                    return [];\n                }\n\n                return input;\n            });\n            const activeSourceFlag = exposeCurrentFrameAndCurrentTime(\n                i / nativeOfflineAudioContext.sampleRate,\n                nativeOfflineAudioContext.sampleRate,\n                () => audioWorkletProcessor.process(potentiallyEmptyInputs, outputs, parameters)\n            );\n\n            if (processedBuffer !== null) {\n                for (let j = 0, outputChannelSplitterNodeOutput = 0; j < options.numberOfOutputs; j += 1) {\n                    for (let k = 0; k < outputChannelCount[j]; k += 1) {\n                        copyToChannel(processedBuffer, outputs[j], k, outputChannelSplitterNodeOutput + k, i);\n                    }\n\n                    outputChannelSplitterNodeOutput += outputChannelCount[j];\n                }\n            }\n\n            if (!activeSourceFlag) {\n                break;\n            }\n        } catch (error) {\n            proxy.dispatchEvent(\n                new ErrorEvent('processorerror', {\n                    colno: error.colno,\n                    filename: error.filename,\n                    lineno: error.lineno,\n                    message: error.message\n                })\n            );\n\n            break;\n        }\n    }\n\n    return processedBuffer;\n};\n\nexport const createAudioWorkletNodeRendererFactory: TAudioWorkletNodeRendererFactoryFactory = (\n    connectAudioParam,\n    connectMultipleOutputs,\n    createNativeAudioBufferSourceNode,\n    createNativeChannelMergerNode,\n    createNativeChannelSplitterNode,\n    createNativeConstantSourceNode,\n    createNativeGainNode,\n    deleteUnrenderedAudioWorkletNode,\n    disconnectMultipleOutputs,\n    exposeCurrentFrameAndCurrentTime,\n    getNativeAudioNode,\n    nativeAudioWorkletNodeConstructor,\n    nativeOfflineAudioContextConstructor,\n    renderAutomation,\n    renderInputsOfAudioNode,\n    renderNativeOfflineAudioContext\n) => {\n    return <T extends IMinimalOfflineAudioContext | IOfflineAudioContext>(\n        name: string,\n        options: IAudioWorkletNodeOptions,\n        processorConstructor: undefined | IAudioWorkletProcessorConstructor\n    ) => {\n        const renderedNativeAudioNodes = new WeakMap<TNativeOfflineAudioContext, TNativeAudioWorkletNode | TNativeGainNode>();\n\n        let processedBufferPromise: null | Promise<null | TNativeAudioBuffer> = null;\n\n        const createAudioNode = async (proxy: IAudioWorkletNode<T>, nativeOfflineAudioContext: TNativeOfflineAudioContext) => {\n            let nativeAudioWorkletNode = getNativeAudioNode<T, TNativeAudioWorkletNode>(proxy);\n            let nativeOutputNodes: null | [TNativeChannelSplitterNode, TNativeChannelMergerNode[], TNativeGainNode] = null;\n\n            const nativeAudioWorkletNodeIsOwnedByContext = isOwnedByContext(nativeAudioWorkletNode, nativeOfflineAudioContext);\n            const outputChannelCount = Array.isArray(options.outputChannelCount)\n                ? options.outputChannelCount\n                : Array.from(options.outputChannelCount);\n\n            // Bug #61: Only Chrome, Edge & Firefox have an implementation of the AudioWorkletNode yet.\n            if (nativeAudioWorkletNodeConstructor === null) {\n                const numberOfOutputChannels = outputChannelCount.reduce((sum, value) => sum + value, 0);\n                const outputChannelSplitterNode = createNativeChannelSplitterNode(nativeOfflineAudioContext, {\n                    channelCount: Math.max(1, numberOfOutputChannels),\n                    channelCountMode: 'explicit',\n                    channelInterpretation: 'discrete',\n                    numberOfOutputs: Math.max(1, numberOfOutputChannels)\n                });\n                const outputChannelMergerNodes: TNativeChannelMergerNode[] = [];\n\n                for (let i = 0; i < proxy.numberOfOutputs; i += 1) {\n                    outputChannelMergerNodes.push(\n                        createNativeChannelMergerNode(nativeOfflineAudioContext, {\n                            channelCount: 1,\n                            channelCountMode: 'explicit',\n                            channelInterpretation: 'speakers',\n                            numberOfInputs: outputChannelCount[i]\n                        })\n                    );\n                }\n\n                const outputGainNode = createNativeGainNode(nativeOfflineAudioContext, {\n                    channelCount: options.channelCount,\n                    channelCountMode: options.channelCountMode,\n                    channelInterpretation: options.channelInterpretation,\n                    gain: 1\n                });\n\n                outputGainNode.connect = <TNativeAudioNode['connect']>connectMultipleOutputs.bind(null, outputChannelMergerNodes);\n                outputGainNode.disconnect = <TNativeAudioNode['disconnect']>disconnectMultipleOutputs.bind(null, outputChannelMergerNodes);\n\n                nativeOutputNodes = [outputChannelSplitterNode, outputChannelMergerNodes, outputGainNode];\n            } else if (!nativeAudioWorkletNodeIsOwnedByContext) {\n                nativeAudioWorkletNode = new nativeAudioWorkletNodeConstructor(nativeOfflineAudioContext, name);\n            }\n\n            renderedNativeAudioNodes.set(\n                nativeOfflineAudioContext,\n                nativeOutputNodes === null ? nativeAudioWorkletNode : nativeOutputNodes[2]\n            );\n\n            if (nativeOutputNodes !== null) {\n                if (processedBufferPromise === null) {\n                    if (processorConstructor === undefined) {\n                        throw new Error('Missing the processor constructor.');\n                    }\n\n                    if (nativeOfflineAudioContextConstructor === null) {\n                        throw new Error('Missing the native OfflineAudioContext constructor.');\n                    }\n\n                    // Bug #47: The AudioDestinationNode in Safari gets not initialized correctly.\n                    const numberOfInputChannels = proxy.channelCount * proxy.numberOfInputs;\n                    const numberOfParameters =\n                        processorConstructor.parameterDescriptors === undefined ? 0 : processorConstructor.parameterDescriptors.length;\n                    const numberOfChannels = numberOfInputChannels + numberOfParameters;\n\n                    const renderBuffer = async () => {\n                        const partialOfflineAudioContext = new nativeOfflineAudioContextConstructor(\n                            numberOfChannels,\n                            // Ceil the length to the next full render quantum.\n                            // Bug #17: Safari does not yet expose the length.\n                            Math.ceil(proxy.context.length / 128) * 128,\n                            nativeOfflineAudioContext.sampleRate\n                        );\n                        const gainNodes: TNativeGainNode[] = [];\n                        const inputChannelSplitterNodes = [];\n\n                        for (let i = 0; i < options.numberOfInputs; i += 1) {\n                            gainNodes.push(\n                                createNativeGainNode(partialOfflineAudioContext, {\n                                    channelCount: options.channelCount,\n                                    channelCountMode: options.channelCountMode,\n                                    channelInterpretation: options.channelInterpretation,\n                                    gain: 1\n                                })\n                            );\n                            inputChannelSplitterNodes.push(\n                                createNativeChannelSplitterNode(partialOfflineAudioContext, {\n                                    channelCount: options.channelCount,\n                                    channelCountMode: 'explicit',\n                                    channelInterpretation: 'discrete',\n                                    numberOfOutputs: options.channelCount\n                                })\n                            );\n                        }\n\n                        const constantSourceNodes = await Promise.all(\n                            Array.from(proxy.parameters.values()).map(async (audioParam) => {\n                                const constantSourceNode = createNativeConstantSourceNode(partialOfflineAudioContext, {\n                                    channelCount: 1,\n                                    channelCountMode: 'explicit',\n                                    channelInterpretation: 'discrete',\n                                    offset: audioParam.value\n                                });\n\n                                await renderAutomation(partialOfflineAudioContext, audioParam, constantSourceNode.offset);\n\n                                return constantSourceNode;\n                            })\n                        );\n\n                        const inputChannelMergerNode = createNativeChannelMergerNode(partialOfflineAudioContext, {\n                            channelCount: 1,\n                            channelCountMode: 'explicit',\n                            channelInterpretation: 'speakers',\n                            numberOfInputs: Math.max(1, numberOfInputChannels + numberOfParameters)\n                        });\n\n                        for (let i = 0; i < options.numberOfInputs; i += 1) {\n                            gainNodes[i].connect(inputChannelSplitterNodes[i]);\n\n                            for (let j = 0; j < options.channelCount; j += 1) {\n                                inputChannelSplitterNodes[i].connect(inputChannelMergerNode, j, i * options.channelCount + j);\n                            }\n                        }\n\n                        for (const [index, constantSourceNode] of constantSourceNodes.entries()) {\n                            constantSourceNode.connect(inputChannelMergerNode, 0, numberOfInputChannels + index);\n                            constantSourceNode.start(0);\n                        }\n\n                        inputChannelMergerNode.connect(partialOfflineAudioContext.destination);\n\n                        await Promise.all(\n                            gainNodes.map((gainNode) => renderInputsOfAudioNode(proxy, partialOfflineAudioContext, gainNode))\n                        );\n\n                        return renderNativeOfflineAudioContext(partialOfflineAudioContext);\n                    };\n\n                    processedBufferPromise = processBuffer(\n                        proxy,\n                        numberOfChannels === 0 ? null : await renderBuffer(),\n                        nativeOfflineAudioContext,\n                        options,\n                        outputChannelCount,\n                        processorConstructor,\n                        exposeCurrentFrameAndCurrentTime\n                    );\n                }\n\n                const processedBuffer = await processedBufferPromise;\n                const audioBufferSourceNode = createNativeAudioBufferSourceNode(nativeOfflineAudioContext, {\n                    buffer: null,\n                    channelCount: 2,\n                    channelCountMode: 'max',\n                    channelInterpretation: 'speakers',\n                    loop: false,\n                    loopEnd: 0,\n                    loopStart: 0,\n                    playbackRate: 1\n                });\n                const [outputChannelSplitterNode, outputChannelMergerNodes, outputGainNode] = nativeOutputNodes;\n\n                if (processedBuffer !== null) {\n                    audioBufferSourceNode.buffer = processedBuffer;\n                    audioBufferSourceNode.start(0);\n                }\n\n                audioBufferSourceNode.connect(outputChannelSplitterNode);\n\n                for (let i = 0, outputChannelSplitterNodeOutput = 0; i < proxy.numberOfOutputs; i += 1) {\n                    const outputChannelMergerNode = outputChannelMergerNodes[i];\n\n                    for (let j = 0; j < outputChannelCount[i]; j += 1) {\n                        outputChannelSplitterNode.connect(outputChannelMergerNode, outputChannelSplitterNodeOutput + j, j);\n                    }\n\n                    outputChannelSplitterNodeOutput += outputChannelCount[i];\n                }\n\n                return outputGainNode;\n            }\n\n            if (!nativeAudioWorkletNodeIsOwnedByContext) {\n                for (const [nm, audioParam] of proxy.parameters.entries()) {\n                    await renderAutomation(\n                        nativeOfflineAudioContext,\n                        audioParam,\n                        // @todo The definition that TypeScript uses of the AudioParamMap is lacking many methods.\n                        <TNativeAudioParam>(<IReadOnlyMap<string, TNativeAudioParam>>nativeAudioWorkletNode.parameters).get(nm)\n                    );\n                }\n            } else {\n                for (const [nm, audioParam] of proxy.parameters.entries()) {\n                    await connectAudioParam(\n                        nativeOfflineAudioContext,\n                        audioParam,\n                        // @todo The definition that TypeScript uses of the AudioParamMap is lacking many methods.\n                        <TNativeAudioParam>(<IReadOnlyMap<string, TNativeAudioParam>>nativeAudioWorkletNode.parameters).get(nm)\n                    );\n                }\n            }\n\n            await renderInputsOfAudioNode(proxy, nativeOfflineAudioContext, nativeAudioWorkletNode);\n\n            return nativeAudioWorkletNode;\n        };\n\n        return {\n            render(\n                proxy: IAudioWorkletNode<T>,\n                nativeOfflineAudioContext: TNativeOfflineAudioContext\n            ): Promise<TNativeAudioWorkletNode | TNativeGainNode> {\n                deleteUnrenderedAudioWorkletNode(nativeOfflineAudioContext, proxy);\n\n                const renderedNativeAudioWorkletNodeOrGainNode = renderedNativeAudioNodes.get(nativeOfflineAudioContext);\n\n                if (renderedNativeAudioWorkletNodeOrGainNode !== undefined) {\n                    return Promise.resolve(renderedNativeAudioWorkletNodeOrGainNode);\n                }\n\n                return createAudioNode(proxy, nativeOfflineAudioContext);\n            }\n        };\n    };\n};\n", "import {\n    IAnalyserNode,\n    IAudioBuffer,\n    IAudioBufferSourceNode,\n    IAudioNode,\n    IAudioWorklet,\n    IBaseAudioContext,\n    IBiquadFilterNode,\n    IConstantSourceNode,\n    IConvolverNode,\n    IDelayNode,\n    IDynamicsCompressorNode,\n    IGainNode,\n    IIIRFilterNode,\n    IOscillatorNode,\n    IPannerNode,\n    IPeriodicWave,\n    IPeriodicWaveConstraints,\n    IStereoPannerNode,\n    IWaveShaperNode,\n    IWorkletOptions\n} from '../interfaces';\nimport { TBaseAudioContextConstructorFactory, TContext, TDecodeErrorCallback, TDecodeSuccessCallback, TNativeContext } from '../types';\n\nexport const createBaseAudioContextConstructor: TBaseAudioContextConstructorFactory = (\n    addAudioWorkletModule,\n    analyserNodeConstructor,\n    audioBufferConstructor,\n    audioBufferSourceNodeConstructor,\n    biquadFilterNodeConstructor,\n    channelMergerNodeConstructor,\n    channelSplitterNodeConstructor,\n    constantSourceNodeConstructor,\n    convolverNodeConstructor,\n    decodeAudioData,\n    delayNodeConstructor,\n    dynamicsCompressorNodeConstructor,\n    gainNodeConstructor,\n    iIRFilterNodeConstructor,\n    minimalBaseAudioContextConstructor,\n    oscillatorNodeConstructor,\n    pannerNodeConstructor,\n    periodicWaveConstructor,\n    stereoPannerNodeConstructor,\n    waveShaperNodeConstructor\n) => {\n    return class BaseAudioContext<T extends TContext> extends minimalBaseAudioContextConstructor<T> implements IBaseAudioContext<T> {\n        private _audioWorklet: undefined | IAudioWorklet;\n\n        constructor(private _nativeContext: TNativeContext, numberOfChannels: number) {\n            super(_nativeContext, numberOfChannels);\n\n            this._audioWorklet =\n                addAudioWorkletModule === undefined\n                    ? undefined\n                    : {\n                          addModule: (moduleURL: string, options?: IWorkletOptions) => {\n                              return addAudioWorkletModule(<T>(<unknown>this), moduleURL, options);\n                          }\n                      };\n        }\n\n        get audioWorklet(): undefined | IAudioWorklet {\n            return this._audioWorklet;\n        }\n\n        public createAnalyser(): IAnalyserNode<T> {\n            return new analyserNodeConstructor(<T>(<unknown>this));\n        }\n\n        public createBiquadFilter(): IBiquadFilterNode<T> {\n            return new biquadFilterNodeConstructor(<T>(<unknown>this));\n        }\n\n        public createBuffer(numberOfChannels: number, length: number, sampleRate: number): IAudioBuffer {\n            return new audioBufferConstructor({ length, numberOfChannels, sampleRate });\n        }\n\n        public createBufferSource(): IAudioBufferSourceNode<T> {\n            return new audioBufferSourceNodeConstructor(<T>(<unknown>this));\n        }\n\n        public createChannelMerger(numberOfInputs = 6): IAudioNode<T> {\n            return new channelMergerNodeConstructor(<T>(<unknown>this), { numberOfInputs });\n        }\n\n        public createChannelSplitter(numberOfOutputs = 6): IAudioNode<T> {\n            return new channelSplitterNodeConstructor(<T>(<unknown>this), { numberOfOutputs });\n        }\n\n        public createConstantSource(): IConstantSourceNode<T> {\n            return new constantSourceNodeConstructor(<T>(<unknown>this));\n        }\n\n        public createConvolver(): IConvolverNode<T> {\n            return new convolverNodeConstructor(<T>(<unknown>this));\n        }\n\n        public createDelay(maxDelayTime = 1): IDelayNode<T> {\n            return new delayNodeConstructor(<T>(<unknown>this), { maxDelayTime });\n        }\n\n        public createDynamicsCompressor(): IDynamicsCompressorNode<T> {\n            return new dynamicsCompressorNodeConstructor(<T>(<unknown>this));\n        }\n\n        public createGain(): IGainNode<T> {\n            return new gainNodeConstructor(<T>(<unknown>this));\n        }\n\n        public createIIRFilter(feedforward: Iterable<number>, feedback: Iterable<number>): IIIRFilterNode<T> {\n            return new iIRFilterNodeConstructor(<T>(<unknown>this), { feedback, feedforward });\n        }\n\n        public createOscillator(): IOscillatorNode<T> {\n            return new oscillatorNodeConstructor(<T>(<unknown>this));\n        }\n\n        public createPanner(): IPannerNode<T> {\n            return new pannerNodeConstructor(<T>(<unknown>this));\n        }\n\n        public createPeriodicWave(\n            real: Iterable<number>,\n            imag: Iterable<number>,\n            constraints: Partial<IPeriodicWaveConstraints> = { disableNormalization: false }\n        ): IPeriodicWave {\n            return new periodicWaveConstructor(<T>(<unknown>this), { ...constraints, imag, real });\n        }\n\n        public createStereoPanner(): IStereoPannerNode<T> {\n            return new stereoPannerNodeConstructor(<T>(<unknown>this));\n        }\n\n        public createWaveShaper(): IWaveShaperNode<T> {\n            return new waveShaperNodeConstructor(<T>(<unknown>this));\n        }\n\n        public decodeAudioData(\n            audioData: ArrayBuffer,\n            successCallback?: TDecodeSuccessCallback,\n            errorCallback?: TDecodeErrorCallback\n        ): Promise<IAudioBuffer> {\n            return decodeAudioData(this._nativeContext, audioData).then(\n                (audioBuffer) => {\n                    if (typeof successCallback === 'function') {\n                        successCallback(audioBuffer);\n                    }\n\n                    return audioBuffer;\n                },\n                (err) => {\n                    if (typeof errorCallback === 'function') {\n                        errorCallback(err);\n                    }\n\n                    throw err;\n                }\n            );\n        }\n    };\n};\n", "import { MOST_NEGATIVE_SINGLE_FLOAT, MOST_POSITIVE_SINGLE_FLOAT } from '../constants';\nimport { IAudioParam, IBiquadFilterNode, IBiquadFilterOptions } from '../interfaces';\nimport { TAudioNodeRenderer, TBiquadFilterNodeConstructorFactory, TBiquadFilterType, TContext, TNativeBiquadFilterNode } from '../types';\n\nconst DEFAULT_OPTIONS = {\n    Q: 1,\n    channelCount: 2,\n    channelCountMode: 'max',\n    channelInterpretation: 'speakers',\n    detune: 0,\n    frequency: 350,\n    gain: 0,\n    type: 'lowpass'\n} as const;\n\nexport const createBiquadFilterNodeConstructor: TBiquadFilterNodeConstructorFactory = (\n    audioNodeConstructor,\n    createAudioParam,\n    createBiquadFilterNodeRenderer,\n    createInvalidAccessError,\n    createNativeBiquadFilterNode,\n    getNativeContext,\n    isNativeOfflineAudioContext,\n    setAudioNodeTailTime\n) => {\n    return class BiquadFilterNode<T extends TContext> extends audioNodeConstructor<T> implements IBiquadFilterNode<T> {\n        private _detune: IAudioParam;\n\n        private _frequency: IAudioParam;\n\n        private _gain: IAudioParam;\n\n        private _nativeBiquadFilterNode: TNativeBiquadFilterNode;\n\n        private _Q: IAudioParam;\n\n        constructor(context: T, options?: Partial<IBiquadFilterOptions>) {\n            const nativeContext = getNativeContext(context);\n            const mergedOptions = { ...DEFAULT_OPTIONS, ...options };\n            const nativeBiquadFilterNode = createNativeBiquadFilterNode(nativeContext, mergedOptions);\n            const isOffline = isNativeOfflineAudioContext(nativeContext);\n            const biquadFilterNodeRenderer = <TAudioNodeRenderer<T, this>>(isOffline ? createBiquadFilterNodeRenderer() : null);\n\n            super(context, false, nativeBiquadFilterNode, biquadFilterNodeRenderer);\n\n            // Bug #80: Safari does not export the correct values for maxValue and minValue.\n            this._Q = createAudioParam(this, isOffline, nativeBiquadFilterNode.Q, MOST_POSITIVE_SINGLE_FLOAT, MOST_NEGATIVE_SINGLE_FLOAT);\n            // Bug #78: Firefox & Safari do not export the correct values for maxValue and minValue.\n            this._detune = createAudioParam(\n                this,\n                isOffline,\n                nativeBiquadFilterNode.detune,\n                1200 * Math.log2(MOST_POSITIVE_SINGLE_FLOAT),\n                -1200 * Math.log2(MOST_POSITIVE_SINGLE_FLOAT)\n            );\n            // Bug #77: Firefox & Safari do not export the correct value for minValue.\n            this._frequency = createAudioParam(this, isOffline, nativeBiquadFilterNode.frequency, context.sampleRate / 2, 0);\n            // Bug #79: Firefox & Safari do not export the correct values for maxValue and minValue.\n            this._gain = createAudioParam(\n                this,\n                isOffline,\n                nativeBiquadFilterNode.gain,\n                40 * Math.log10(MOST_POSITIVE_SINGLE_FLOAT),\n                MOST_NEGATIVE_SINGLE_FLOAT\n            );\n            this._nativeBiquadFilterNode = nativeBiquadFilterNode;\n\n            // @todo Determine a meaningful tail-time instead of just using one second.\n            setAudioNodeTailTime(this, 1);\n        }\n\n        get detune(): IAudioParam {\n            return this._detune;\n        }\n\n        get frequency(): IAudioParam {\n            return this._frequency;\n        }\n\n        get gain(): IAudioParam {\n            return this._gain;\n        }\n\n        get Q(): IAudioParam {\n            return this._Q;\n        }\n\n        get type(): TBiquadFilterType {\n            return this._nativeBiquadFilterNode.type;\n        }\n\n        set type(value) {\n            this._nativeBiquadFilterNode.type = value;\n        }\n\n        public getFrequencyResponse(frequencyHz: Float32Array, magResponse: Float32Array, phaseResponse: Float32Array): void {\n            // Bug #189: Safari does throw an InvalidStateError.\n            try {\n                this._nativeBiquadFilterNode.getFrequencyResponse(frequencyHz, magResponse, phaseResponse);\n            } catch (err) {\n                if (err.code === 11) {\n                    throw createInvalidAccessError();\n                }\n\n                throw err;\n            }\n\n            // Bug #68: Safari does not throw an error if the parameters differ in their length.\n            if (frequencyHz.length !== magResponse.length || magResponse.length !== phaseResponse.length) {\n                throw createInvalidAccessError();\n            }\n        }\n    };\n};\n", "import { isOwnedByContext } from '../helpers/is-owned-by-context';\nimport { IBiquadFilterNode, IMinimalOfflineAudioContext, IOfflineAudioContext } from '../interfaces';\nimport { TBiquadFilterNodeRendererFactoryFactory, TNativeBiquadFilterNode, TNativeOfflineAudioContext } from '../types';\n\nexport const createBiquadFilterNodeRendererFactory: TBiquadFilterNodeRendererFactoryFactory = (\n    connectAudioParam,\n    createNativeBiquadFilterNode,\n    getNativeAudioNode,\n    renderAutomation,\n    renderInputsOfAudioNode\n) => {\n    return <T extends IMinimalOfflineAudioContext | IOfflineAudioContext>() => {\n        const renderedNativeBiquadFilterNodes = new WeakMap<TNativeOfflineAudioContext, TNativeBiquadFilterNode>();\n\n        const createBiquadFilterNode = async (proxy: IBiquadFilterNode<T>, nativeOfflineAudioContext: TNativeOfflineAudioContext) => {\n            let nativeBiquadFilterNode = getNativeAudioNode<T, TNativeBiquadFilterNode>(proxy);\n\n            /*\n             * If the initially used nativeBiquadFilterNode was not constructed on the same OfflineAudioContext it needs to be created\n             * again.\n             */\n            const nativeBiquadFilterNodeIsOwnedByContext = isOwnedByContext(nativeBiquadFilterNode, nativeOfflineAudioContext);\n\n            if (!nativeBiquadFilterNodeIsOwnedByContext) {\n                const options = {\n                    Q: nativeBiquadFilterNode.Q.value,\n                    channelCount: nativeBiquadFilterNode.channelCount,\n                    channelCountMode: nativeBiquadFilterNode.channelCountMode,\n                    channelInterpretation: nativeBiquadFilterNode.channelInterpretation,\n                    detune: nativeBiquadFilterNode.detune.value,\n                    frequency: nativeBiquadFilterNode.frequency.value,\n                    gain: nativeBiquadFilterNode.gain.value,\n                    type: nativeBiquadFilterNode.type\n                };\n\n                nativeBiquadFilterNode = createNativeBiquadFilterNode(nativeOfflineAudioContext, options);\n            }\n\n            renderedNativeBiquadFilterNodes.set(nativeOfflineAudioContext, nativeBiquadFilterNode);\n\n            if (!nativeBiquadFilterNodeIsOwnedByContext) {\n                await renderAutomation(nativeOfflineAudioContext, proxy.Q, nativeBiquadFilterNode.Q);\n                await renderAutomation(nativeOfflineAudioContext, proxy.detune, nativeBiquadFilterNode.detune);\n                await renderAutomation(nativeOfflineAudioContext, proxy.frequency, nativeBiquadFilterNode.frequency);\n                await renderAutomation(nativeOfflineAudioContext, proxy.gain, nativeBiquadFilterNode.gain);\n            } else {\n                await connectAudioParam(nativeOfflineAudioContext, proxy.Q, nativeBiquadFilterNode.Q);\n                await connectAudioParam(nativeOfflineAudioContext, proxy.detune, nativeBiquadFilterNode.detune);\n                await connectAudioParam(nativeOfflineAudioContext, proxy.frequency, nativeBiquadFilterNode.frequency);\n                await connectAudioParam(nativeOfflineAudioContext, proxy.gain, nativeBiquadFilterNode.gain);\n            }\n\n            await renderInputsOfAudioNode(proxy, nativeOfflineAudioContext, nativeBiquadFilterNode);\n\n            return nativeBiquadFilterNode;\n        };\n\n        return {\n            render(proxy: IBiquadFilterNode<T>, nativeOfflineAudioContext: TNativeOfflineAudioContext): Promise<TNativeBiquadFilterNode> {\n                const renderedNativeBiquadFilterNode = renderedNativeBiquadFilterNodes.get(nativeOfflineAudioContext);\n\n                if (renderedNativeBiquadFilterNode !== undefined) {\n                    return Promise.resolve(renderedNativeBiquadFilterNode);\n                }\n\n                return createBiquadFilterNode(proxy, nativeOfflineAudioContext);\n            }\n        };\n    };\n};\n", "import { TCacheTestResultFactory } from '../types';\n\nexport const createCacheTestResult: TCacheTestResultFactory = (ongoingTests, testResults) => {\n    return (tester, test) => {\n        const cachedTestResult = testResults.get(tester);\n\n        if (cachedTestResult !== undefined) {\n            return cachedTestResult;\n        }\n\n        const ongoingTest = ongoingTests.get(tester);\n\n        if (ongoingTest !== undefined) {\n            return ongoingTest;\n        }\n\n        try {\n            const synchronousTestResult = test();\n\n            if (synchronousTestResult instanceof Promise) {\n                ongoingTests.set(tester, synchronousTestResult);\n\n                return synchronousTestResult\n                    .catch(() => false)\n                    .then((finalTestResult) => {\n                        ongoingTests.delete(tester);\n                        testResults.set(tester, finalTestResult);\n\n                        return finalTestResult;\n                    });\n            }\n\n            testResults.set(tester, synchronousTestResult);\n\n            return synchronousTestResult;\n        } catch {\n            testResults.set(tester, false);\n\n            return false;\n        }\n    };\n};\n", "import { IChannelMergerOptions } from '../interfaces';\nimport { TAudioNodeRenderer, TChannelMergerNodeConstructorFactory, TContext } from '../types';\n\nconst DEFAULT_OPTIONS = {\n    channelCount: 1,\n    channelCountMode: 'explicit',\n    channelInterpretation: 'speakers',\n    numberOfInputs: 6\n} as const;\n\nexport const createChannelMergerNodeConstructor: TChannelMergerNodeConstructorFactory = (\n    audioNodeConstructor,\n    createChannelMergerNodeRenderer,\n    createNativeChannelMergerNode,\n    getNativeContext,\n    isNativeOfflineAudioContext\n) => {\n    return class ChannelMergerNode<T extends TContext> extends audioNodeConstructor<T> {\n        constructor(context: T, options?: Partial<IChannelMergerOptions>) {\n            const nativeContext = getNativeContext(context);\n            const mergedOptions = { ...DEFAULT_OPTIONS, ...options };\n            const nativeChannelMergerNode = createNativeChannelMergerNode(nativeContext, mergedOptions);\n            const channelMergerNodeRenderer = <TAudioNodeRenderer<T, this>>(\n                (isNativeOfflineAudioContext(nativeContext) ? createChannelMergerNodeRenderer() : null)\n            );\n\n            super(context, false, nativeChannelMergerNode, channelMergerNodeRenderer);\n        }\n    };\n};\n", "import { isOwnedByContext } from '../helpers/is-owned-by-context';\nimport { IAudioNode, IMinimalOfflineAudioContext, IOfflineAudioContext } from '../interfaces';\nimport { TChannelMergerNodeRendererFactoryFactory, TNativeAudioNode, TNativeOfflineAudioContext } from '../types';\n\nexport const createChannelMergerNodeRendererFactory: TChannelMergerNodeRendererFactoryFactory = (\n    createNativeChannelMergerNode,\n    getNativeAudioNode,\n    renderInputsOfAudioNode\n) => {\n    return <T extends IMinimalOfflineAudioContext | IOfflineAudioContext>() => {\n        const renderedNativeAudioNodes = new WeakMap<TNativeOfflineAudioContext, TNativeAudioNode>();\n\n        const createAudioNode = async (proxy: IAudioNode<T>, nativeOfflineAudioContext: TNativeOfflineAudioContext) => {\n            let nativeAudioNode = getNativeAudioNode<T, TNativeAudioNode>(proxy);\n\n            // If the initially used nativeAudioNode was not constructed on the same OfflineAudioContext it needs to be created again.\n            const nativeAudioNodeIsOwnedByContext = isOwnedByContext(nativeAudioNode, nativeOfflineAudioContext);\n\n            if (!nativeAudioNodeIsOwnedByContext) {\n                const options = {\n                    channelCount: nativeAudioNode.channelCount,\n                    channelCountMode: nativeAudioNode.channelCountMode,\n                    channelInterpretation: nativeAudioNode.channelInterpretation,\n                    numberOfInputs: nativeAudioNode.numberOfInputs\n                };\n\n                nativeAudioNode = createNativeChannelMergerNode(nativeOfflineAudioContext, options);\n            }\n\n            renderedNativeAudioNodes.set(nativeOfflineAudioContext, nativeAudioNode);\n\n            await renderInputsOfAudioNode(proxy, nativeOfflineAudioContext, nativeAudioNode);\n\n            return nativeAudioNode;\n        };\n\n        return {\n            render(proxy: IAudioNode<T>, nativeOfflineAudioContext: TNativeOfflineAudioContext): Promise<TNativeAudioNode> {\n                const renderedNativeAudioNode = renderedNativeAudioNodes.get(nativeOfflineAudioContext);\n\n                if (renderedNativeAudioNode !== undefined) {\n                    return Promise.resolve(renderedNativeAudioNode);\n                }\n\n                return createAudioNode(proxy, nativeOfflineAudioContext);\n            }\n        };\n    };\n};\n", "import { IChannelSplitterOptions } from '../interfaces';\nimport { TAudioNodeRenderer, TChannelSplitterNodeConstructorFactory, TContext } from '../types';\n\nconst DEFAULT_OPTIONS = {\n    channelCount: 6,\n    channelCountMode: 'explicit',\n    channelInterpretation: 'discrete',\n    numberOfOutputs: 6\n} as const;\n\nexport const createChannelSplitterNodeConstructor: TChannelSplitterNodeConstructorFactory = (\n    audioNodeConstructor,\n    createChannelSplitterNodeRenderer,\n    createNativeChannelSplitterNode,\n    getNativeContext,\n    isNativeOfflineAudioContext,\n    sanitizeChannelSplitterOptions\n) => {\n    return class ChannelSplitterNode<T extends TContext> extends audioNodeConstructor<T> {\n        constructor(context: T, options?: Partial<IChannelSplitterOptions>) {\n            const nativeContext = getNativeContext(context);\n            const mergedOptions = sanitizeChannelSplitterOptions({ ...DEFAULT_OPTIONS, ...options });\n            const nativeChannelSplitterNode = createNativeChannelSplitterNode(nativeContext, mergedOptions);\n            const channelSplitterNodeRenderer = <TAudioNodeRenderer<T, this>>(\n                (isNativeOfflineAudioContext(nativeContext) ? createChannelSplitterNodeRenderer() : null)\n            );\n\n            super(context, false, nativeChannelSplitterNode, channelSplitterNodeRenderer);\n        }\n    };\n};\n", "import { isOwnedByContext } from '../helpers/is-owned-by-context';\nimport { IAudioNode, IMinimalOfflineAudioContext, IOfflineAudioContext } from '../interfaces';\nimport { TChannelSplitterNodeRendererFactoryFactory, TNativeAudioNode, TNativeOfflineAudioContext } from '../types';\n\nexport const createChannelSplitterNodeRendererFactory: TChannelSplitterNodeRendererFactoryFactory = (\n    createNativeChannelSplitterNode,\n    getNativeAudioNode,\n    renderInputsOfAudioNode\n) => {\n    return <T extends IMinimalOfflineAudioContext | IOfflineAudioContext>() => {\n        const renderedNativeAudioNodes = new WeakMap<TNativeOfflineAudioContext, TNativeAudioNode>();\n\n        const createAudioNode = async (proxy: IAudioNode<T>, nativeOfflineAudioContext: TNativeOfflineAudioContext) => {\n            let nativeAudioNode = getNativeAudioNode<T, TNativeAudioNode>(proxy);\n\n            // If the initially used nativeAudioNode was not constructed on the same OfflineAudioContext it needs to be created again.\n            const nativeAudioNodeIsOwnedByContext = isOwnedByContext(nativeAudioNode, nativeOfflineAudioContext);\n\n            if (!nativeAudioNodeIsOwnedByContext) {\n                const options = {\n                    channelCount: nativeAudioNode.channelCount,\n                    channelCountMode: nativeAudioNode.channelCountMode,\n                    channelInterpretation: nativeAudioNode.channelInterpretation,\n                    numberOfOutputs: nativeAudioNode.numberOfOutputs\n                };\n\n                nativeAudioNode = createNativeChannelSplitterNode(nativeOfflineAudioContext, options);\n            }\n\n            renderedNativeAudioNodes.set(nativeOfflineAudioContext, nativeAudioNode);\n\n            await renderInputsOfAudioNode(proxy, nativeOfflineAudioContext, nativeAudioNode);\n\n            return nativeAudioNode;\n        };\n\n        return {\n            render(proxy: IAudioNode<T>, nativeOfflineAudioContext: TNativeOfflineAudioContext): Promise<TNativeAudioNode> {\n                const renderedNativeAudioNode = renderedNativeAudioNodes.get(nativeOfflineAudioContext);\n\n                if (renderedNativeAudioNode !== undefined) {\n                    return Promise.resolve(renderedNativeAudioNode);\n                }\n\n                return createAudioNode(proxy, nativeOfflineAudioContext);\n            }\n        };\n    };\n};\n", "import { TConnectAudioParamFactory } from '../types';\n\nexport const createConnectAudioParam: TConnectAudioParamFactory = (renderInputsOfAudioParam) => {\n    return (nativeOfflineAudioContext, audioParam, nativeAudioParam) => {\n        return renderInputsOfAudioParam(audioParam, nativeOfflineAudioContext, nativeAudioParam);\n    };\n};\n", "import { isNativeAudioNode } from '../guards/native-audio-node';\nimport { TConnectMultipleOutputsFactory } from '../types';\n\nexport const createConnectMultipleOutputs: TConnectMultipleOutputsFactory = (createIndexSizeError) => {\n    return (outputAudioNodes, destination, output = 0, input = 0) => {\n        const outputAudioNode = outputAudioNodes[output];\n\n        if (outputAudioNode === undefined) {\n            throw createIndexSizeError();\n        }\n\n        if (isNativeAudioNode(destination)) {\n            return outputAudioNode.connect(destination, 0, input);\n        }\n\n        return outputAudioNode.connect(destination, 0);\n    };\n};\n", "import { TConnectedNativeAudioBufferSourceNodeFactoryFactory } from '../types';\n\nexport const createConnectedNativeAudioBufferSourceNodeFactory: TConnectedNativeAudioBufferSourceNodeFactoryFactory = (\n    createNativeAudioBufferSourceNode\n) => {\n    return (nativeContext, nativeAudioNode) => {\n        const nativeAudioBufferSourceNode = createNativeAudioBufferSourceNode(nativeContext, {\n            buffer: null,\n            channelCount: 2,\n            channelCountMode: 'max',\n            channelInterpretation: 'speakers',\n            loop: false,\n            loopEnd: 0,\n            loopStart: 0,\n            playbackRate: 1\n        });\n        const nativeAudioBuffer = nativeContext.createBuffer(1, 2, 44100);\n\n        nativeAudioBufferSourceNode.buffer = nativeAudioBuffer;\n        nativeAudioBufferSourceNode.loop = true;\n\n        nativeAudioBufferSourceNode.connect(nativeAudioNode);\n        nativeAudioBufferSourceNode.start();\n\n        return () => {\n            nativeAudioBufferSourceNode.stop();\n            nativeAudioBufferSourceNode.disconnect(nativeAudioNode);\n        };\n    };\n};\n", "import { MOST_NEGATIVE_SINGLE_FLOAT, MOST_POSITIVE_SINGLE_FLOAT } from '../constants';\nimport { isActiveAudioNode } from '../helpers/is-active-audio-node';\nimport { setInternalStateToActive } from '../helpers/set-internal-state-to-active';\nimport { setInternalStateToPassive } from '../helpers/set-internal-state-to-passive';\nimport { IAudioParam, IAudioScheduledSourceNodeEventMap, IConstantSourceNode, IConstantSourceOptions } from '../interfaces';\nimport {\n    TConstantSourceNodeConstructorFactory,\n    TConstantSourceNodeRenderer,\n    TContext,\n    TEventHandler,\n    TNativeConstantSourceNode\n} from '../types';\n\nconst DEFAULT_OPTIONS = {\n    channelCount: 2,\n    channelCountMode: 'max',\n    channelInterpretation: 'speakers',\n    offset: 1\n} as const;\n\nexport const createConstantSourceNodeConstructor: TConstantSourceNodeConstructorFactory = (\n    audioNodeConstructor,\n    createAudioParam,\n    createConstantSourceNodeRendererFactory,\n    createNativeConstantSourceNode,\n    getNativeContext,\n    isNativeOfflineAudioContext,\n    wrapEventListener\n) => {\n    return class ConstantSourceNode<T extends TContext>\n        extends audioNodeConstructor<T, IAudioScheduledSourceNodeEventMap>\n        implements IConstantSourceNode<T>\n    {\n        private _constantSourceNodeRenderer: TConstantSourceNodeRenderer<T>;\n\n        private _nativeConstantSourceNode: TNativeConstantSourceNode;\n\n        private _offset: IAudioParam;\n\n        private _onended: null | TEventHandler<this>;\n\n        constructor(context: T, options?: Partial<IConstantSourceOptions>) {\n            const nativeContext = getNativeContext(context);\n            const mergedOptions = { ...DEFAULT_OPTIONS, ...options };\n            const nativeConstantSourceNode = createNativeConstantSourceNode(nativeContext, mergedOptions);\n            const isOffline = isNativeOfflineAudioContext(nativeContext);\n            const constantSourceNodeRenderer = <TConstantSourceNodeRenderer<T>>(\n                (isOffline ? createConstantSourceNodeRendererFactory() : null)\n            );\n\n            super(context, false, nativeConstantSourceNode, constantSourceNodeRenderer);\n\n            this._constantSourceNodeRenderer = constantSourceNodeRenderer;\n            this._nativeConstantSourceNode = nativeConstantSourceNode;\n            /*\n             * Bug #62 & #74: Safari does not support ConstantSourceNodes and does not export the correct values for maxValue and minValue\n             * for GainNodes.\n             */\n            this._offset = createAudioParam(\n                this,\n                isOffline,\n                nativeConstantSourceNode.offset,\n                MOST_POSITIVE_SINGLE_FLOAT,\n                MOST_NEGATIVE_SINGLE_FLOAT\n            );\n            this._onended = null;\n        }\n\n        get offset(): IAudioParam {\n            return this._offset;\n        }\n\n        get onended(): null | TEventHandler<this> {\n            return this._onended;\n        }\n\n        set onended(value) {\n            const wrappedListener = typeof value === 'function' ? wrapEventListener(this, value) : null;\n\n            this._nativeConstantSourceNode.onended = wrappedListener;\n\n            const nativeOnEnded = this._nativeConstantSourceNode.onended;\n\n            this._onended = nativeOnEnded !== null && nativeOnEnded === wrappedListener ? value : nativeOnEnded;\n        }\n\n        public start(when = 0): void {\n            this._nativeConstantSourceNode.start(when);\n\n            if (this._constantSourceNodeRenderer !== null) {\n                this._constantSourceNodeRenderer.start = when;\n            }\n\n            if (this.context.state !== 'closed') {\n                setInternalStateToActive(this);\n\n                const resetInternalStateToPassive = () => {\n                    this._nativeConstantSourceNode.removeEventListener('ended', resetInternalStateToPassive);\n\n                    if (isActiveAudioNode(this)) {\n                        setInternalStateToPassive(this);\n                    }\n                };\n\n                this._nativeConstantSourceNode.addEventListener('ended', resetInternalStateToPassive);\n            }\n        }\n\n        public stop(when = 0): void {\n            this._nativeConstantSourceNode.stop(when);\n\n            if (this._constantSourceNodeRenderer !== null) {\n                this._constantSourceNodeRenderer.stop = when;\n            }\n        }\n    };\n};\n", "import { isOwnedByContext } from '../helpers/is-owned-by-context';\nimport { IConstantSourceNode, IMinimalOfflineAudioContext, IOfflineAudioContext } from '../interfaces';\nimport { TConstantSourceNodeRendererFactoryFactory, TNativeConstantSourceNode, TNativeOfflineAudioContext } from '../types';\n\nexport const createConstantSourceNodeRendererFactory: TConstantSourceNodeRendererFactoryFactory = (\n    connectAudioParam,\n    createNativeConstantSourceNode,\n    getNativeAudioNode,\n    renderAutomation,\n    renderInputsOfAudioNode\n) => {\n    return <T extends IMinimalOfflineAudioContext | IOfflineAudioContext>() => {\n        const renderedNativeConstantSourceNodes = new WeakMap<TNativeOfflineAudioContext, TNativeConstantSourceNode>();\n\n        let start: null | number = null;\n        let stop: null | number = null;\n\n        const createConstantSourceNode = async (proxy: IConstantSourceNode<T>, nativeOfflineAudioContext: TNativeOfflineAudioContext) => {\n            let nativeConstantSourceNode = getNativeAudioNode<T, TNativeConstantSourceNode>(proxy);\n\n            /*\n             * If the initially used nativeConstantSourceNode was not constructed on the same OfflineAudioContext it needs to be created\n             * again.\n             */\n            const nativeConstantSourceNodeIsOwnedByContext = isOwnedByContext(nativeConstantSourceNode, nativeOfflineAudioContext);\n\n            if (!nativeConstantSourceNodeIsOwnedByContext) {\n                const options = {\n                    channelCount: nativeConstantSourceNode.channelCount,\n                    channelCountMode: nativeConstantSourceNode.channelCountMode,\n                    channelInterpretation: nativeConstantSourceNode.channelInterpretation,\n                    offset: nativeConstantSourceNode.offset.value\n                };\n\n                nativeConstantSourceNode = createNativeConstantSourceNode(nativeOfflineAudioContext, options);\n\n                if (start !== null) {\n                    nativeConstantSourceNode.start(start);\n                }\n\n                if (stop !== null) {\n                    nativeConstantSourceNode.stop(stop);\n                }\n            }\n\n            renderedNativeConstantSourceNodes.set(nativeOfflineAudioContext, nativeConstantSourceNode);\n\n            if (!nativeConstantSourceNodeIsOwnedByContext) {\n                await renderAutomation(nativeOfflineAudioContext, proxy.offset, nativeConstantSourceNode.offset);\n            } else {\n                await connectAudioParam(nativeOfflineAudioContext, proxy.offset, nativeConstantSourceNode.offset);\n            }\n\n            await renderInputsOfAudioNode(proxy, nativeOfflineAudioContext, nativeConstantSourceNode);\n\n            return nativeConstantSourceNode;\n        };\n\n        return {\n            set start(value: number) {\n                start = value;\n            },\n            set stop(value: number) {\n                stop = value;\n            },\n            render(\n                proxy: IConstantSourceNode<T>,\n                nativeOfflineAudioContext: TNativeOfflineAudioContext\n            ): Promise<TNativeConstantSourceNode> {\n                const renderedNativeConstantSourceNode = renderedNativeConstantSourceNodes.get(nativeOfflineAudioContext);\n\n                if (renderedNativeConstantSourceNode !== undefined) {\n                    return Promise.resolve(renderedNativeConstantSourceNode);\n                }\n\n                return createConstantSourceNode(proxy, nativeOfflineAudioContext);\n            }\n        };\n    };\n};\n", "import { TConvertNumberToUnsignedLongFactory } from '../types';\n\nexport const createConvertNumberToUnsignedLong: TConvertNumberToUnsignedLongFactory = (unit32Array) => {\n    return (value) => {\n        unit32Array[0] = value;\n\n        return unit32Array[0];\n    };\n};\n", "import { IConvolverNode, IConvolverOptions } from '../interfaces';\nimport { TAnyAudioBuffer, TAudioNodeRenderer, TContext, TConvolverNodeConstructorFactory, TNativeConvolverNode } from '../types';\n\nconst DEFAULT_OPTIONS = {\n    buffer: null,\n    channelCount: 2,\n    channelCountMode: 'clamped-max',\n    channelInterpretation: 'speakers',\n    disableNormalization: false\n} as const;\n\nexport const createConvolverNodeConstructor: TConvolverNodeConstructorFactory = (\n    audioNodeConstructor,\n    createConvolverNodeRenderer,\n    createNativeConvolverNode,\n    getNativeContext,\n    isNativeOfflineAudioContext,\n    setAudioNodeTailTime\n) => {\n    return class ConvolverNode<T extends TContext> extends audioNodeConstructor<T> implements IConvolverNode<T> {\n        private _isBufferNullified: boolean;\n\n        private _nativeConvolverNode: TNativeConvolverNode;\n\n        constructor(context: T, options?: Partial<IConvolverOptions>) {\n            const nativeContext = getNativeContext(context);\n            const mergedOptions = { ...DEFAULT_OPTIONS, ...options };\n            const nativeConvolverNode = createNativeConvolverNode(nativeContext, mergedOptions);\n            const isOffline = isNativeOfflineAudioContext(nativeContext);\n            const convolverNodeRenderer = <TAudioNodeRenderer<T, this>>(isOffline ? createConvolverNodeRenderer() : null);\n\n            super(context, false, nativeConvolverNode, convolverNodeRenderer);\n\n            this._isBufferNullified = false;\n            this._nativeConvolverNode = nativeConvolverNode;\n\n            if (mergedOptions.buffer !== null) {\n                setAudioNodeTailTime(this, mergedOptions.buffer.duration);\n            }\n        }\n\n        get buffer(): null | TAnyAudioBuffer {\n            if (this._isBufferNullified) {\n                return null;\n            }\n\n            return this._nativeConvolverNode.buffer;\n        }\n\n        set buffer(value) {\n            this._nativeConvolverNode.buffer = value;\n\n            // Bug #115: Safari does not allow to set the buffer to null.\n            if (value === null && this._nativeConvolverNode.buffer !== null) {\n                const nativeContext = this._nativeConvolverNode.context;\n\n                this._nativeConvolverNode.buffer = nativeContext.createBuffer(1, 1, nativeContext.sampleRate);\n                this._isBufferNullified = true;\n\n                setAudioNodeTailTime(this, 0);\n            } else {\n                this._isBufferNullified = false;\n\n                setAudioNodeTailTime(this, this._nativeConvolverNode.buffer === null ? 0 : this._nativeConvolverNode.buffer.duration);\n            }\n        }\n\n        get normalize(): boolean {\n            return this._nativeConvolverNode.normalize;\n        }\n\n        set normalize(value) {\n            this._nativeConvolverNode.normalize = value;\n        }\n    };\n};\n", "import { isNativeAudioNodeFaker } from '../guards/native-audio-node-faker';\nimport { isOwnedByContext } from '../helpers/is-owned-by-context';\nimport { IConvolverNode, IMinimalOfflineAudioContext, IOfflineAudioContext } from '../interfaces';\nimport { TConvolverNodeRendererFactoryFactory, TNativeConvolverNode, TNativeOfflineAudioContext } from '../types';\n\nexport const createConvolverNodeRendererFactory: TConvolverNodeRendererFactoryFactory = (\n    createNativeConvolverNode,\n    getNativeAudioNode,\n    renderInputsOfAudioNode\n) => {\n    return <T extends IMinimalOfflineAudioContext | IOfflineAudioContext>() => {\n        const renderedNativeConvolverNodes = new WeakMap<TNativeOfflineAudioContext, TNativeConvolverNode>();\n\n        const createConvolverNode = async (proxy: IConvolverNode<T>, nativeOfflineAudioContext: TNativeOfflineAudioContext) => {\n            let nativeConvolverNode = getNativeAudioNode<T, TNativeConvolverNode>(proxy);\n\n            // If the initially used nativeConvolverNode was not constructed on the same OfflineAudioContext it needs to be created again.\n            const nativeConvolverNodeIsOwnedByContext = isOwnedByContext(nativeConvolverNode, nativeOfflineAudioContext);\n\n            if (!nativeConvolverNodeIsOwnedByContext) {\n                const options = {\n                    buffer: nativeConvolverNode.buffer,\n                    channelCount: nativeConvolverNode.channelCount,\n                    channelCountMode: nativeConvolverNode.channelCountMode,\n                    channelInterpretation: nativeConvolverNode.channelInterpretation,\n                    disableNormalization: !nativeConvolverNode.normalize\n                };\n\n                nativeConvolverNode = createNativeConvolverNode(nativeOfflineAudioContext, options);\n            }\n\n            renderedNativeConvolverNodes.set(nativeOfflineAudioContext, nativeConvolverNode);\n\n            if (isNativeAudioNodeFaker(nativeConvolverNode)) {\n                await renderInputsOfAudioNode(proxy, nativeOfflineAudioContext, nativeConvolverNode.inputs[0]);\n            } else {\n                await renderInputsOfAudioNode(proxy, nativeOfflineAudioContext, nativeConvolverNode);\n            }\n\n            return nativeConvolverNode;\n        };\n\n        return {\n            render(proxy: IConvolverNode<T>, nativeOfflineAudioContext: TNativeOfflineAudioContext): Promise<TNativeConvolverNode> {\n                const renderedNativeConvolverNode = renderedNativeConvolverNodes.get(nativeOfflineAudioContext);\n\n                if (renderedNativeConvolverNode !== undefined) {\n                    return Promise.resolve(renderedNativeConvolverNode);\n                }\n\n                return createConvolverNode(proxy, nativeOfflineAudioContext);\n            }\n        };\n    };\n};\n", "import { TCreateNativeOfflineAudioContextFactory } from '../types';\n\nexport const createCreateNativeOfflineAudioContext: TCreateNativeOfflineAudioContextFactory = (\n    createNotSupportedError,\n    nativeOfflineAudioContextConstructor\n) => {\n    return (numberOfChannels, length, sampleRate) => {\n        if (nativeOfflineAudioContextConstructor === null) {\n            throw new Error('Missing the native OfflineAudioContext constructor.');\n        }\n\n        try {\n            return new nativeOfflineAudioContextConstructor(numberOfChannels, length, sampleRate);\n        } catch (err) {\n            // Bug #143, #144 & #146: Safari throws a SyntaxError when numberOfChannels, length or sampleRate are invalid.\n            if (err.name === 'SyntaxError') {\n                throw createNotSupportedError();\n            }\n\n            throw err;\n        }\n    };\n};\n", "import { TDataCloneErrorFactory } from '../types';\n\nexport const createDataCloneError: TDataCloneErrorFactory = () => new DOMException('', 'DataCloneError');\n", "export const detachArrayBuffer = (arrayBuffer: ArrayBuffer): Promise<void> => {\n    const { port1, port2 } = new MessageChannel();\n\n    return new Promise((resolve) => {\n        const closeAndResolve = () => {\n            port2.onmessage = null;\n\n            port1.close();\n            port2.close();\n\n            resolve();\n        };\n\n        port2.onmessage = () => closeAndResolve();\n\n        try {\n            port1.postMessage(arrayBuffer, [arrayBuffer]);\n        } catch {\n            // Ignore errors.\n        } finally {\n            closeAndResolve();\n        }\n    });\n};\n", "import { detachArrayBuffer } from '../helpers/detach-array-buffer';\nimport { wrapAudioBufferGetChannelDataMethod } from '../helpers/wrap-audio-buffer-get-channel-data-method';\nimport { TDecodeAudioDataFactory } from '../types';\n\nexport const createDecodeAudioData: TDecodeAudioDataFactory = (\n    audioBufferStore,\n    cacheTestResult,\n    createDataCloneError,\n    createEncodingError,\n    detachedArrayBuffers,\n    getNativeContext,\n    isNativeContext,\n    testAudioBufferCopyChannelMethodsOutOfBoundsSupport,\n    testPromiseSupport,\n    wrapAudioBufferCopyChannelMethods,\n    wrapAudioBufferCopyChannelMethodsOutOfBounds\n) => {\n    return (anyContext, audioData) => {\n        const nativeContext = isNativeContext(anyContext) ? anyContext : getNativeContext(anyContext);\n\n        // Bug #43: Only Chrome and Edge do throw a DataCloneError.\n        if (detachedArrayBuffers.has(audioData)) {\n            const err = createDataCloneError();\n\n            return Promise.reject(err);\n        }\n\n        // The audioData parameter maybe of a type which can't be added to a WeakSet.\n        try {\n            detachedArrayBuffers.add(audioData);\n        } catch {\n            // Ignore errors.\n        }\n\n        // Bug #21: Safari does not support promises yet.\n        if (cacheTestResult(testPromiseSupport, () => testPromiseSupport(nativeContext))) {\n            return nativeContext.decodeAudioData(audioData).then((audioBuffer) => {\n                // Bug #133: Safari does neuter the ArrayBuffer.\n                detachArrayBuffer(audioData).catch(() => {\n                    // Ignore errors.\n                });\n\n                // Bug #157: Firefox does not allow the bufferOffset to be out-of-bounds.\n                if (\n                    !cacheTestResult(testAudioBufferCopyChannelMethodsOutOfBoundsSupport, () =>\n                        testAudioBufferCopyChannelMethodsOutOfBoundsSupport(audioBuffer)\n                    )\n                ) {\n                    wrapAudioBufferCopyChannelMethodsOutOfBounds(audioBuffer);\n                }\n\n                audioBufferStore.add(audioBuffer);\n\n                return audioBuffer;\n            });\n        }\n\n        // Bug #21: Safari does not return a Promise yet.\n        return new Promise((resolve, reject) => {\n            const complete = async () => {\n                // Bug #133: Safari does neuter the ArrayBuffer.\n                try {\n                    await detachArrayBuffer(audioData);\n                } catch {\n                    // Ignore errors.\n                }\n            };\n\n            const fail = (err: DOMException | Error) => {\n                reject(err);\n                complete();\n            };\n\n            // Bug #26: Safari throws a synchronous error.\n            try {\n                // Bug #1: Safari requires a successCallback.\n                nativeContext.decodeAudioData(\n                    audioData,\n                    (audioBuffer) => {\n                        // Bug #5: Safari does not support copyFromChannel() and copyToChannel().\n                        // Bug #100: Safari does throw a wrong error when calling getChannelData() with an out-of-bounds value.\n                        if (typeof audioBuffer.copyFromChannel !== 'function') {\n                            wrapAudioBufferCopyChannelMethods(audioBuffer);\n                            wrapAudioBufferGetChannelDataMethod(audioBuffer);\n                        }\n\n                        audioBufferStore.add(audioBuffer);\n\n                        complete().then(() => resolve(audioBuffer));\n                    },\n                    (err: DOMException | Error) => {\n                        // Bug #4: Safari returns null instead of an error.\n                        if (err === null) {\n                            fail(createEncodingError());\n                        } else {\n                            fail(err);\n                        }\n                    }\n                );\n            } catch (err) {\n                fail(err);\n            }\n        });\n    };\n};\n", "import { isAudioNodeOutputConnection } from '../guards/audio-node-output-connection';\nimport { TDecrementCycleCounterFactory } from '../types';\n\nexport const createDecrementCycleCounter: TDecrementCycleCounterFactory = (\n    connectNativeAudioNodeToNativeAudioNode,\n    cycleCounters,\n    getAudioNodeConnections,\n    getNativeAudioNode,\n    getNativeAudioParam,\n    getNativeContext,\n    isActiveAudioNode,\n    isNativeOfflineAudioContext\n) => {\n    return (audioNode, count) => {\n        const cycleCounter = cycleCounters.get(audioNode);\n\n        if (cycleCounter === undefined) {\n            throw new Error('Missing the expected cycle count.');\n        }\n\n        const nativeContext = getNativeContext(audioNode.context);\n        const isOffline = isNativeOfflineAudioContext(nativeContext);\n\n        if (cycleCounter === count) {\n            cycleCounters.delete(audioNode);\n\n            if (!isOffline && isActiveAudioNode(audioNode)) {\n                const nativeSourceAudioNode = getNativeAudioNode(audioNode);\n                const { outputs } = getAudioNodeConnections(audioNode);\n\n                for (const output of outputs) {\n                    if (isAudioNodeOutputConnection(output)) {\n                        const nativeDestinationAudioNode = getNativeAudioNode(output[0]);\n\n                        connectNativeAudioNodeToNativeAudioNode(nativeSourceAudioNode, nativeDestinationAudioNode, output[1], output[2]);\n                    } else {\n                        const nativeDestinationAudioParam = getNativeAudioParam(output[0]);\n\n                        nativeSourceAudioNode.connect(nativeDestinationAudioParam, output[1]);\n                    }\n                }\n            }\n        } else {\n            cycleCounters.set(audioNode, cycleCounter - count);\n        }\n    };\n};\n", "import { IAudioParam, IDelayNode, IDelayOptions } from '../interfaces';\nimport { TAudioNodeRenderer, TContext, TDelayNodeConstructorFactory } from '../types';\n\nconst DEFAULT_OPTIONS = {\n    channelCount: 2,\n    channelCountMode: 'max',\n    channelInterpretation: 'speakers',\n    delayTime: 0,\n    maxDelayTime: 1\n} as const;\n\nexport const createDelayNodeConstructor: TDelayNodeConstructorFactory = (\n    audioNodeConstructor,\n    createAudioParam,\n    createDelayNodeRenderer,\n    createNativeDelayNode,\n    getNativeContext,\n    isNativeOfflineAudioContext,\n    setAudioNodeTailTime\n) => {\n    return class DelayNode<T extends TContext> extends audioNodeConstructor<T> implements IDelayNode<T> {\n        private _delayTime: IAudioParam;\n\n        constructor(context: T, options?: Partial<IDelayOptions>) {\n            const nativeContext = getNativeContext(context);\n            const mergedOptions = { ...DEFAULT_OPTIONS, ...options };\n            const nativeDelayNode = createNativeDelayNode(nativeContext, mergedOptions);\n            const isOffline = isNativeOfflineAudioContext(nativeContext);\n            const delayNodeRenderer = <TAudioNodeRenderer<T, this>>(isOffline ? createDelayNodeRenderer(mergedOptions.maxDelayTime) : null);\n\n            super(context, false, nativeDelayNode, delayNodeRenderer);\n\n            this._delayTime = createAudioParam(this, isOffline, nativeDelayNode.delayTime);\n\n            setAudioNodeTailTime(this, mergedOptions.maxDelayTime);\n        }\n\n        get delayTime(): IAudioParam {\n            return this._delayTime;\n        }\n    };\n};\n", "import { isOwnedByContext } from '../helpers/is-owned-by-context';\nimport { IDelayNode, IMinimalOfflineAudioContext, IOfflineAudioContext } from '../interfaces';\nimport { TDelayNodeRendererFactoryFactory, TNativeDelayNode, TNativeOfflineAudioContext } from '../types';\n\nexport const createDelayNodeRendererFactory: TDelayNodeRendererFactoryFactory = (\n    connectAudioParam,\n    createNativeDelayNode,\n    getNativeAudioNode,\n    renderAutomation,\n    renderInputsOfAudioNode\n) => {\n    return <T extends IMinimalOfflineAudioContext | IOfflineAudioContext>(maxDelayTime: number) => {\n        const renderedNativeDelayNodes = new WeakMap<TNativeOfflineAudioContext, TNativeDelayNode>();\n\n        const createDelayNode = async (proxy: IDelayNode<T>, nativeOfflineAudioContext: TNativeOfflineAudioContext) => {\n            let nativeDelayNode = getNativeAudioNode<T, TNativeDelayNode>(proxy);\n\n            // If the initially used nativeDelayNode was not constructed on the same OfflineAudioContext it needs to be created again.\n            const nativeDelayNodeIsOwnedByContext = isOwnedByContext(nativeDelayNode, nativeOfflineAudioContext);\n\n            if (!nativeDelayNodeIsOwnedByContext) {\n                const options = {\n                    channelCount: nativeDelayNode.channelCount,\n                    channelCountMode: nativeDelayNode.channelCountMode,\n                    channelInterpretation: nativeDelayNode.channelInterpretation,\n                    delayTime: nativeDelayNode.delayTime.value,\n                    maxDelayTime\n                };\n\n                nativeDelayNode = createNativeDelayNode(nativeOfflineAudioContext, options);\n            }\n\n            renderedNativeDelayNodes.set(nativeOfflineAudioContext, nativeDelayNode);\n\n            if (!nativeDelayNodeIsOwnedByContext) {\n                await renderAutomation(nativeOfflineAudioContext, proxy.delayTime, nativeDelayNode.delayTime);\n            } else {\n                await connectAudioParam(nativeOfflineAudioContext, proxy.delayTime, nativeDelayNode.delayTime);\n            }\n\n            await renderInputsOfAudioNode(proxy, nativeOfflineAudioContext, nativeDelayNode);\n\n            return nativeDelayNode;\n        };\n\n        return {\n            render(proxy: IDelayNode<T>, nativeOfflineAudioContext: TNativeOfflineAudioContext): Promise<TNativeDelayNode> {\n                const renderedNativeDelayNode = renderedNativeDelayNodes.get(nativeOfflineAudioContext);\n\n                if (renderedNativeDelayNode !== undefined) {\n                    return Promise.resolve(renderedNativeDelayNode);\n                }\n\n                return createDelayNode(proxy, nativeOfflineAudioContext);\n            }\n        };\n    };\n};\n", "import { TDeleteActiveInputConnectionToAudioNodeFactory } from '../types';\n\nexport const createDeleteActiveInputConnectionToAudioNode: TDeleteActiveInputConnectionToAudioNodeFactory = (pickElementFromSet) => {\n    return (activeInputs, source, output, input) => {\n        return pickElementFromSet(\n            activeInputs[input],\n            (activeInputConnection) => activeInputConnection[0] === source && activeInputConnection[1] === output\n        );\n    };\n};\n", "import { TDeleteUnrenderedAudioWorkletNodeFactory } from '../types';\n\nexport const createDeleteUnrenderedAudioWorkletNode: TDeleteUnrenderedAudioWorkletNodeFactory = (getUnrenderedAudioWorkletNodes) => {\n    return (nativeContext, audioWorkletNode) => {\n        getUnrenderedAudioWorkletNodes(nativeContext).delete(audioWorkletNode);\n    };\n};\n", "import { IAudioNode, IDelayNode } from '../interfaces';\nimport { TContext } from '../types';\n\nexport const isDelayNode = <T extends TContext>(audioNode: IAudioNode<T>): audioNode is IDelayNode<T> => {\n    return 'delayTime' in audioNode;\n};\n", "import { isAudioNode } from '../guards/audio-node';\nimport { isDelayNode } from '../guards/delay-node';\nimport { IAudioNode, IAudioParam } from '../interfaces';\nimport { TContext, TDetectCyclesFactory } from '../types';\n\nexport const createDetectCycles: TDetectCyclesFactory = (audioParamAudioNodeStore, getAudioNodeConnections, getValueForKey) => {\n    return function detectCycles<T extends TContext>(chain: IAudioNode<T>[], nextLink: IAudioNode<T> | IAudioParam): IAudioNode<T>[][] {\n        const audioNode = isAudioNode(nextLink) ? nextLink : <IAudioNode<T>>getValueForKey(audioParamAudioNodeStore, nextLink);\n\n        if (isDelayNode(audioNode)) {\n            return [];\n        }\n\n        if (chain[0] === audioNode) {\n            return [chain];\n        }\n\n        if (chain.includes(audioNode)) {\n            return [];\n        }\n\n        const { outputs } = getAudioNodeConnections(audioNode);\n\n        return Array.from(outputs)\n            .map((outputConnection) => detectCycles([...chain, audioNode], outputConnection[0]))\n            .reduce((mergedCycles, nestedCycles) => mergedCycles.concat(nestedCycles), []);\n    };\n};\n", "import { isNativeAudioNode } from '../guards/native-audio-node';\nimport { TDisconnectMultipleOutputsFactory, TIndexSizeErrorFactory, TNativeAudioNode } from '../types';\n\nconst getOutputAudioNodeAtIndex = (\n    createIndexSizeError: TIndexSizeErrorFactory,\n    outputAudioNodes: TNativeAudioNode[],\n    output: number\n): TNativeAudioNode => {\n    const outputAudioNode = outputAudioNodes[output];\n\n    if (outputAudioNode === undefined) {\n        throw createIndexSizeError();\n    }\n\n    return outputAudioNode;\n};\n\nexport const createDisconnectMultipleOutputs: TDisconnectMultipleOutputsFactory = (createIndexSizeError) => {\n    return (outputAudioNodes, destinationOrOutput = undefined, output = undefined, input = 0) => {\n        if (destinationOrOutput === undefined) {\n            return outputAudioNodes.forEach((outputAudioNode) => outputAudioNode.disconnect());\n        }\n\n        if (typeof destinationOrOutput === 'number') {\n            return getOutputAudioNodeAtIndex(createIndexSizeError, outputAudioNodes, destinationOrOutput).disconnect();\n        }\n\n        if (isNativeAudioNode(destinationOrOutput)) {\n            if (output === undefined) {\n                return outputAudioNodes.forEach((outputAudioNode) => outputAudioNode.disconnect(destinationOrOutput));\n            }\n\n            if (input === undefined) {\n                return getOutputAudioNodeAtIndex(createIndexSizeError, outputAudioNodes, output).disconnect(destinationOrOutput, 0);\n            }\n\n            return getOutputAudioNodeAtIndex(createIndexSizeError, outputAudioNodes, output).disconnect(destinationOrOutput, 0, input);\n        }\n\n        if (output === undefined) {\n            return outputAudioNodes.forEach((outputAudioNode) => outputAudioNode.disconnect(destinationOrOutput));\n        }\n\n        return getOutputAudioNodeAtIndex(createIndexSizeError, outputAudioNodes, output).disconnect(destinationOrOutput, 0);\n    };\n};\n", "import { IAudioParam, IDynamicsCompressorNode, IDynamicsCompressorOptions } from '../interfaces';\nimport {\n    TAudioNodeRenderer,\n    TChannelCountMode,\n    TContext,\n    TDynamicsCompressorNodeConstructorFactory,\n    TNativeAudioParam,\n    TNativeDynamicsCompressorNode\n} from '../types';\n\nconst DEFAULT_OPTIONS = {\n    attack: 0.003,\n    channelCount: 2,\n    channelCountMode: 'clamped-max',\n    channelInterpretation: 'speakers',\n    knee: 30,\n    ratio: 12,\n    release: 0.25,\n    threshold: -24\n} as const;\n\nexport const createDynamicsCompressorNodeConstructor: TDynamicsCompressorNodeConstructorFactory = (\n    audioNodeConstructor,\n    createAudioParam,\n    createDynamicsCompressorNodeRenderer,\n    createNativeDynamicsCompressorNode,\n    createNotSupportedError,\n    getNativeContext,\n    isNativeOfflineAudioContext,\n    setAudioNodeTailTime\n) => {\n    return class DynamicsCompressorNode<T extends TContext> extends audioNodeConstructor<T> implements IDynamicsCompressorNode<T> {\n        private _attack: IAudioParam;\n\n        private _knee: IAudioParam;\n\n        private _nativeDynamicsCompressorNode: TNativeDynamicsCompressorNode;\n\n        private _ratio: IAudioParam;\n\n        private _release: IAudioParam;\n\n        private _threshold: IAudioParam;\n\n        constructor(context: T, options?: Partial<IDynamicsCompressorOptions>) {\n            const nativeContext = getNativeContext(context);\n            const mergedOptions = { ...DEFAULT_OPTIONS, ...options };\n            const nativeDynamicsCompressorNode = createNativeDynamicsCompressorNode(nativeContext, mergedOptions);\n            const isOffline = isNativeOfflineAudioContext(nativeContext);\n            const dynamicsCompressorNodeRenderer = <TAudioNodeRenderer<T, this>>(isOffline ? createDynamicsCompressorNodeRenderer() : null);\n\n            super(context, false, nativeDynamicsCompressorNode, dynamicsCompressorNodeRenderer);\n\n            this._attack = createAudioParam(this, isOffline, nativeDynamicsCompressorNode.attack);\n            this._knee = createAudioParam(this, isOffline, nativeDynamicsCompressorNode.knee);\n            this._nativeDynamicsCompressorNode = nativeDynamicsCompressorNode;\n            this._ratio = createAudioParam(this, isOffline, nativeDynamicsCompressorNode.ratio);\n            this._release = createAudioParam(this, isOffline, nativeDynamicsCompressorNode.release);\n            this._threshold = createAudioParam(this, isOffline, nativeDynamicsCompressorNode.threshold);\n\n            setAudioNodeTailTime(this, 0.006);\n        }\n\n        get attack(): IAudioParam {\n            return this._attack;\n        }\n\n        // Bug #108: Safari allows a channelCount of three and above which is why the getter and setter needs to be overwritten here.\n        get channelCount(): number {\n            return this._nativeDynamicsCompressorNode.channelCount;\n        }\n\n        set channelCount(value) {\n            const previousChannelCount = this._nativeDynamicsCompressorNode.channelCount;\n\n            this._nativeDynamicsCompressorNode.channelCount = value;\n\n            if (value > 2) {\n                this._nativeDynamicsCompressorNode.channelCount = previousChannelCount;\n\n                throw createNotSupportedError();\n            }\n        }\n\n        /*\n         * Bug #109: Only Chrome and Firefox disallow a channelCountMode of 'max' yet which is why the getter and setter needs to be\n         * overwritten here.\n         */\n        get channelCountMode(): TChannelCountMode {\n            return this._nativeDynamicsCompressorNode.channelCountMode;\n        }\n\n        set channelCountMode(value) {\n            const previousChannelCount = this._nativeDynamicsCompressorNode.channelCountMode;\n\n            this._nativeDynamicsCompressorNode.channelCountMode = value;\n\n            if (value === 'max') {\n                this._nativeDynamicsCompressorNode.channelCountMode = previousChannelCount;\n\n                throw createNotSupportedError();\n            }\n        }\n\n        get knee(): IAudioParam {\n            return this._knee;\n        }\n\n        get ratio(): IAudioParam {\n            return this._ratio;\n        }\n\n        get reduction(): number {\n            // Bug #111: Safari returns an AudioParam instead of a number.\n            if (typeof (<TNativeAudioParam>(<any>this._nativeDynamicsCompressorNode.reduction)).value === 'number') {\n                return (<TNativeAudioParam>(<any>this._nativeDynamicsCompressorNode.reduction)).value;\n            }\n\n            return this._nativeDynamicsCompressorNode.reduction;\n        }\n\n        get release(): IAudioParam {\n            return this._release;\n        }\n\n        get threshold(): IAudioParam {\n            return this._threshold;\n        }\n    };\n};\n", "import { isOwnedByContext } from '../helpers/is-owned-by-context';\nimport { IDynamicsCompressorNode, IMinimalOfflineAudioContext, IOfflineAudioContext } from '../interfaces';\nimport { TDynamicsCompressorNodeRendererFactoryFactory, TNativeDynamicsCompressorNode, TNativeOfflineAudioContext } from '../types';\n\nexport const createDynamicsCompressorNodeRendererFactory: TDynamicsCompressorNodeRendererFactoryFactory = (\n    connectAudioParam,\n    createNativeDynamicsCompressorNode,\n    getNativeAudioNode,\n    renderAutomation,\n    renderInputsOfAudioNode\n) => {\n    return <T extends IMinimalOfflineAudioContext | IOfflineAudioContext>() => {\n        const renderedNativeDynamicsCompressorNodes = new WeakMap<TNativeOfflineAudioContext, TNativeDynamicsCompressorNode>();\n\n        const createDynamicsCompressorNode = async (\n            proxy: IDynamicsCompressorNode<T>,\n            nativeOfflineAudioContext: TNativeOfflineAudioContext\n        ) => {\n            let nativeDynamicsCompressorNode = getNativeAudioNode<T, TNativeDynamicsCompressorNode>(proxy);\n\n            /*\n             * If the initially used nativeDynamicsCompressorNode was not constructed on the same OfflineAudioContext it needs to be\n             * created again.\n             */\n            const nativeDynamicsCompressorNodeIsOwnedByContext = isOwnedByContext(nativeDynamicsCompressorNode, nativeOfflineAudioContext);\n\n            if (!nativeDynamicsCompressorNodeIsOwnedByContext) {\n                const options = {\n                    attack: nativeDynamicsCompressorNode.attack.value,\n                    channelCount: nativeDynamicsCompressorNode.channelCount,\n                    channelCountMode: nativeDynamicsCompressorNode.channelCountMode,\n                    channelInterpretation: nativeDynamicsCompressorNode.channelInterpretation,\n                    knee: nativeDynamicsCompressorNode.knee.value,\n                    ratio: nativeDynamicsCompressorNode.ratio.value,\n                    release: nativeDynamicsCompressorNode.release.value,\n                    threshold: nativeDynamicsCompressorNode.threshold.value\n                };\n\n                nativeDynamicsCompressorNode = createNativeDynamicsCompressorNode(nativeOfflineAudioContext, options);\n            }\n\n            renderedNativeDynamicsCompressorNodes.set(nativeOfflineAudioContext, nativeDynamicsCompressorNode);\n\n            if (!nativeDynamicsCompressorNodeIsOwnedByContext) {\n                await renderAutomation(nativeOfflineAudioContext, proxy.attack, nativeDynamicsCompressorNode.attack);\n                await renderAutomation(nativeOfflineAudioContext, proxy.knee, nativeDynamicsCompressorNode.knee);\n                await renderAutomation(nativeOfflineAudioContext, proxy.ratio, nativeDynamicsCompressorNode.ratio);\n                await renderAutomation(nativeOfflineAudioContext, proxy.release, nativeDynamicsCompressorNode.release);\n                await renderAutomation(nativeOfflineAudioContext, proxy.threshold, nativeDynamicsCompressorNode.threshold);\n            } else {\n                await connectAudioParam(nativeOfflineAudioContext, proxy.attack, nativeDynamicsCompressorNode.attack);\n                await connectAudioParam(nativeOfflineAudioContext, proxy.knee, nativeDynamicsCompressorNode.knee);\n                await connectAudioParam(nativeOfflineAudioContext, proxy.ratio, nativeDynamicsCompressorNode.ratio);\n                await connectAudioParam(nativeOfflineAudioContext, proxy.release, nativeDynamicsCompressorNode.release);\n                await connectAudioParam(nativeOfflineAudioContext, proxy.threshold, nativeDynamicsCompressorNode.threshold);\n            }\n\n            await renderInputsOfAudioNode(proxy, nativeOfflineAudioContext, nativeDynamicsCompressorNode);\n\n            return nativeDynamicsCompressorNode;\n        };\n\n        return {\n            render(\n                proxy: IDynamicsCompressorNode<T>,\n                nativeOfflineAudioContext: TNativeOfflineAudioContext\n            ): Promise<TNativeDynamicsCompressorNode> {\n                const renderedNativeDynamicsCompressorNode = renderedNativeDynamicsCompressorNodes.get(nativeOfflineAudioContext);\n\n                if (renderedNativeDynamicsCompressorNode !== undefined) {\n                    return Promise.resolve(renderedNativeDynamicsCompressorNode);\n                }\n\n                return createDynamicsCompressorNode(proxy, nativeOfflineAudioContext);\n            }\n        };\n    };\n};\n", "import { TEncodingErrorFactory } from '../types';\n\nexport const createEncodingError: TEncodingErrorFactory = () => new DOMException('', 'EncodingError');\n", "import { TEvaluateSourceFactory } from '../types';\n\nexport const createEvaluateSource: TEvaluateSourceFactory = (window) => {\n    return (source) =>\n        new Promise((resolve, reject) => {\n            if (window === null) {\n                // Bug #182 Chrome and Edge do throw an instance of a SyntaxError instead of a DOMException.\n                reject(new SyntaxError());\n\n                return;\n            }\n\n            const head = window.document.head;\n\n            if (head === null) {\n                // Bug #182 Chrome and Edge do throw an instance of a SyntaxError instead of a DOMException.\n                reject(new SyntaxError());\n            } else {\n                const script = window.document.createElement('script');\n                // @todo Safari doesn't like URLs with a type of 'application/javascript; charset=utf-8'.\n                const blob = new Blob([source], { type: 'application/javascript' });\n                const url = URL.createObjectURL(blob);\n\n                const originalOnErrorHandler = window.onerror;\n\n                const removeErrorEventListenerAndRevokeUrl = () => {\n                    window.onerror = originalOnErrorHandler;\n\n                    URL.revokeObjectURL(url);\n                };\n\n                window.onerror = (message, src, lineno, colno, error) => {\n                    // @todo Edge thinks the source is the one of the html document.\n                    if (src === url || (src === window.location.href && lineno === 1 && colno === 1)) {\n                        removeErrorEventListenerAndRevokeUrl();\n                        reject(error);\n\n                        return false;\n                    }\n\n                    if (originalOnErrorHandler !== null) {\n                        return originalOnErrorHandler(message, src, lineno, colno, error);\n                    }\n                };\n\n                script.onerror = () => {\n                    removeErrorEventListenerAndRevokeUrl();\n                    // Bug #182 Chrome and Edge do throw an instance of a SyntaxError instead of a DOMException.\n                    reject(new SyntaxError());\n                };\n                script.onload = () => {\n                    removeErrorEventListenerAndRevokeUrl();\n                    resolve();\n                };\n                script.src = url;\n                script.type = 'module';\n\n                head.appendChild(script);\n            }\n        });\n};\n", "import { IEventTarget } from '../interfaces';\nimport { TEventHandler, TEventTargetConstructorFactory, TNativeEventTarget } from '../types';\n\nexport const createEventTargetConstructor: TEventTargetConstructorFactory = (wrapEventListener) => {\n    return class EventTarget<EventMap extends Record<string, Event>> implements IEventTarget<EventMap> {\n        private _listeners: WeakMap<EventListenerOrEventListenerObject, EventListenerOrEventListenerObject>;\n\n        constructor(private _nativeEventTarget: TNativeEventTarget) {\n            this._listeners = new WeakMap();\n        }\n\n        public addEventListener(\n            type: string,\n            listener: null | TEventHandler<this> | EventListenerOrEventListenerObject,\n            options?: boolean | AddEventListenerOptions\n        ): void {\n            if (listener !== null) {\n                let wrappedEventListener = this._listeners.get(listener);\n\n                if (wrappedEventListener === undefined) {\n                    wrappedEventListener = wrapEventListener(this, listener);\n\n                    if (typeof listener === 'function') {\n                        this._listeners.set(listener, wrappedEventListener);\n                    }\n                }\n\n                this._nativeEventTarget.addEventListener(type, wrappedEventListener, options);\n            }\n        }\n\n        public dispatchEvent(event: Event): boolean {\n            return this._nativeEventTarget.dispatchEvent(event);\n        }\n\n        public removeEventListener(\n            type: string,\n            listener: null | TEventHandler<this> | EventListenerOrEventListenerObject,\n            options?: boolean | EventListenerOptions\n        ): void {\n            const wrappedEventListener = listener === null ? undefined : this._listeners.get(listener);\n\n            this._nativeEventTarget.removeEventListener(type, wrappedEventListener === undefined ? null : wrappedEventListener, options);\n        }\n    };\n};\n", "import { TExposeCurrentFrameAndCurrentTimeFactory } from '../types';\n\nexport const createExposeCurrentFrameAndCurrentTime: TExposeCurrentFrameAndCurrentTimeFactory = (window) => {\n    return (currentTime, sampleRate, fn) => {\n        Object.defineProperties(window, {\n            currentFrame: {\n                configurable: true,\n                get(): number {\n                    return Math.round(currentTime * sampleRate);\n                }\n            },\n            currentTime: {\n                configurable: true,\n                get(): number {\n                    return currentTime;\n                }\n            }\n        });\n\n        try {\n            return fn();\n        } finally {\n            if (window !== null) {\n                delete (<any>window).currentFrame;\n                delete (<any>window).currentTime;\n            }\n        }\n    };\n};\n", "import { TFetchSourceFactory } from '../types';\n\nexport const createFetchSource: TFetchSourceFactory = (createAbortError) => {\n    return async (url) => {\n        try {\n            const response = await fetch(url);\n\n            if (response.ok) {\n                return [await response.text(), response.url];\n            }\n        } catch {\n            // Ignore errors.\n        } // tslint:disable-line:no-empty\n\n        throw createAbortError();\n    };\n};\n", "import { MOST_NEGATIVE_SINGLE_FLOAT, MOST_POSITIVE_SINGLE_FLOAT } from '../constants';\nimport { IAudioParam, IGainNode, IGainOptions } from '../interfaces';\nimport { TAudioNodeRenderer, TContext, TGainNodeConstructorFactory } from '../types';\n\nconst DEFAULT_OPTIONS = {\n    channelCount: 2,\n    channelCountMode: 'max',\n    channelInterpretation: 'speakers',\n    gain: 1\n} as const;\n\nexport const createGainNodeConstructor: TGainNodeConstructorFactory = (\n    audioNodeConstructor,\n    createAudioParam,\n    createGainNodeRenderer,\n    createNativeGainNode,\n    getNativeContext,\n    isNativeOfflineAudioContext\n) => {\n    return class GainNode<T extends TContext> extends audioNodeConstructor<T> implements IGainNode<T> {\n        private _gain: IAudioParam;\n\n        constructor(context: T, options?: Partial<IGainOptions>) {\n            const nativeContext = getNativeContext(context);\n            const mergedOptions = { ...DEFAULT_OPTIONS, ...options };\n            const nativeGainNode = createNativeGainNode(nativeContext, mergedOptions);\n            const isOffline = isNativeOfflineAudioContext(nativeContext);\n            const gainNodeRenderer = <TAudioNodeRenderer<T, this>>(isOffline ? createGainNodeRenderer() : null);\n\n            super(context, false, nativeGainNode, gainNodeRenderer);\n\n            // Bug #74: Safari does not export the correct values for maxValue and minValue.\n            this._gain = createAudioParam(this, isOffline, nativeGainNode.gain, MOST_POSITIVE_SINGLE_FLOAT, MOST_NEGATIVE_SINGLE_FLOAT);\n        }\n\n        get gain(): IAudioParam {\n            return this._gain;\n        }\n    };\n};\n", "import { isOwnedByContext } from '../helpers/is-owned-by-context';\nimport { IGainNode, IMinimalOfflineAudioContext, IOfflineAudioContext } from '../interfaces';\nimport { TGainNodeRendererFactoryFactory, TNativeGainNode, TNativeOfflineAudioContext } from '../types';\n\nexport const createGainNodeRendererFactory: TGainNodeRendererFactoryFactory = (\n    connectAudioParam,\n    createNativeGainNode,\n    getNativeAudioNode,\n    renderAutomation,\n    renderInputsOfAudioNode\n) => {\n    return <T extends IMinimalOfflineAudioContext | IOfflineAudioContext>() => {\n        const renderedNativeGainNodes = new WeakMap<TNativeOfflineAudioContext, TNativeGainNode>();\n\n        const createGainNode = async (proxy: IGainNode<T>, nativeOfflineAudioContext: TNativeOfflineAudioContext) => {\n            let nativeGainNode = getNativeAudioNode<T, TNativeGainNode>(proxy);\n\n            // If the initially used nativeGainNode was not constructed on the same OfflineAudioContext it needs to be created again.\n            const nativeGainNodeIsOwnedByContext = isOwnedByContext(nativeGainNode, nativeOfflineAudioContext);\n\n            if (!nativeGainNodeIsOwnedByContext) {\n                const options = {\n                    channelCount: nativeGainNode.channelCount,\n                    channelCountMode: nativeGainNode.channelCountMode,\n                    channelInterpretation: nativeGainNode.channelInterpretation,\n                    gain: nativeGainNode.gain.value\n                };\n\n                nativeGainNode = createNativeGainNode(nativeOfflineAudioContext, options);\n            }\n\n            renderedNativeGainNodes.set(nativeOfflineAudioContext, nativeGainNode);\n\n            if (!nativeGainNodeIsOwnedByContext) {\n                await renderAutomation(nativeOfflineAudioContext, proxy.gain, nativeGainNode.gain);\n            } else {\n                await connectAudioParam(nativeOfflineAudioContext, proxy.gain, nativeGainNode.gain);\n            }\n\n            await renderInputsOfAudioNode(proxy, nativeOfflineAudioContext, nativeGainNode);\n\n            return nativeGainNode;\n        };\n\n        return {\n            render(proxy: IGainNode<T>, nativeOfflineAudioContext: TNativeOfflineAudioContext): Promise<TNativeGainNode> {\n                const renderedNativeGainNode = renderedNativeGainNodes.get(nativeOfflineAudioContext);\n\n                if (renderedNativeGainNode !== undefined) {\n                    return Promise.resolve(renderedNativeGainNode);\n                }\n\n                return createGainNode(proxy, nativeOfflineAudioContext);\n            }\n        };\n    };\n};\n", "import { TActiveInputConnection, TContext, TGetActiveAudioWorkletNodeInputsFactory, TNativeAudioWorkletNode } from '../types';\n\nexport const createGetActiveAudioWorkletNodeInputs: TGetActiveAudioWorkletNodeInputsFactory = (\n    activeAudioWorkletNodeInputsStore,\n    getValueForKey\n) => {\n    return <T extends TContext>(nativeAudioWorkletNode: TNativeAudioWorkletNode) =>\n        <Set<TActiveInputConnection<T>>[]>getValueForKey(activeAudioWorkletNodeInputsStore, nativeAudioWorkletNode);\n};\n", "import { IAudioNode, IAudioNodeRenderer, IMinimalOfflineAudioContext, IOfflineAudioContext } from '../interfaces';\nimport { TGetAudioNodeRendererFactory } from '../types';\n\nexport const createGetAudioNodeRenderer: TGetAudioNodeRendererFactory = (getAudioNodeConnections) => {\n    return <T extends IMinimalOfflineAudioContext | IOfflineAudioContext>(\n        audioNode: IAudioNode<T>\n    ): IAudioNodeRenderer<T, IAudioNode<T>> => {\n        const audioNodeConnections = getAudioNodeConnections(audioNode);\n\n        if (audioNodeConnections.renderer === null) {\n            throw new Error('Missing the renderer of the given AudioNode in the audio graph.');\n        }\n\n        return <IAudioNodeRenderer<T, IAudioNode<T>>>audioNodeConnections.renderer;\n    };\n};\n", "import { TGetAudioNodeTailTimeFactory } from '../types';\n\nexport const createGetAudioNodeTailTime: TGetAudioNodeTailTimeFactory = (audioNodeTailTimeStore) => {\n    return (audioNode) => audioNodeTailTimeStore.get(audioNode) ?? 0;\n};\n", "import { IMinimalOfflineAudioContext } from '../interfaces';\nimport { TGetAudioParamRendererFactory } from '../types';\n\nexport const createGetAudioParamRenderer: TGetAudioParamRendererFactory = (getAudioParamConnections) => {\n    return (audioParam) => {\n        const audioParamConnections = getAudioParamConnections<IMinimalOfflineAudioContext>(audioParam);\n\n        if (audioParamConnections.renderer === null) {\n            throw new Error('Missing the renderer of the given AudioParam in the audio graph.');\n        }\n\n        return audioParamConnections.renderer;\n    };\n};\n", "import { TGetBackupOfflineAudioContextFactory } from '../types';\n\nexport const createGetBackupOfflineAudioContext: TGetBackupOfflineAudioContextFactory = (backupOfflineAudioContextStore) => {\n    return (nativeContext) => {\n        return backupOfflineAudioContextStore.get(nativeContext);\n    };\n};\n", "import { TInvalidStateErrorFactory } from '../types';\n\nexport const createInvalidStateError: TInvalidStateErrorFactory = () => new DOMException('', 'InvalidStateError');\n", "import { IMinimalOfflineAudioContext, IOfflineAudioContext } from '../interfaces';\nimport { TContext, TGetNativeContextFactory, TNativeAudioContext, TNativeOfflineAudioContext } from '../types';\nimport { createInvalidStateError } from './invalid-state-error';\n\nexport const createGetNativeContext: TGetNativeContextFactory = (contextStore) => {\n    return <T extends TContext>(\n        context: T\n    ): T extends IMinimalOfflineAudioContext | IOfflineAudioContext ? TNativeOfflineAudioContext : TNativeAudioContext => {\n        const nativeContext = contextStore.get(context);\n\n        if (nativeContext === undefined) {\n            throw createInvalidStateError();\n        }\n\n        return <T extends IMinimalOfflineAudioContext | IOfflineAudioContext ? TNativeOfflineAudioContext : TNativeAudioContext>(\n            nativeContext\n        );\n    };\n};\n", "import { TGetOrCreateBackupOfflineAudioContextFactory } from '../types';\n\nexport const createGetOrCreateBackupOfflineAudioContext: TGetOrCreateBackupOfflineAudioContextFactory = (\n    backupOfflineAudioContextStore,\n    nativeOfflineAudioContextConstructor\n) => {\n    return (nativeContext) => {\n        let backupOfflineAudioContext = backupOfflineAudioContextStore.get(nativeContext);\n\n        if (backupOfflineAudioContext !== undefined) {\n            return backupOfflineAudioContext;\n        }\n\n        if (nativeOfflineAudioContextConstructor === null) {\n            throw new Error('Missing the native OfflineAudioContext constructor.');\n        }\n\n        // Bug #141: Safari does not support creating an OfflineAudioContext with less than 44100 Hz.\n        backupOfflineAudioContext = new nativeOfflineAudioContextConstructor(1, 1, 44100);\n\n        backupOfflineAudioContextStore.set(nativeContext, backupOfflineAudioContext);\n\n        return backupOfflineAudioContext;\n    };\n};\n", "import { TGetUnrenderedAudioWorkletNodesFactory } from '../types';\n\nexport const createGetUnrenderedAudioWorkletNodes: TGetUnrenderedAudioWorkletNodesFactory = (unrenderedAudioWorkletNodeStore) => {\n    return (nativeContext) => {\n        const unrenderedAudioWorkletNodes = unrenderedAudioWorkletNodeStore.get(nativeContext);\n\n        if (unrenderedAudioWorkletNodes === undefined) {\n            throw new Error('The context has no set of AudioWorkletNodes.');\n        }\n\n        return unrenderedAudioWorkletNodes;\n    };\n};\n", "import { TInvalidAccessErrorFactory } from '../types';\n\nexport const createInvalidAccessError: TInvalidAccessErrorFactory = () => new DOMException('', 'InvalidAccessError');\n", "import { createInvalidAccessError } from '../factories/invalid-access-error';\nimport { TNativeIIRFilterNode } from '../types';\n\nexport const wrapIIRFilterNodeGetFrequencyResponseMethod = (nativeIIRFilterNode: TNativeIIRFilterNode): void => {\n    nativeIIRFilterNode.getFrequencyResponse = ((getFrequencyResponse) => {\n        return (frequencyHz: Float32Array, magResponse: Float32Array, phaseResponse: Float32Array) => {\n            if (frequencyHz.length !== magResponse.length || magResponse.length !== phaseResponse.length) {\n                throw createInvalidAccessError();\n            }\n\n            return getFrequencyResponse.call(nativeIIRFilterNode, frequencyHz, magResponse, phaseResponse);\n        };\n    })(nativeIIRFilterNode.getFrequencyResponse);\n};\n", "import { wrapIIRFilterNodeGetFrequencyResponseMethod } from '../helpers/wrap-iir-filter-node-get-frequency-response-method';\nimport { IIIRFilterNode, IIIRFilterOptions, IMinimalAudioContext } from '../interfaces';\nimport { TAudioNodeRenderer, TContext, TIIRFilterNodeConstructorFactory, TNativeIIRFilterNode } from '../types';\n\nconst DEFAULT_OPTIONS = {\n    channelCount: 2,\n    channelCountMode: 'max',\n    channelInterpretation: 'speakers'\n} as const;\n\nexport const createIIRFilterNodeConstructor: TIIRFilterNodeConstructorFactory = (\n    audioNodeConstructor,\n    createNativeIIRFilterNode,\n    createIIRFilterNodeRenderer,\n    getNativeContext,\n    isNativeOfflineAudioContext,\n    setAudioNodeTailTime\n) => {\n    return class IIRFilterNode<T extends TContext> extends audioNodeConstructor<T> implements IIIRFilterNode<T> {\n        private _nativeIIRFilterNode: TNativeIIRFilterNode;\n\n        constructor(\n            context: T,\n            options: { feedback: IIIRFilterOptions['feedback']; feedforward: IIIRFilterOptions['feedforward'] } & Partial<IIIRFilterOptions>\n        ) {\n            const nativeContext = getNativeContext(context);\n            const isOffline = isNativeOfflineAudioContext(nativeContext);\n            const mergedOptions = { ...DEFAULT_OPTIONS, ...options };\n            const nativeIIRFilterNode = createNativeIIRFilterNode(\n                nativeContext,\n                isOffline ? null : (<IMinimalAudioContext>(<any>context)).baseLatency,\n                mergedOptions\n            );\n            const iirFilterNodeRenderer = <TAudioNodeRenderer<T, this>>(\n                (isOffline ? createIIRFilterNodeRenderer(mergedOptions.feedback, mergedOptions.feedforward) : null)\n            );\n\n            super(context, false, nativeIIRFilterNode, iirFilterNodeRenderer);\n\n            // Bug #23 & #24: FirefoxDeveloper does not throw an InvalidAccessError.\n            // @todo Write a test which allows other browsers to remain unpatched.\n            wrapIIRFilterNodeGetFrequencyResponseMethod(nativeIIRFilterNode);\n\n            this._nativeIIRFilterNode = nativeIIRFilterNode;\n\n            // @todo Determine a meaningful tail-time instead of just using one second.\n            setAudioNodeTailTime(this, 1);\n        }\n\n        public getFrequencyResponse(frequencyHz: Float32Array, magResponse: Float32Array, phaseResponse: Float32Array): void {\n            return this._nativeIIRFilterNode.getFrequencyResponse(frequencyHz, magResponse, phaseResponse);\n        }\n    };\n};\n", "// This implementation as shamelessly inspired by source code of\n// tslint:disable-next-line:max-line-length\n// {@link https://chromium.googlesource.com/chromium/src.git/+/master/third_party/WebKit/Source/platform/audio/IIRFilter.cpp|Chromium's IIRFilter}.\nexport const filterBuffer = (\n    feedback: Float64Array,\n    feedbackLength: number,\n    feedforward: Float64Array,\n    feedforwardLength: number,\n    minLength: number,\n    xBuffer: Float32Array,\n    yBuffer: Float32Array,\n    bufferIndex: number,\n    bufferLength: number,\n    input: Float32Array,\n    output: Float32Array\n) => {\n    const inputLength = input.length;\n\n    let i = bufferIndex;\n\n    for (let j = 0; j < inputLength; j += 1) {\n        let y = feedforward[0] * input[j];\n\n        for (let k = 1; k < minLength; k += 1) {\n            const x = (i - k) & (bufferLength - 1); // tslint:disable-line:no-bitwise\n\n            y += feedforward[k] * xBuffer[x];\n            y -= feedback[k] * yBuffer[x];\n        }\n\n        for (let k = minLength; k < feedforwardLength; k += 1) {\n            y += feedforward[k] * xBuffer[(i - k) & (bufferLength - 1)]; // tslint:disable-line:no-bitwise\n        }\n\n        for (let k = minLength; k < feedbackLength; k += 1) {\n            y -= feedback[k] * yBuffer[(i - k) & (bufferLength - 1)]; // tslint:disable-line:no-bitwise\n        }\n\n        xBuffer[i] = input[j];\n        yBuffer[i] = y;\n\n        i = (i + 1) & (bufferLength - 1); // tslint:disable-line:no-bitwise\n\n        output[j] = y;\n    }\n\n    return i;\n};\n", "import { filterBuffer } from '../helpers/filter-buffer';\nimport { isOwnedByContext } from '../helpers/is-owned-by-context';\nimport { IIIRFilterNode, IMinimalOfflineAudioContext, IOfflineAudioContext } from '../interfaces';\nimport {\n    TIIRFilterNodeRendererFactoryFactory,\n    TNativeAudioBuffer,\n    TNativeAudioBufferSourceNode,\n    TNativeIIRFilterNode,\n    TNativeOfflineAudioContext\n} from '../types';\n\nconst filterFullBuffer = (\n    renderedBuffer: TNativeAudioBuffer,\n    nativeOfflineAudioContext: TNativeOfflineAudioContext,\n    feedback: Iterable<number>,\n    feedforward: Iterable<number>\n) => {\n    const convertedFeedback = feedback instanceof Float64Array ? feedback : new Float64Array(feedback);\n    const convertedFeedforward = feedforward instanceof Float64Array ? feedforward : new Float64Array(feedforward);\n    const feedbackLength = convertedFeedback.length;\n    const feedforwardLength = convertedFeedforward.length;\n    const minLength = Math.min(feedbackLength, feedforwardLength);\n\n    if (convertedFeedback[0] !== 1) {\n        for (let i = 0; i < feedbackLength; i += 1) {\n            convertedFeedforward[i] /= convertedFeedback[0];\n        }\n\n        for (let i = 1; i < feedforwardLength; i += 1) {\n            convertedFeedback[i] /= convertedFeedback[0];\n        }\n    }\n\n    const bufferLength = 32;\n    const xBuffer = new Float32Array(bufferLength);\n    const yBuffer = new Float32Array(bufferLength);\n\n    const filteredBuffer = nativeOfflineAudioContext.createBuffer(\n        renderedBuffer.numberOfChannels,\n        renderedBuffer.length,\n        renderedBuffer.sampleRate\n    );\n\n    const numberOfChannels = renderedBuffer.numberOfChannels;\n\n    for (let i = 0; i < numberOfChannels; i += 1) {\n        const input = renderedBuffer.getChannelData(i);\n        const output = filteredBuffer.getChannelData(i);\n\n        xBuffer.fill(0);\n        yBuffer.fill(0);\n\n        filterBuffer(\n            convertedFeedback,\n            feedbackLength,\n            convertedFeedforward,\n            feedforwardLength,\n            minLength,\n            xBuffer,\n            yBuffer,\n            0,\n            bufferLength,\n            input,\n            output\n        );\n    }\n\n    return filteredBuffer;\n};\n\nexport const createIIRFilterNodeRendererFactory: TIIRFilterNodeRendererFactoryFactory = (\n    createNativeAudioBufferSourceNode,\n    getNativeAudioNode,\n    nativeOfflineAudioContextConstructor,\n    renderInputsOfAudioNode,\n    renderNativeOfflineAudioContext\n) => {\n    return <T extends IMinimalOfflineAudioContext | IOfflineAudioContext>(feedback: Iterable<number>, feedforward: Iterable<number>) => {\n        const renderedNativeAudioNodes = new WeakMap<TNativeOfflineAudioContext, TNativeAudioBufferSourceNode | TNativeIIRFilterNode>();\n\n        let filteredBufferPromise: null | Promise<null | TNativeAudioBuffer> = null;\n\n        const createAudioNode = async (proxy: IIIRFilterNode<T>, nativeOfflineAudioContext: TNativeOfflineAudioContext) => {\n            let nativeAudioBufferSourceNode: null | TNativeAudioBufferSourceNode = null;\n            let nativeIIRFilterNode = getNativeAudioNode<T, TNativeIIRFilterNode>(proxy);\n\n            // If the initially used nativeIIRFilterNode was not constructed on the same OfflineAudioContext it needs to be created again.\n            const nativeIIRFilterNodeIsOwnedByContext = isOwnedByContext(nativeIIRFilterNode, nativeOfflineAudioContext);\n\n            // Bug #9: Safari does not support IIRFilterNodes.\n            if (nativeOfflineAudioContext.createIIRFilter === undefined) {\n                nativeAudioBufferSourceNode = createNativeAudioBufferSourceNode(nativeOfflineAudioContext, {\n                    buffer: null,\n                    channelCount: 2,\n                    channelCountMode: 'max',\n                    channelInterpretation: 'speakers',\n                    loop: false,\n                    loopEnd: 0,\n                    loopStart: 0,\n                    playbackRate: 1\n                });\n            } else if (!nativeIIRFilterNodeIsOwnedByContext) {\n                // @todo TypeScript defines the parameters of createIIRFilter() as arrays of numbers.\n                nativeIIRFilterNode = nativeOfflineAudioContext.createIIRFilter(<number[]>feedforward, <number[]>feedback);\n            }\n\n            renderedNativeAudioNodes.set(\n                nativeOfflineAudioContext,\n                nativeAudioBufferSourceNode === null ? nativeIIRFilterNode : nativeAudioBufferSourceNode\n            );\n\n            if (nativeAudioBufferSourceNode !== null) {\n                if (filteredBufferPromise === null) {\n                    if (nativeOfflineAudioContextConstructor === null) {\n                        throw new Error('Missing the native OfflineAudioContext constructor.');\n                    }\n\n                    const partialOfflineAudioContext = new nativeOfflineAudioContextConstructor(\n                        // Bug #47: The AudioDestinationNode in Safari gets not initialized correctly.\n                        proxy.context.destination.channelCount,\n                        // Bug #17: Safari does not yet expose the length.\n                        proxy.context.length,\n                        nativeOfflineAudioContext.sampleRate\n                    );\n\n                    filteredBufferPromise = (async () => {\n                        await renderInputsOfAudioNode(proxy, partialOfflineAudioContext, partialOfflineAudioContext.destination);\n\n                        const renderedBuffer = await renderNativeOfflineAudioContext(partialOfflineAudioContext);\n\n                        return filterFullBuffer(renderedBuffer, nativeOfflineAudioContext, feedback, feedforward);\n                    })();\n                }\n\n                const filteredBuffer = await filteredBufferPromise;\n\n                nativeAudioBufferSourceNode.buffer = filteredBuffer;\n                nativeAudioBufferSourceNode.start(0);\n\n                return nativeAudioBufferSourceNode;\n            }\n\n            await renderInputsOfAudioNode(proxy, nativeOfflineAudioContext, nativeIIRFilterNode);\n\n            return nativeIIRFilterNode;\n        };\n\n        return {\n            render(\n                proxy: IIIRFilterNode<T>,\n                nativeOfflineAudioContext: TNativeOfflineAudioContext\n            ): Promise<TNativeAudioBufferSourceNode | TNativeIIRFilterNode> {\n                const renderedNativeAudioNode = renderedNativeAudioNodes.get(nativeOfflineAudioContext);\n\n                if (renderedNativeAudioNode !== undefined) {\n                    return Promise.resolve(renderedNativeAudioNode);\n                }\n\n                return createAudioNode(proxy, nativeOfflineAudioContext);\n            }\n        };\n    };\n};\n", "import { isAudioNodeOutputConnection } from '../guards/audio-node-output-connection';\nimport { TIncrementCycleCounterFactoryFactory } from '../types';\n\nexport const createIncrementCycleCounterFactory: TIncrementCycleCounterFactoryFactory = (\n    cycleCounters,\n    disconnectNativeAudioNodeFromNativeAudioNode,\n    getAudioNodeConnections,\n    getNativeAudioNode,\n    getNativeAudioParam,\n    isActiveAudioNode\n) => {\n    return (isOffline) => {\n        return (audioNode, count) => {\n            const cycleCounter = cycleCounters.get(audioNode);\n\n            if (cycleCounter === undefined) {\n                if (!isOffline && isActiveAudioNode(audioNode)) {\n                    const nativeSourceAudioNode = getNativeAudioNode(audioNode);\n                    const { outputs } = getAudioNodeConnections(audioNode);\n\n                    for (const output of outputs) {\n                        if (isAudioNodeOutputConnection(output)) {\n                            const nativeDestinationAudioNode = getNativeAudioNode(output[0]);\n\n                            disconnectNativeAudioNodeFromNativeAudioNode(\n                                nativeSourceAudioNode,\n                                nativeDestinationAudioNode,\n                                output[1],\n                                output[2]\n                            );\n                        } else {\n                            const nativeDestinationAudioParam = getNativeAudioParam(output[0]);\n\n                            nativeSourceAudioNode.disconnect(nativeDestinationAudioParam, output[1]);\n                        }\n                    }\n                }\n\n                cycleCounters.set(audioNode, count);\n            } else {\n                cycleCounters.set(audioNode, cycleCounter + count);\n            }\n        };\n    };\n};\n", "import { IAudioContext, IMinimalAudioContext } from '../interfaces';\nimport { TIsAnyAudioContextFactory, TNativeAudioContext } from '../types';\n\nexport const createIsAnyAudioContext: TIsAnyAudioContextFactory = (contextStore, isNativeAudioContext) => {\n    return (anything): anything is IAudioContext | IMinimalAudioContext | TNativeAudioContext => {\n        const nativeContext = contextStore.get(<any>anything);\n\n        return isNativeAudioContext(nativeContext) || isNativeAudioContext(anything);\n    };\n};\n", "import { IAudioNode } from '../interfaces';\nimport { TIsAnyAudioNodeFactory, TNativeAudioNode } from '../types';\n\nexport const createIsAnyAudioNode: TIsAnyAudioNodeFactory = (audioNodeStore, isNativeAudioNode) => {\n    return (anything): anything is IAudioNode<any> | TNativeAudioNode => audioNodeStore.has(<any>anything) || isNativeAudioNode(anything);\n};\n", "import { IAudioParam } from '../interfaces';\nimport { TIsAnyAudioParamFactory, TNativeAudioParam } from '../types';\n\nexport const createIsAnyAudioParam: TIsAnyAudioParamFactory = (audioParamStore, isNativeAudioParam) => {\n    return (anything): anything is IAudioParam | TNativeAudioParam => audioParamStore.has(<any>anything) || isNativeAudioParam(anything);\n};\n", "import { IMinimalOfflineAudioContext, IOfflineAudioContext } from '../interfaces';\nimport { TIsAnyOfflineAudioContextFactory, TNativeOfflineAudioContext } from '../types';\n\nexport const createIsAnyOfflineAudioContext: TIsAnyOfflineAudioContextFactory = (contextStore, isNativeOfflineAudioContext) => {\n    return (anything): anything is IMinimalOfflineAudioContext | IOfflineAudioContext | TNativeOfflineAudioContext => {\n        const nativeContext = contextStore.get(<any>anything);\n\n        return isNativeOfflineAudioContext(nativeContext) || isNativeOfflineAudioContext(anything);\n    };\n};\n", "import { TIsNativeAudioContextFactory, TNativeAudioContext } from '../types';\n\nexport const createIsNativeAudioContext: TIsNativeAudioContextFactory = (nativeAudioContextConstructor) => {\n    return (anything): anything is TNativeAudioContext => {\n        return nativeAudioContextConstructor !== null && anything instanceof nativeAudioContextConstructor;\n    };\n};\n", "import { TIsNativeAudioNodeFactory, TNativeAudioNode } from '../types';\n\nexport const createIsNativeAudioNode: TIsNativeAudioNodeFactory = (window) => {\n    return (anything): anything is TNativeAudioNode => {\n        return window !== null && typeof window.AudioNode === 'function' && anything instanceof window.AudioNode;\n    };\n};\n", "import { TIsNativeAudioParamFactory, TNativeAudioParam } from '../types';\n\nexport const createIsNativeAudioParam: TIsNativeAudioParamFactory = (window) => {\n    return (anything): anything is TNativeAudioParam => {\n        return window !== null && typeof window.AudioParam === 'function' && anything instanceof window.AudioParam;\n    };\n};\n", "import { TIsNativeContextFactory, TNativeAudioContext } from '../types';\n\nexport const createIsNativeContext: TIsNativeContextFactory = (isNativeAudioContext, isNativeOfflineAudioContext) => {\n    return (anything): anything is TNativeAudioContext => {\n        return isNativeAudioContext(anything) || isNativeOfflineAudioContext(anything);\n    };\n};\n", "import { TIsNativeOfflineAudioContextFactory, TNativeOfflineAudioContext } from '../types';\n\nexport const createIsNativeOfflineAudioContext: TIsNativeOfflineAudioContextFactory = (nativeOfflineAudioContextConstructor) => {\n    return (anything): anything is TNativeOfflineAudioContext => {\n        return nativeOfflineAudioContextConstructor !== null && anything instanceof nativeOfflineAudioContextConstructor;\n    };\n};\n", "import { TIsSecureContextFactory } from '../types';\n\nexport const createIsSecureContext: TIsSecureContextFactory = (window) => window !== null && window.isSecureContext;\n", "import { TIsSupportedPromiseFactory } from '../types';\n\nexport const createIsSupportedPromise: TIsSupportedPromiseFactory = async (\n    cacheTestResult,\n    testAudioBufferCopyChannelMethodsSubarraySupport,\n    testAudioContextCloseMethodSupport,\n    testAudioContextDecodeAudioDataMethodTypeErrorSupport,\n    testAudioContextOptionsSupport,\n    testAudioNodeConnectMethodSupport,\n    testAudioWorkletProcessorNoOutputsSupport,\n    testChannelMergerNodeChannelCountSupport,\n    testConstantSourceNodeAccurateSchedulingSupport,\n    testConvolverNodeBufferReassignabilitySupport,\n    testConvolverNodeChannelCountSupport,\n    testDomExceptionContrucorSupport,\n    testIsSecureContextSupport,\n    testMediaStreamAudioSourceNodeMediaStreamWithoutAudioTrackSupport,\n    testStereoPannerNodeDefaultValueSupport,\n    testTransferablesSupport\n) => {\n    if (\n        cacheTestResult(testAudioBufferCopyChannelMethodsSubarraySupport, testAudioBufferCopyChannelMethodsSubarraySupport) &&\n        cacheTestResult(testAudioContextCloseMethodSupport, testAudioContextCloseMethodSupport) &&\n        cacheTestResult(testAudioContextOptionsSupport, testAudioContextOptionsSupport) &&\n        cacheTestResult(testAudioNodeConnectMethodSupport, testAudioNodeConnectMethodSupport) &&\n        cacheTestResult(testChannelMergerNodeChannelCountSupport, testChannelMergerNodeChannelCountSupport) &&\n        cacheTestResult(testConstantSourceNodeAccurateSchedulingSupport, testConstantSourceNodeAccurateSchedulingSupport) &&\n        cacheTestResult(testConvolverNodeBufferReassignabilitySupport, testConvolverNodeBufferReassignabilitySupport) &&\n        cacheTestResult(testConvolverNodeChannelCountSupport, testConvolverNodeChannelCountSupport) &&\n        cacheTestResult(testDomExceptionContrucorSupport, testDomExceptionContrucorSupport) &&\n        cacheTestResult(testIsSecureContextSupport, testIsSecureContextSupport) &&\n        cacheTestResult(\n            testMediaStreamAudioSourceNodeMediaStreamWithoutAudioTrackSupport,\n            testMediaStreamAudioSourceNodeMediaStreamWithoutAudioTrackSupport\n        )\n    ) {\n        const results = await Promise.all([\n            cacheTestResult(testAudioContextDecodeAudioDataMethodTypeErrorSupport, testAudioContextDecodeAudioDataMethodTypeErrorSupport),\n            cacheTestResult(testAudioWorkletProcessorNoOutputsSupport, testAudioWorkletProcessorNoOutputsSupport),\n            cacheTestResult(testStereoPannerNodeDefaultValueSupport, testStereoPannerNodeDefaultValueSupport),\n            cacheTestResult(testTransferablesSupport, testTransferablesSupport)\n        ]);\n\n        return results.every((result) => result);\n    }\n\n    return false;\n};\n", "import { IAudioContext, IMediaElementAudioSourceNode, IMediaElementAudioSourceOptions, IMinimalAudioContext } from '../interfaces';\nimport { TAudioNodeRenderer, TMediaElementAudioSourceNodeConstructorFactory, TNativeMediaElementAudioSourceNode } from '../types';\n\nexport const createMediaElementAudioSourceNodeConstructor: TMediaElementAudioSourceNodeConstructorFactory = (\n    audioNodeConstructor,\n    createNativeMediaElementAudioSourceNode,\n    getNativeContext,\n    isNativeOfflineAudioContext\n) => {\n    return class MediaElementAudioSourceNode<T extends IAudioContext | IMinimalAudioContext> extends audioNodeConstructor<T>\n        implements IMediaElementAudioSourceNode<T> {\n        private _nativeMediaElementAudioSourceNode: TNativeMediaElementAudioSourceNode;\n\n        constructor(context: T, options: IMediaElementAudioSourceOptions) {\n            const nativeContext = getNativeContext(context);\n            const nativeMediaElementAudioSourceNode = createNativeMediaElementAudioSourceNode(nativeContext, options);\n\n            // Bug #171: Safari allows to create a MediaElementAudioSourceNode with an OfflineAudioContext.\n            if (isNativeOfflineAudioContext(nativeContext)) {\n                throw TypeError();\n            }\n\n            super(context, true, nativeMediaElementAudioSourceNode, <TAudioNodeRenderer<T>>null);\n\n            this._nativeMediaElementAudioSourceNode = nativeMediaElementAudioSourceNode;\n        }\n\n        get mediaElement(): HTMLMediaElement {\n            return this._nativeMediaElementAudioSourceNode.mediaElement;\n        }\n    };\n};\n", "import { IAudioContext, IAudioNodeOptions, IMediaStreamAudioDestinationNode, IMinimalAudioContext } from '../interfaces';\nimport { TAudioNodeRenderer, TMediaStreamAudioDestinationNodeConstructorFactory, TNativeMediaStreamAudioDestinationNode } from '../types';\n\nconst DEFAULT_OPTIONS = {\n    channelCount: 2,\n    channelCountMode: 'explicit',\n    channelInterpretation: 'speakers'\n} as const;\n\nexport const createMediaStreamAudioDestinationNodeConstructor: TMediaStreamAudioDestinationNodeConstructorFactory = (\n    audioNodeConstructor,\n    createNativeMediaStreamAudioDestinationNode,\n    getNativeContext,\n    isNativeOfflineAudioContext\n) => {\n    return class MediaStreamAudioDestinationNode<T extends IAudioContext | IMinimalAudioContext> extends audioNodeConstructor<T>\n        implements IMediaStreamAudioDestinationNode<T> {\n        private _nativeMediaStreamAudioDestinationNode: TNativeMediaStreamAudioDestinationNode;\n\n        constructor(context: T, options?: Partial<IAudioNodeOptions>) {\n            const nativeContext = getNativeContext(context);\n\n            // Bug #173: Safari allows to create a MediaStreamAudioDestinationNode with an OfflineAudioContext.\n            if (isNativeOfflineAudioContext(nativeContext)) {\n                throw new TypeError();\n            }\n\n            const mergedOptions = { ...DEFAULT_OPTIONS, ...options };\n            const nativeMediaStreamAudioDestinationNode = createNativeMediaStreamAudioDestinationNode(nativeContext, mergedOptions);\n\n            super(context, false, nativeMediaStreamAudioDestinationNode, <TAudioNodeRenderer<T>>null);\n\n            this._nativeMediaStreamAudioDestinationNode = nativeMediaStreamAudioDestinationNode;\n        }\n\n        get stream(): MediaStream {\n            return this._nativeMediaStreamAudioDestinationNode.stream;\n        }\n    };\n};\n", "import { IAudioContext, IMediaStreamAudioSourceNode, IMediaStreamAudioSourceOptions, IMinimalAudioContext } from '../interfaces';\nimport { TAudioNodeRenderer, TMediaStreamAudioSourceNodeConstructorFactory, TNativeMediaStreamAudioSourceNode } from '../types';\n\nexport const createMediaStreamAudioSourceNodeConstructor: TMediaStreamAudioSourceNodeConstructorFactory = (\n    audioNodeConstructor,\n    createNativeMediaStreamAudioSourceNode,\n    getNativeContext,\n    isNativeOfflineAudioContext\n) => {\n    return class MediaStreamAudioSourceNode<T extends IAudioContext | IMinimalAudioContext> extends audioNodeConstructor<T>\n        implements IMediaStreamAudioSourceNode<T> {\n        private _nativeMediaStreamAudioSourceNode: TNativeMediaStreamAudioSourceNode;\n\n        constructor(context: T, options: IMediaStreamAudioSourceOptions) {\n            const nativeContext = getNativeContext(context);\n            const nativeMediaStreamAudioSourceNode = createNativeMediaStreamAudioSourceNode(nativeContext, options);\n\n            // Bug #172: Safari allows to create a MediaStreamAudioSourceNode with an OfflineAudioContext.\n            if (isNativeOfflineAudioContext(nativeContext)) {\n                throw new TypeError();\n            }\n\n            super(context, true, nativeMediaStreamAudioSourceNode, <TAudioNodeRenderer<T>>null);\n\n            this._nativeMediaStreamAudioSourceNode = nativeMediaStreamAudioSourceNode;\n        }\n\n        get mediaStream(): MediaStream {\n            return this._nativeMediaStreamAudioSourceNode.mediaStream;\n        }\n    };\n};\n", "import { IAudioContext, IMediaStreamTrackAudioSourceNode, IMediaStreamTrackAudioSourceOptions, IMinimalAudioContext } from '../interfaces';\nimport { TAudioNodeRenderer, TMediaStreamTrackAudioSourceNodeConstructorFactory } from '../types';\n\nexport const createMediaStreamTrackAudioSourceNodeConstructor: TMediaStreamTrackAudioSourceNodeConstructorFactory = (\n    audioNodeConstructor,\n    createNativeMediaStreamTrackAudioSourceNode,\n    getNativeContext\n) => {\n    return class MediaStreamTrackAudioSourceNode<T extends IAudioContext | IMinimalAudioContext> extends audioNodeConstructor<T>\n        implements IMediaStreamTrackAudioSourceNode<T> {\n        constructor(context: T, options: IMediaStreamTrackAudioSourceOptions) {\n            const nativeContext = getNativeContext(context);\n            const nativeMediaStreamTrackAudioSourceNode = createNativeMediaStreamTrackAudioSourceNode(nativeContext, options);\n\n            super(context, true, nativeMediaStreamTrackAudioSourceNode, <TAudioNodeRenderer<T>>null);\n        }\n    };\n};\n", "import { deactivateAudioGraph } from '../helpers/deactivate-audio-graph';\nimport { isValidLatencyHint } from '../helpers/is-valid-latency-hint';\nimport { IAudioContextOptions, IMinimalAudioContext } from '../interfaces';\nimport {\n    TAudioContextState,\n    TMinimalAudioContextConstructorFactory,\n    TNativeAudioContext,\n    TNativeGainNode,\n    TNativeOscillatorNode\n} from '../types';\n\nexport const createMinimalAudioContextConstructor: TMinimalAudioContextConstructorFactory = (\n    createInvalidStateError,\n    createNotSupportedError,\n    createUnknownError,\n    minimalBaseAudioContextConstructor,\n    nativeAudioContextConstructor\n) => {\n    return class MinimalAudioContext extends minimalBaseAudioContextConstructor<IMinimalAudioContext> implements IMinimalAudioContext {\n        private _baseLatency: number;\n\n        private _nativeAudioContext: TNativeAudioContext;\n\n        private _nativeGainNode: null | TNativeGainNode;\n\n        private _nativeOscillatorNode: null | TNativeOscillatorNode;\n\n        private _state: null | 'suspended';\n\n        constructor(options: IAudioContextOptions = {}) {\n            if (nativeAudioContextConstructor === null) {\n                throw new Error('Missing the native AudioContext constructor.');\n            }\n\n            let nativeAudioContext: TNativeAudioContext;\n\n            try {\n                nativeAudioContext = new nativeAudioContextConstructor(options);\n            } catch (err) {\n                // Bug #192 Safari does throw a SyntaxError if the sampleRate is not supported.\n                if (err.code === 12 && err.message === 'sampleRate is not in range') {\n                    throw createNotSupportedError();\n                }\n\n                throw err;\n            }\n\n            // Bug #131 Safari returns null when there are four other AudioContexts running already.\n            if (nativeAudioContext === null) {\n                throw createUnknownError();\n            }\n\n            // Bug #51 Only Chrome and Edge throw an error if the given latencyHint is invalid.\n            if (!isValidLatencyHint(options.latencyHint)) {\n                throw new TypeError(\n                    `The provided value '${options.latencyHint}' is not a valid enum value of type AudioContextLatencyCategory.`\n                );\n            }\n\n            // Bug #150 Safari does not support setting the sampleRate.\n            if (options.sampleRate !== undefined && nativeAudioContext.sampleRate !== options.sampleRate) {\n                throw createNotSupportedError();\n            }\n\n            super(nativeAudioContext, 2);\n\n            const { latencyHint } = options;\n            const { sampleRate } = nativeAudioContext;\n\n            // @todo The values for 'balanced', 'interactive' and 'playback' are just copied from Chrome's implementation.\n            this._baseLatency =\n                typeof nativeAudioContext.baseLatency === 'number'\n                    ? nativeAudioContext.baseLatency\n                    : latencyHint === 'balanced'\n                    ? 512 / sampleRate\n                    : latencyHint === 'interactive' || latencyHint === undefined\n                    ? 256 / sampleRate\n                    : latencyHint === 'playback'\n                    ? 1024 / sampleRate\n                    : /*\n                       * @todo The min (256) and max (16384) values are taken from the allowed bufferSize values of a\n                       * ScriptProcessorNode.\n                       */\n                      (Math.max(2, Math.min(128, Math.round((latencyHint * sampleRate) / 128))) * 128) / sampleRate;\n            this._nativeAudioContext = nativeAudioContext;\n\n            // Bug #188: Safari will set the context's state to 'interrupted' in case the user switches tabs.\n            if (nativeAudioContextConstructor.name === 'webkitAudioContext') {\n                this._nativeGainNode = nativeAudioContext.createGain();\n                this._nativeOscillatorNode = nativeAudioContext.createOscillator();\n\n                this._nativeGainNode.gain.value = 1e-37;\n\n                this._nativeOscillatorNode.connect(this._nativeGainNode).connect(nativeAudioContext.destination);\n                this._nativeOscillatorNode.start();\n            } else {\n                this._nativeGainNode = null;\n                this._nativeOscillatorNode = null;\n            }\n\n            this._state = null;\n\n            /*\n             * Bug #34: Chrome and Edge pretend to be running right away, but fire an onstatechange event when the state actually changes\n             * to 'running'.\n             */\n            if (nativeAudioContext.state === 'running') {\n                this._state = 'suspended';\n\n                const revokeState = () => {\n                    if (this._state === 'suspended') {\n                        this._state = null;\n                    }\n\n                    nativeAudioContext.removeEventListener('statechange', revokeState);\n                };\n\n                nativeAudioContext.addEventListener('statechange', revokeState);\n            }\n        }\n\n        get baseLatency(): number {\n            return this._baseLatency;\n        }\n\n        get state(): TAudioContextState {\n            return this._state !== null ? this._state : this._nativeAudioContext.state;\n        }\n\n        public close(): Promise<void> {\n            // Bug #35: Firefox does not throw an error if the AudioContext was closed before.\n            if (this.state === 'closed') {\n                return this._nativeAudioContext.close().then(() => {\n                    throw createInvalidStateError();\n                });\n            }\n\n            // Bug #34: If the state was set to suspended before it should be revoked now.\n            if (this._state === 'suspended') {\n                this._state = null;\n            }\n\n            return this._nativeAudioContext.close().then(() => {\n                if (this._nativeGainNode !== null && this._nativeOscillatorNode !== null) {\n                    this._nativeOscillatorNode.stop();\n\n                    this._nativeGainNode.disconnect();\n                    this._nativeOscillatorNode.disconnect();\n                }\n\n                deactivateAudioGraph(this);\n            });\n        }\n\n        public resume(): Promise<void> {\n            if (this._state === 'suspended') {\n                return new Promise((resolve, reject) => {\n                    const resolvePromise = () => {\n                        this._nativeAudioContext.removeEventListener('statechange', resolvePromise);\n\n                        if (this._nativeAudioContext.state === 'running') {\n                            resolve();\n                        } else {\n                            this.resume().then(resolve, reject);\n                        }\n                    };\n\n                    this._nativeAudioContext.addEventListener('statechange', resolvePromise);\n                });\n            }\n\n            return this._nativeAudioContext.resume().catch((err) => {\n                // Bug #55: Chrome and Edge do throw an InvalidAccessError instead of an InvalidStateError.\n                // Bug #56: Safari invokes the catch handler but without an error.\n                if (err === undefined || err.code === 15) {\n                    throw createInvalidStateError();\n                }\n\n                throw err;\n            });\n        }\n\n        public suspend(): Promise<void> {\n            return this._nativeAudioContext.suspend().catch((err) => {\n                // Bug #56: Safari invokes the catch handler but without an error.\n                if (err === undefined) {\n                    throw createInvalidStateError();\n                }\n\n                throw err;\n            });\n        }\n    };\n};\n", "import { CONTEXT_STORE } from '../globals';\nimport { IAudioDestinationNode, IAudioListener, IMinimalBaseAudioContext, IMinimalBaseAudioContextEventMap } from '../interfaces';\nimport { TAudioContextState, TContext, TEventHandler, TMinimalBaseAudioContextConstructorFactory, TNativeContext } from '../types';\n\nexport const createMinimalBaseAudioContextConstructor: TMinimalBaseAudioContextConstructorFactory = (\n    audioDestinationNodeConstructor,\n    createAudioListener,\n    eventTargetConstructor,\n    isNativeOfflineAudioContext,\n    unrenderedAudioWorkletNodeStore,\n    wrapEventListener\n) => {\n    return class MinimalBaseAudioContext<T extends TContext>\n        extends eventTargetConstructor<IMinimalBaseAudioContextEventMap>\n        implements IMinimalBaseAudioContext<T>\n    {\n        private _destination: IAudioDestinationNode<T>;\n\n        private _listener: IAudioListener;\n\n        private _onstatechange: null | TEventHandler<T>;\n\n        constructor(private _nativeContext: TNativeContext, numberOfChannels: number) {\n            super(_nativeContext);\n\n            CONTEXT_STORE.set(<T>(<unknown>this), _nativeContext);\n\n            if (isNativeOfflineAudioContext(_nativeContext)) {\n                unrenderedAudioWorkletNodeStore.set(_nativeContext, new Set());\n            }\n\n            this._destination = new audioDestinationNodeConstructor(<T>(<unknown>this), numberOfChannels);\n            this._listener = createAudioListener(<T>(<unknown>this), _nativeContext);\n            this._onstatechange = null;\n        }\n\n        get currentTime(): number {\n            return this._nativeContext.currentTime;\n        }\n\n        get destination(): IAudioDestinationNode<T> {\n            return this._destination;\n        }\n\n        get listener(): IAudioListener {\n            return this._listener;\n        }\n\n        get onstatechange(): null | TEventHandler<T> {\n            return this._onstatechange;\n        }\n\n        set onstatechange(value) {\n            const wrappedListener = typeof value === 'function' ? wrapEventListener(this, value) : null;\n\n            this._nativeContext.onstatechange = wrappedListener;\n\n            const nativeOnStateChange = this._nativeContext.onstatechange;\n\n            this._onstatechange = nativeOnStateChange !== null && nativeOnStateChange === wrappedListener ? value : nativeOnStateChange;\n        }\n\n        get sampleRate(): number {\n            return this._nativeContext.sampleRate;\n        }\n\n        get state(): TAudioContextState {\n            return this._nativeContext.state;\n        }\n    };\n};\n", "import { TNativeContext } from '../types';\n\nexport const testPromiseSupport = (nativeContext: TNativeContext): boolean => {\n    // This 12 numbers represent the 48 bytes of an empty WAVE file with a single sample.\n    const uint32Array = new Uint32Array([1179011410, 40, 1163280727, 544501094, 16, 131073, 44100, 176400, 1048580, 1635017060, 4, 0]);\n\n    try {\n        // Bug #1: Safari requires a successCallback.\n        const promise = nativeContext.decodeAudioData(<ArrayBuffer>uint32Array.buffer, () => {\n            // Ignore the success callback.\n        });\n\n        if (promise === undefined) {\n            return false;\n        }\n\n        promise.catch(() => {\n            // Ignore rejected errors.\n        });\n\n        return true;\n    } catch {\n        // Ignore errors.\n    }\n\n    return false;\n};\n", "import { deactivateAudioGraph } from '../helpers/deactivate-audio-graph';\nimport { testPromiseSupport } from '../helpers/test-promise-support';\nimport { IAudioBuffer, IMinimalOfflineAudioContext, IOfflineAudioContextOptions } from '../interfaces';\nimport { TAudioContextState, TMinimalOfflineAudioContextConstructorFactory, TNativeOfflineAudioContext } from '../types';\n\nconst DEFAULT_OPTIONS = {\n    numberOfChannels: 1\n} as const;\n\nexport const createMinimalOfflineAudioContextConstructor: TMinimalOfflineAudioContextConstructorFactory = (\n    cacheTestResult,\n    createInvalidStateError,\n    createNativeOfflineAudioContext,\n    minimalBaseAudioContextConstructor,\n    startRendering\n) => {\n    return class MinimalOfflineAudioContext extends minimalBaseAudioContextConstructor<IMinimalOfflineAudioContext>\n        implements IMinimalOfflineAudioContext {\n        private _length: number;\n\n        private _nativeOfflineAudioContext: TNativeOfflineAudioContext;\n\n        private _state: null | TAudioContextState;\n\n        constructor(options: IOfflineAudioContextOptions) {\n            const { length, numberOfChannels, sampleRate } = { ...DEFAULT_OPTIONS, ...options };\n\n            const nativeOfflineAudioContext = createNativeOfflineAudioContext(numberOfChannels, length, sampleRate);\n\n            // #21 Safari does not support promises and therefore would fire the statechange event before the promise can be resolved.\n            if (!cacheTestResult(testPromiseSupport, () => testPromiseSupport(nativeOfflineAudioContext))) {\n                nativeOfflineAudioContext.addEventListener(\n                    'statechange',\n                    (() => {\n                        let i = 0;\n\n                        const delayStateChangeEvent = (event: Event) => {\n                            if (this._state === 'running') {\n                                if (i > 0) {\n                                    nativeOfflineAudioContext.removeEventListener('statechange', delayStateChangeEvent);\n                                    event.stopImmediatePropagation();\n\n                                    this._waitForThePromiseToSettle(event);\n                                } else {\n                                    i += 1;\n                                }\n                            }\n                        };\n\n                        return delayStateChangeEvent;\n                    })()\n                );\n            }\n\n            super(nativeOfflineAudioContext, numberOfChannels);\n\n            this._length = length;\n            this._nativeOfflineAudioContext = nativeOfflineAudioContext;\n            this._state = null;\n        }\n\n        get length(): number {\n            // Bug #17: Safari does not yet expose the length.\n            if (this._nativeOfflineAudioContext.length === undefined) {\n                return this._length;\n            }\n\n            return this._nativeOfflineAudioContext.length;\n        }\n\n        get state(): TAudioContextState {\n            return this._state === null ? this._nativeOfflineAudioContext.state : this._state;\n        }\n\n        public startRendering(): Promise<IAudioBuffer> {\n            /*\n             * Bug #9 & #59: It is theoretically possible that startRendering() will first render a partialOfflineAudioContext. Therefore\n             * the state of the nativeOfflineAudioContext might no transition to running immediately.\n             */\n            if (this._state === 'running') {\n                return Promise.reject(createInvalidStateError());\n            }\n\n            this._state = 'running';\n\n            return startRendering(this.destination, this._nativeOfflineAudioContext).finally(() => {\n                this._state = null;\n\n                deactivateAudioGraph(this);\n            });\n        }\n\n        private _waitForThePromiseToSettle(event: Event): void {\n            if (this._state === null) {\n                this._nativeOfflineAudioContext.dispatchEvent(event);\n            } else {\n                setTimeout(() => this._waitForThePromiseToSettle(event));\n            }\n        }\n    };\n};\n", "import { TMonitorConnectionsFactory, TNativeAudioNode, TNativeAudioParam } from '../types';\n\nexport const createMonitorConnections: TMonitorConnectionsFactory = (insertElementInSet, isNativeAudioNode) => {\n    return (nativeAudioNode, whenConnected, whenDisconnected) => {\n        const connections = new Set<[TNativeAudioNode, number, number] | [TNativeAudioParam, number]>();\n\n        nativeAudioNode.connect = <TNativeAudioNode['connect']>((connect) => {\n            // tslint:disable-next-line:invalid-void no-inferrable-types\n            return (destination: TNativeAudioNode | TNativeAudioParam, output = 0, input: number = 0): void | TNativeAudioNode => {\n                const wasDisconnected = connections.size === 0;\n\n                if (isNativeAudioNode(destination)) {\n                    // @todo TypeScript cannot infer the overloaded signature with 3 arguments yet.\n                    (<(destination: TNativeAudioNode, output?: number, input?: number) => TNativeAudioNode>connect).call(\n                        nativeAudioNode,\n                        destination,\n                        output,\n                        input\n                    );\n\n                    insertElementInSet(\n                        connections,\n                        [destination, output, input],\n                        (connection) => connection[0] === destination && connection[1] === output && connection[2] === input,\n                        true\n                    );\n\n                    if (wasDisconnected) {\n                        whenConnected();\n                    }\n\n                    return destination;\n                }\n\n                connect.call(nativeAudioNode, destination, output);\n\n                insertElementInSet(\n                    connections,\n                    [destination, output],\n                    (connection) => connection[0] === destination && connection[1] === output,\n                    true\n                );\n\n                if (wasDisconnected) {\n                    whenConnected();\n                }\n\n                return;\n            };\n        })(nativeAudioNode.connect);\n\n        nativeAudioNode.disconnect = ((disconnect) => {\n            return (destinationOrOutput?: number | TNativeAudioNode | TNativeAudioParam, output?: number, input?: number): void => {\n                const wasConnected = connections.size > 0;\n\n                if (destinationOrOutput === undefined) {\n                    disconnect.apply(nativeAudioNode);\n\n                    connections.clear();\n                } else if (typeof destinationOrOutput === 'number') {\n                    // @todo TypeScript cannot infer the overloaded signature with 1 argument yet.\n                    (<(output: number) => void>disconnect).call(nativeAudioNode, destinationOrOutput);\n\n                    for (const connection of connections) {\n                        if (connection[1] === destinationOrOutput) {\n                            connections.delete(connection);\n                        }\n                    }\n                } else {\n                    if (isNativeAudioNode(destinationOrOutput)) {\n                        // @todo TypeScript cannot infer the overloaded signature with 3 arguments yet.\n                        (<(destination: TNativeAudioNode, output?: number, input?: number) => void>disconnect).call(\n                            nativeAudioNode,\n                            destinationOrOutput,\n                            output,\n                            input\n                        );\n                    } else {\n                        // @todo TypeScript cannot infer the overloaded signature with 2 arguments yet.\n                        (<(destination: TNativeAudioParam, output?: number) => void>disconnect).call(\n                            nativeAudioNode,\n                            destinationOrOutput,\n                            output\n                        );\n                    }\n\n                    for (const connection of connections) {\n                        if (\n                            connection[0] === destinationOrOutput &&\n                            (output === undefined || connection[1] === output) &&\n                            (input === undefined || connection[2] === input)\n                        ) {\n                            connections.delete(connection);\n                        }\n                    }\n                }\n\n                const isDisconnected = connections.size === 0;\n\n                if (wasConnected && isDisconnected) {\n                    whenDisconnected();\n                }\n            };\n        })(nativeAudioNode.disconnect);\n\n        return nativeAudioNode;\n    };\n};\n", "export const assignNativeAudioNodeOption = <T extends keyof any, U extends any>(\n    nativeAudioNode: Record<T, U>,\n    options: Record<T, U>,\n    option: T\n) => {\n    const value = options[option];\n\n    if (value !== undefined && value !== nativeAudioNode[option]) {\n        nativeAudioNode[option] = value;\n    }\n};\n", "import { IAudioNodeOptions } from '../interfaces';\nimport { TNativeAudioNode } from '../types';\nimport { assignNativeAudioNodeOption } from './assign-native-audio-node-option';\n\nexport const assignNativeAudioNodeOptions = (nativeAudioNode: TNativeAudioNode, options: IAudioNodeOptions): void => {\n    assignNativeAudioNodeOption(nativeAudioNode, options, 'channelCount');\n    assignNativeAudioNodeOption(nativeAudioNode, options, 'channelCountMode');\n    assignNativeAudioNodeOption(nativeAudioNode, options, 'channelInterpretation');\n};\n", "import { TNativeAnalyserNode } from '../types';\n\nexport const testAnalyserNodeGetFloatTimeDomainDataMethodSupport = (nativeAnalyserNode: TNativeAnalyserNode): boolean => {\n    return typeof nativeAnalyserNode.getFloatTimeDomainData === 'function';\n};\n", "import { TNativeAnalyserNode } from '../types';\n\nexport const wrapAnalyserNodeGetFloatTimeDomainDataMethod = (nativeAnalyserNode: TNativeAnalyserNode): void => {\n    nativeAnalyserNode.getFloatTimeDomainData = (array: Float32Array) => {\n        const byteTimeDomainData = new Uint8Array(array.length);\n\n        nativeAnalyserNode.getByteTimeDomainData(byteTimeDomainData);\n\n        const length = Math.max(byteTimeDomainData.length, nativeAnalyserNode.fftSize);\n\n        for (let i = 0; i < length; i += 1) {\n            array[i] = (byteTimeDomainData[i] - 128) * 0.0078125;\n        }\n\n        return array;\n    };\n};\n", "import { assignNativeAudioNodeOption } from '../helpers/assign-native-audio-node-option';\nimport { assignNativeAudioNodeOptions } from '../helpers/assign-native-audio-node-options';\nimport { testAnalyserNodeGetFloatTimeDomainDataMethodSupport } from '../helpers/test-analyser-node-get-float-time-domain-data-method-support';\nimport { wrapAnalyserNodeGetFloatTimeDomainDataMethod } from '../helpers/wrap-analyser-node-get-float-time-domain-data-method';\nimport { TNativeAnalyserNodeFactoryFactory } from '../types';\n\nexport const createNativeAnalyserNodeFactory: TNativeAnalyserNodeFactoryFactory = (cacheTestResult, createIndexSizeError) => {\n    return (nativeContext, options) => {\n        const nativeAnalyserNode = nativeContext.createAnalyser();\n\n        // Bug #37: Firefox does not create an AnalyserNode with the default properties.\n        assignNativeAudioNodeOptions(nativeAnalyserNode, options);\n\n        // Bug #118: Safari does not throw an error if maxDecibels is not more than minDecibels.\n        if (!(options.maxDecibels > options.minDecibels)) {\n            throw createIndexSizeError();\n        }\n\n        assignNativeAudioNodeOption(nativeAnalyserNode, options, 'fftSize');\n        assignNativeAudioNodeOption(nativeAnalyserNode, options, 'maxDecibels');\n        assignNativeAudioNodeOption(nativeAnalyserNode, options, 'minDecibels');\n        assignNativeAudioNodeOption(nativeAnalyserNode, options, 'smoothingTimeConstant');\n\n        // Bug #36: Safari does not support getFloatTimeDomainData() yet.\n        if (\n            !cacheTestResult(testAnalyserNodeGetFloatTimeDomainDataMethodSupport, () =>\n                testAnalyserNodeGetFloatTimeDomainDataMethodSupport(nativeAnalyserNode)\n            )\n        ) {\n            wrapAnalyserNodeGetFloatTimeDomainDataMethod(nativeAnalyserNode);\n        }\n\n        return nativeAnalyserNode;\n    };\n};\n", "import { TNativeAudioBufferConstructorFactory } from '../types';\n\nexport const createNativeAudioBufferConstructor: TNativeAudioBufferConstructorFactory = (window) => {\n    if (window === null) {\n        return null;\n    }\n\n    if (window.hasOwnProperty('AudioBuffer')) {\n        return window.AudioBuffer;\n    }\n\n    return null;\n};\n", "export const assignNativeAudioNodeAudioParamValue = <T extends { [key: string]: any }, U extends { [key: string]: any }>(\n    nativeAudioNode: T,\n    options: U,\n    audioParam: keyof T & keyof U\n) => {\n    const value = options[audioParam];\n\n    if (value !== undefined && value !== nativeAudioNode[audioParam].value) {\n        nativeAudioNode[audioParam].value = value;\n    }\n};\n", "import { createInvalidStateError } from '../factories/invalid-state-error';\nimport { TNativeAudioBufferSourceNode } from '../types';\n\nexport const wrapAudioBufferSourceNodeStartMethodConsecutiveCalls = (nativeAudioBufferSourceNode: TNativeAudioBufferSourceNode): void => {\n    nativeAudioBufferSourceNode.start = ((start) => {\n        let isScheduled = false;\n\n        return (when = 0, offset = 0, duration?: number) => {\n            if (isScheduled) {\n                throw createInvalidStateError();\n            }\n\n            start.call(nativeAudioBufferSourceNode, when, offset, duration);\n\n            isScheduled = true;\n        };\n    })(nativeAudioBufferSourceNode.start);\n};\n", "import { TNativeAudioBufferSourceNode, TNativeConstantSourceNode, TNativeOscillatorNode } from '../types';\n\nexport const wrapAudioScheduledSourceNodeStartMethodNegativeParameters = (\n    nativeAudioScheduledSourceNode: TNativeAudioBufferSourceNode | TNativeConstantSourceNode | TNativeOscillatorNode\n): void => {\n    nativeAudioScheduledSourceNode.start = ((start) => {\n        return (when = 0, offset = 0, duration?: number) => {\n            if ((typeof duration === 'number' && duration < 0) || offset < 0 || when < 0) {\n                throw new RangeError(\"The parameters can't be negative.\");\n            }\n\n            // @todo TypeScript cannot infer the overloaded signature with 3 arguments yet.\n            (<(when: number, offset: number, duration?: number) => void>start).call(nativeAudioScheduledSourceNode, when, offset, duration);\n        };\n    })(nativeAudioScheduledSourceNode.start);\n};\n", "import { TNativeAudioBufferSourceNode, TNativeConstantSourceNode, TNativeOscillatorNode } from '../types';\n\nexport const wrapAudioScheduledSourceNodeStopMethodNegativeParameters = (\n    nativeAudioScheduledSourceNode: TNativeAudioBufferSourceNode | TNativeConstantSourceNode | TNativeOscillatorNode\n): void => {\n    nativeAudioScheduledSourceNode.stop = ((stop) => {\n        return (when = 0) => {\n            if (when < 0) {\n                throw new RangeError(\"The parameter can't be negative.\");\n            }\n\n            stop.call(nativeAudioScheduledSourceNode, when);\n        };\n    })(nativeAudioScheduledSourceNode.stop);\n};\n", "import { assignNativeAudioNodeAudioParamValue } from '../helpers/assign-native-audio-node-audio-param-value';\nimport { assignNativeAudioNodeOption } from '../helpers/assign-native-audio-node-option';\nimport { assignNativeAudioNodeOptions } from '../helpers/assign-native-audio-node-options';\nimport { wrapAudioBufferSourceNodeStartMethodConsecutiveCalls } from '../helpers/wrap-audio-buffer-source-node-start-method-consecutive-calls';\nimport { wrapAudioScheduledSourceNodeStartMethodNegativeParameters } from '../helpers/wrap-audio-scheduled-source-node-start-method-negative-parameters';\nimport { wrapAudioScheduledSourceNodeStopMethodNegativeParameters } from '../helpers/wrap-audio-scheduled-source-node-stop-method-negative-parameters';\nimport { TNativeAudioBufferSourceNodeFactoryFactory } from '../types';\n\nexport const createNativeAudioBufferSourceNodeFactory: TNativeAudioBufferSourceNodeFactoryFactory = (\n    addSilentConnection,\n    cacheTestResult,\n    testAudioBufferSourceNodeStartMethodConsecutiveCallsSupport,\n    testAudioBufferSourceNodeStartMethodOffsetClampingSupport,\n    testAudioBufferSourceNodeStopMethodNullifiedBufferSupport,\n    testAudioScheduledSourceNodeStartMethodNegativeParametersSupport,\n    testAudioScheduledSourceNodeStopMethodConsecutiveCallsSupport,\n    testAudioScheduledSourceNodeStopMethodNegativeParametersSupport,\n    wrapAudioBufferSourceNodeStartMethodOffsetClampling,\n    wrapAudioBufferSourceNodeStopMethodNullifiedBuffer,\n    wrapAudioScheduledSourceNodeStopMethodConsecutiveCalls\n) => {\n    return (nativeContext, options) => {\n        const nativeAudioBufferSourceNode = nativeContext.createBufferSource();\n\n        assignNativeAudioNodeOptions(nativeAudioBufferSourceNode, options);\n\n        assignNativeAudioNodeAudioParamValue(nativeAudioBufferSourceNode, options, 'playbackRate');\n\n        assignNativeAudioNodeOption(nativeAudioBufferSourceNode, options, 'buffer');\n\n        // Bug #149: Safari does not yet support the detune AudioParam.\n\n        assignNativeAudioNodeOption(nativeAudioBufferSourceNode, options, 'loop');\n        assignNativeAudioNodeOption(nativeAudioBufferSourceNode, options, 'loopEnd');\n        assignNativeAudioNodeOption(nativeAudioBufferSourceNode, options, 'loopStart');\n\n        // Bug #69: Safari does allow calls to start() of an already scheduled AudioBufferSourceNode.\n        if (\n            !cacheTestResult(testAudioBufferSourceNodeStartMethodConsecutiveCallsSupport, () =>\n                testAudioBufferSourceNodeStartMethodConsecutiveCallsSupport(nativeContext)\n            )\n        ) {\n            wrapAudioBufferSourceNodeStartMethodConsecutiveCalls(nativeAudioBufferSourceNode);\n        }\n\n        // Bug #154 & #155: Safari does not handle offsets which are equal to or greater than the duration of the buffer.\n        if (\n            !cacheTestResult(testAudioBufferSourceNodeStartMethodOffsetClampingSupport, () =>\n                testAudioBufferSourceNodeStartMethodOffsetClampingSupport(nativeContext)\n            )\n        ) {\n            wrapAudioBufferSourceNodeStartMethodOffsetClampling(nativeAudioBufferSourceNode);\n        }\n\n        // Bug #162: Safari does throw an error when stop() is called on an AudioBufferSourceNode which has no buffer assigned to it.\n        if (\n            !cacheTestResult(testAudioBufferSourceNodeStopMethodNullifiedBufferSupport, () =>\n                testAudioBufferSourceNodeStopMethodNullifiedBufferSupport(nativeContext)\n            )\n        ) {\n            wrapAudioBufferSourceNodeStopMethodNullifiedBuffer(nativeAudioBufferSourceNode, nativeContext);\n        }\n\n        // Bug #44: Safari does not throw a RangeError yet.\n        if (\n            !cacheTestResult(testAudioScheduledSourceNodeStartMethodNegativeParametersSupport, () =>\n                testAudioScheduledSourceNodeStartMethodNegativeParametersSupport(nativeContext)\n            )\n        ) {\n            wrapAudioScheduledSourceNodeStartMethodNegativeParameters(nativeAudioBufferSourceNode);\n        }\n\n        // Bug #19: Safari does not ignore calls to stop() of an already stopped AudioBufferSourceNode.\n        if (\n            !cacheTestResult(testAudioScheduledSourceNodeStopMethodConsecutiveCallsSupport, () =>\n                testAudioScheduledSourceNodeStopMethodConsecutiveCallsSupport(nativeContext)\n            )\n        ) {\n            wrapAudioScheduledSourceNodeStopMethodConsecutiveCalls(nativeAudioBufferSourceNode, nativeContext);\n        }\n\n        // Bug #44: Only Firefox does not throw a RangeError yet.\n        if (\n            !cacheTestResult(testAudioScheduledSourceNodeStopMethodNegativeParametersSupport, () =>\n                testAudioScheduledSourceNodeStopMethodNegativeParametersSupport(nativeContext)\n            )\n        ) {\n            wrapAudioScheduledSourceNodeStopMethodNegativeParameters(nativeAudioBufferSourceNode);\n        }\n\n        // Bug #175: Safari will not fire an ended event if the AudioBufferSourceNode is unconnected.\n        addSilentConnection(nativeContext, nativeAudioBufferSourceNode);\n\n        return nativeAudioBufferSourceNode;\n    };\n};\n", "import { TNativeAudioContextConstructorFactory } from '../types';\n\nexport const createNativeAudioContextConstructor: TNativeAudioContextConstructorFactory = (window) => {\n    if (window === null) {\n        return null;\n    }\n\n    if (window.hasOwnProperty('AudioContext')) {\n        return window.AudioContext;\n    }\n\n    return window.hasOwnProperty('webkitAudioContext') ? (<any>window).webkitAudioContext : null;\n};\n", "import { TNativeAudioDestinationNode, TNativeAudioDestinationNodeFactoryFactory, TNativeGainNode } from '../types';\n\nexport const createNativeAudioDestinationNodeFactory: TNativeAudioDestinationNodeFactoryFactory = (\n    createNativeGainNode,\n    overwriteAccessors\n) => {\n    return (nativeContext, channelCount, isNodeOfNativeOfflineAudioContext) => {\n        const nativeAudioDestinationNode = nativeContext.destination;\n\n        // Bug #132: Safari does not have the correct channelCount.\n        if (nativeAudioDestinationNode.channelCount !== channelCount) {\n            try {\n                nativeAudioDestinationNode.channelCount = channelCount;\n            } catch {\n                // Bug #169: Safari throws an error on each attempt to change the channelCount.\n            }\n        }\n\n        // Bug #83: Safari does not have the correct channelCountMode.\n        if (isNodeOfNativeOfflineAudioContext && nativeAudioDestinationNode.channelCountMode !== 'explicit') {\n            nativeAudioDestinationNode.channelCountMode = 'explicit';\n        }\n\n        // Bug #47: The AudioDestinationNode in Safari does not initialize the maxChannelCount property correctly.\n        if (nativeAudioDestinationNode.maxChannelCount === 0) {\n            Object.defineProperty(nativeAudioDestinationNode, 'maxChannelCount', {\n                value: channelCount\n            });\n        }\n\n        // Bug #168: No browser does yet have an AudioDestinationNode with an output.\n        const gainNode = createNativeGainNode(nativeContext, {\n            channelCount,\n            channelCountMode: nativeAudioDestinationNode.channelCountMode,\n            channelInterpretation: nativeAudioDestinationNode.channelInterpretation,\n            gain: 1\n        });\n\n        overwriteAccessors(\n            gainNode,\n            'channelCount',\n            (get) => () => get.call(gainNode),\n            (set) => (value) => {\n                set.call(gainNode, value);\n\n                try {\n                    nativeAudioDestinationNode.channelCount = value;\n                } catch (err) {\n                    // Bug #169: Safari throws an error on each attempt to change the channelCount.\n                    if (value > nativeAudioDestinationNode.maxChannelCount) {\n                        throw err;\n                    }\n                }\n            }\n        );\n\n        overwriteAccessors(\n            gainNode,\n            'channelCountMode',\n            (get) => () => get.call(gainNode),\n            (set) => (value) => {\n                set.call(gainNode, value);\n                nativeAudioDestinationNode.channelCountMode = value;\n            }\n        );\n\n        overwriteAccessors(\n            gainNode,\n            'channelInterpretation',\n            (get) => () => get.call(gainNode),\n            (set) => (value) => {\n                set.call(gainNode, value);\n                nativeAudioDestinationNode.channelInterpretation = value;\n            }\n        );\n\n        Object.defineProperty(gainNode, 'maxChannelCount', {\n            get: () => nativeAudioDestinationNode.maxChannelCount\n        });\n\n        // @todo This should be disconnected when the context is closed.\n        gainNode.connect(nativeAudioDestinationNode);\n\n        return <{ maxChannelCount: TNativeAudioDestinationNode['maxChannelCount'] } & TNativeGainNode>gainNode;\n    };\n};\n", "import { TNativeAudioWorkletNodeConstructorFactory } from '../types';\n\nexport const createNativeAudioWorkletNodeConstructor: TNativeAudioWorkletNodeConstructorFactory = (window) => {\n    if (window === null) {\n        return null;\n    }\n\n    return window.hasOwnProperty('AudioWorkletNode') ? window.AudioWorkletNode : null;\n};\n", "import { IAudioWorkletNodeOptions } from '../interfaces';\n\nexport const testClonabilityOfAudioWorkletNodeOptions = (audioWorkletNodeOptions: IAudioWorkletNodeOptions): void => {\n    const { port1 } = new MessageChannel();\n\n    try {\n        // This will throw an error if the audioWorkletNodeOptions are not clonable.\n        port1.postMessage(audioWorkletNodeOptions);\n    } finally {\n        port1.close();\n    }\n};\n", "import { testClonabilityOfAudioWorkletNodeOptions } from '../helpers/test-clonability-of-audio-worklet-node-options';\nimport { TNativeAudioWorkletNode, TNativeAudioWorkletNodeFactoryFactory, TNativeAudioWorkletNodeOptions } from '../types';\n\nexport const createNativeAudioWorkletNodeFactory: TNativeAudioWorkletNodeFactoryFactory = (\n    createInvalidStateError,\n    createNativeAudioWorkletNodeFaker,\n    createNativeGainNode,\n    createNotSupportedError,\n    monitorConnections\n) => {\n    return (nativeContext, baseLatency, nativeAudioWorkletNodeConstructor, name, processorConstructor, options) => {\n        if (nativeAudioWorkletNodeConstructor !== null) {\n            try {\n                const nativeAudioWorkletNode = new nativeAudioWorkletNodeConstructor(\n                    nativeContext,\n                    name,\n                    <TNativeAudioWorkletNodeOptions>options\n                );\n                const patchedEventListeners: Map<\n                    EventListenerOrEventListenerObject,\n                    NonNullable<TNativeAudioWorkletNode['onprocessorerror']>\n                > = new Map();\n\n                let onprocessorerror: TNativeAudioWorkletNode['onprocessorerror'] = null;\n\n                Object.defineProperties(nativeAudioWorkletNode, {\n                    /*\n                     * Bug #61: Overwriting the property accessors for channelCount and channelCountMode is necessary as long as some\n                     * browsers have no native implementation to achieve a consistent behavior.\n                     */\n                    channelCount: {\n                        get: () => options.channelCount,\n                        set: () => {\n                            throw createInvalidStateError();\n                        }\n                    },\n                    channelCountMode: {\n                        get: () => 'explicit',\n                        set: () => {\n                            throw createInvalidStateError();\n                        }\n                    },\n                    // Bug #156: Chrome and Edge do not yet fire an ErrorEvent.\n                    onprocessorerror: {\n                        get: () => onprocessorerror,\n                        set: (value) => {\n                            if (typeof onprocessorerror === 'function') {\n                                nativeAudioWorkletNode.removeEventListener('processorerror', onprocessorerror);\n                            }\n\n                            onprocessorerror = typeof value === 'function' ? value : null;\n\n                            if (typeof onprocessorerror === 'function') {\n                                nativeAudioWorkletNode.addEventListener('processorerror', onprocessorerror);\n                            }\n                        }\n                    }\n                });\n\n                nativeAudioWorkletNode.addEventListener = ((addEventListener) => {\n                    return (...args: [string, EventListenerOrEventListenerObject, (boolean | AddEventListenerOptions)?]): void => {\n                        if (args[0] === 'processorerror') {\n                            const unpatchedEventListener =\n                                typeof args[1] === 'function'\n                                    ? args[1]\n                                    : typeof args[1] === 'object' && args[1] !== null && typeof args[1].handleEvent === 'function'\n                                    ? args[1].handleEvent\n                                    : null;\n\n                            if (unpatchedEventListener !== null) {\n                                const patchedEventListener = patchedEventListeners.get(args[1]);\n\n                                if (patchedEventListener !== undefined) {\n                                    args[1] = patchedEventListener;\n                                } else {\n                                    args[1] = (event: Event) => {\n                                        // Bug #178: Chrome and Edge do fire an event of type error.\n                                        if (event.type === 'error') {\n                                            Object.defineProperties(event, {\n                                                type: { value: 'processorerror' }\n                                            });\n\n                                            unpatchedEventListener(event);\n                                        } else {\n                                            unpatchedEventListener(new ErrorEvent(args[0], { ...event }));\n                                        }\n                                    };\n\n                                    patchedEventListeners.set(unpatchedEventListener, args[1]);\n                                }\n                            }\n                        }\n\n                        // Bug #178: Chrome and Edge do fire an event of type error.\n                        addEventListener.call(nativeAudioWorkletNode, 'error', args[1], args[2]);\n\n                        return addEventListener.call(nativeAudioWorkletNode, ...args);\n                    };\n                })(nativeAudioWorkletNode.addEventListener);\n\n                nativeAudioWorkletNode.removeEventListener = ((removeEventListener) => {\n                    return (...args: any[]): void => {\n                        if (args[0] === 'processorerror') {\n                            const patchedEventListener = patchedEventListeners.get(args[1]);\n\n                            if (patchedEventListener !== undefined) {\n                                patchedEventListeners.delete(args[1]);\n\n                                args[1] = patchedEventListener;\n                            }\n                        }\n\n                        // Bug #178: Chrome and Edge do fire an event of type error.\n                        removeEventListener.call(nativeAudioWorkletNode, 'error', args[1], args[2]);\n\n                        return removeEventListener.call(nativeAudioWorkletNode, args[0], args[1], args[2]);\n                    };\n                })(nativeAudioWorkletNode.removeEventListener);\n\n                /*\n                 * Bug #86: Chrome and Edge do not invoke the process() function if the corresponding AudioWorkletNode is unconnected but\n                 * has an output.\n                 */\n                if (options.numberOfOutputs !== 0) {\n                    const nativeGainNode = createNativeGainNode(nativeContext, {\n                        channelCount: 1,\n                        channelCountMode: 'explicit',\n                        channelInterpretation: 'discrete',\n                        gain: 0\n                    });\n\n                    nativeAudioWorkletNode.connect(nativeGainNode).connect(nativeContext.destination);\n\n                    const whenConnected = () => nativeGainNode.disconnect();\n                    const whenDisconnected = () => nativeGainNode.connect(nativeContext.destination);\n\n                    // @todo Disconnect the connection when the process() function of the AudioWorkletNode returns false.\n                    return monitorConnections(nativeAudioWorkletNode, whenConnected, whenDisconnected);\n                }\n\n                return nativeAudioWorkletNode;\n            } catch (err) {\n                // Bug #60: Chrome & Edge throw an InvalidStateError instead of a NotSupportedError.\n                if (err.code === 11) {\n                    throw createNotSupportedError();\n                }\n\n                throw err;\n            }\n        }\n\n        // Bug #61: Only Chrome & Edge have an implementation of the AudioWorkletNode yet.\n        if (processorConstructor === undefined) {\n            throw createNotSupportedError();\n        }\n\n        testClonabilityOfAudioWorkletNodeOptions(options);\n\n        return createNativeAudioWorkletNodeFaker(nativeContext, baseLatency, processorConstructor, options);\n    };\n};\n", "export const computeBufferSize = (baseLatency: null | number, sampleRate: number) => {\n    if (baseLatency === null) {\n        return 512;\n    }\n\n    return Math.max(512, Math.min(16384, Math.pow(2, Math.round(Math.log2(baseLatency * sampleRate)))));\n};\n", "import { IAudioWorkletNodeOptions } from '../interfaces';\n\nexport const cloneAudioWorkletNodeOptions = (audioWorkletNodeOptions: IAudioWorkletNodeOptions): Promise<IAudioWorkletNodeOptions> => {\n    return new Promise((resolve, reject) => {\n        const { port1, port2 } = new MessageChannel();\n\n        port1.onmessage = ({ data }) => {\n            port1.close();\n            port2.close();\n\n            resolve(data);\n        };\n        port1.onmessageerror = ({ data }) => {\n            port1.close();\n            port2.close();\n\n            reject(data);\n        };\n\n        // This will throw an error if the audioWorkletNodeOptions are not clonable.\n        port2.postMessage(audioWorkletNodeOptions);\n    });\n};\n", "import { IAudioWorkletNodeOptions, IAudioWorkletProcessor, IAudioWorkletProcessorConstructor } from '../interfaces';\nimport { cloneAudioWorkletNodeOptions } from './clone-audio-worklet-node-options';\n\nexport const createAudioWorkletProcessorPromise = async (\n    processorConstructor: IAudioWorkletProcessorConstructor,\n    audioWorkletNodeOptions: IAudioWorkletNodeOptions\n): Promise<IAudioWorkletProcessor> => {\n    const clonedAudioWorkletNodeOptions = await cloneAudioWorkletNodeOptions(audioWorkletNodeOptions);\n\n    return new processorConstructor(clonedAudioWorkletNodeOptions);\n};\n", "import { NODE_TO_PROCESSOR_MAPS } from '../globals';\nimport { IAudioWorkletNodeOptions, IAudioWorkletProcessor, IAudioWorkletProcessorConstructor } from '../interfaces';\nimport { TNativeAudioWorkletNode, TNativeContext } from '../types';\nimport { createAudioWorkletProcessorPromise } from './create-audio-worklet-processor-promise';\n\nexport const createAudioWorkletProcessor = (\n    nativeContext: TNativeContext,\n    nativeAudioWorkletNode: TNativeAudioWorkletNode,\n    processorConstructor: IAudioWorkletProcessorConstructor,\n    audioWorkletNodeOptions: IAudioWorkletNodeOptions\n): Promise<IAudioWorkletProcessor> => {\n    let nodeToProcessorMap = NODE_TO_PROCESSOR_MAPS.get(nativeContext);\n\n    if (nodeToProcessorMap === undefined) {\n        nodeToProcessorMap = new WeakMap();\n\n        NODE_TO_PROCESSOR_MAPS.set(nativeContext, nodeToProcessorMap);\n    }\n\n    const audioWorkletProcessorPromise = createAudioWorkletProcessorPromise(processorConstructor, audioWorkletNodeOptions);\n\n    nodeToProcessorMap.set(nativeAudioWorkletNode, audioWorkletProcessorPromise);\n\n    return audioWorkletProcessorPromise;\n};\n", "import { MOST_NEGATIVE_SINGLE_FLOAT, MOST_POSITIVE_SINGLE_FLOAT } from '../constants';\nimport { computeBufferSize } from '../helpers/compute-buffer-size';\nimport { copyFromChannel } from '../helpers/copy-from-channel';\nimport { copyToChannel } from '../helpers/copy-to-channel';\nimport { createAudioWorkletProcessor } from '../helpers/create-audio-worklet-processor';\nimport { createNestedArrays } from '../helpers/create-nested-arrays';\nimport { IAudioWorkletProcessor } from '../interfaces';\nimport { ReadOnlyMap } from '../read-only-map';\nimport {\n    TNativeAudioNode,\n    TNativeAudioParam,\n    TNativeAudioWorkletNode,\n    TNativeAudioWorkletNodeFakerFactoryFactory,\n    TNativeChannelMergerNode,\n    TNativeChannelSplitterNode,\n    TNativeConstantSourceNode,\n    TNativeGainNode\n} from '../types';\n\nexport const createNativeAudioWorkletNodeFakerFactory: TNativeAudioWorkletNodeFakerFactoryFactory = (\n    connectMultipleOutputs,\n    createIndexSizeError,\n    createInvalidStateError,\n    createNativeChannelMergerNode,\n    createNativeChannelSplitterNode,\n    createNativeConstantSourceNode,\n    createNativeGainNode,\n    createNativeScriptProcessorNode,\n    createNotSupportedError,\n    disconnectMultipleOutputs,\n    exposeCurrentFrameAndCurrentTime,\n    getActiveAudioWorkletNodeInputs,\n    monitorConnections\n) => {\n    return (nativeContext, baseLatency, processorConstructor, options) => {\n        if (options.numberOfInputs === 0 && options.numberOfOutputs === 0) {\n            throw createNotSupportedError();\n        }\n\n        const outputChannelCount = Array.isArray(options.outputChannelCount)\n            ? options.outputChannelCount\n            : Array.from(options.outputChannelCount);\n\n        // @todo Check if any of the channelCount values is greater than the implementation's maximum number of channels.\n        if (outputChannelCount.some((channelCount) => channelCount < 1)) {\n            throw createNotSupportedError();\n        }\n\n        if (outputChannelCount.length !== options.numberOfOutputs) {\n            throw createIndexSizeError();\n        }\n\n        // Bug #61: This is not part of the standard but required for the faker to work.\n        if (options.channelCountMode !== 'explicit') {\n            throw createNotSupportedError();\n        }\n\n        const numberOfInputChannels = options.channelCount * options.numberOfInputs;\n        const numberOfOutputChannels = outputChannelCount.reduce((sum, value) => sum + value, 0);\n        const numberOfParameters =\n            processorConstructor.parameterDescriptors === undefined ? 0 : processorConstructor.parameterDescriptors.length;\n\n        // Bug #61: This is not part of the standard but required for the faker to work.\n        if (numberOfInputChannels + numberOfParameters > 6 || numberOfOutputChannels > 6) {\n            throw createNotSupportedError();\n        }\n\n        const messageChannel = new MessageChannel();\n        const gainNodes: TNativeGainNode[] = [];\n        const inputChannelSplitterNodes: TNativeChannelSplitterNode[] = [];\n\n        for (let i = 0; i < options.numberOfInputs; i += 1) {\n            gainNodes.push(\n                createNativeGainNode(nativeContext, {\n                    channelCount: options.channelCount,\n                    channelCountMode: options.channelCountMode,\n                    channelInterpretation: options.channelInterpretation,\n                    gain: 1\n                })\n            );\n            inputChannelSplitterNodes.push(\n                createNativeChannelSplitterNode(nativeContext, {\n                    channelCount: options.channelCount,\n                    channelCountMode: 'explicit',\n                    channelInterpretation: 'discrete',\n                    numberOfOutputs: options.channelCount\n                })\n            );\n        }\n\n        const constantSourceNodes: TNativeConstantSourceNode[] = [];\n\n        if (processorConstructor.parameterDescriptors !== undefined) {\n            for (const { defaultValue, maxValue, minValue, name } of processorConstructor.parameterDescriptors) {\n                const constantSourceNode = createNativeConstantSourceNode(nativeContext, {\n                    channelCount: 1,\n                    channelCountMode: 'explicit',\n                    channelInterpretation: 'discrete',\n                    offset:\n                        options.parameterData[name] !== undefined\n                            ? options.parameterData[name]\n                            : defaultValue === undefined\n                            ? 0\n                            : defaultValue\n                });\n\n                Object.defineProperties(constantSourceNode.offset, {\n                    defaultValue: {\n                        get: () => (defaultValue === undefined ? 0 : defaultValue)\n                    },\n                    maxValue: {\n                        get: () => (maxValue === undefined ? MOST_POSITIVE_SINGLE_FLOAT : maxValue)\n                    },\n                    minValue: {\n                        get: () => (minValue === undefined ? MOST_NEGATIVE_SINGLE_FLOAT : minValue)\n                    }\n                });\n\n                constantSourceNodes.push(constantSourceNode);\n            }\n        }\n\n        const inputChannelMergerNode = createNativeChannelMergerNode(nativeContext, {\n            channelCount: 1,\n            channelCountMode: 'explicit',\n            channelInterpretation: 'speakers',\n            numberOfInputs: Math.max(1, numberOfInputChannels + numberOfParameters)\n        });\n        const bufferSize = computeBufferSize(baseLatency, nativeContext.sampleRate);\n        const scriptProcessorNode = createNativeScriptProcessorNode(\n            nativeContext,\n            bufferSize,\n            numberOfInputChannels + numberOfParameters,\n            // Bug #87: Only Firefox will fire an AudioProcessingEvent if there is no connected output.\n            Math.max(1, numberOfOutputChannels)\n        );\n        const outputChannelSplitterNode = createNativeChannelSplitterNode(nativeContext, {\n            channelCount: Math.max(1, numberOfOutputChannels),\n            channelCountMode: 'explicit',\n            channelInterpretation: 'discrete',\n            numberOfOutputs: Math.max(1, numberOfOutputChannels)\n        });\n        const outputChannelMergerNodes: TNativeChannelMergerNode[] = [];\n\n        for (let i = 0; i < options.numberOfOutputs; i += 1) {\n            outputChannelMergerNodes.push(\n                createNativeChannelMergerNode(nativeContext, {\n                    channelCount: 1,\n                    channelCountMode: 'explicit',\n                    channelInterpretation: 'speakers',\n                    numberOfInputs: outputChannelCount[i]\n                })\n            );\n        }\n\n        for (let i = 0; i < options.numberOfInputs; i += 1) {\n            gainNodes[i].connect(inputChannelSplitterNodes[i]);\n\n            for (let j = 0; j < options.channelCount; j += 1) {\n                inputChannelSplitterNodes[i].connect(inputChannelMergerNode, j, i * options.channelCount + j);\n            }\n        }\n\n        const parameterMap = new ReadOnlyMap(\n            processorConstructor.parameterDescriptors === undefined\n                ? []\n                : processorConstructor.parameterDescriptors.map(({ name }, index) => {\n                      const constantSourceNode = constantSourceNodes[index];\n\n                      constantSourceNode.connect(inputChannelMergerNode, 0, numberOfInputChannels + index);\n                      constantSourceNode.start(0);\n\n                      return <[string, TNativeAudioParam]>[name, constantSourceNode.offset];\n                  })\n        );\n\n        inputChannelMergerNode.connect(scriptProcessorNode);\n\n        let channelInterpretation = options.channelInterpretation;\n        let onprocessorerror: TNativeAudioWorkletNode['onprocessorerror'] = null;\n\n        // Bug #87: Expose at least one output to make this node connectable.\n        const outputAudioNodes = options.numberOfOutputs === 0 ? [scriptProcessorNode] : outputChannelMergerNodes;\n        const nativeAudioWorkletNodeFaker = {\n            get bufferSize(): number {\n                return bufferSize;\n            },\n            get channelCount(): number {\n                return options.channelCount;\n            },\n            set channelCount(_) {\n                // Bug #61: This is not part of the standard but required for the faker to work.\n                throw createInvalidStateError();\n            },\n            get channelCountMode(): TNativeAudioWorkletNode['channelCountMode'] {\n                return options.channelCountMode;\n            },\n            set channelCountMode(_) {\n                // Bug #61: This is not part of the standard but required for the faker to work.\n                throw createInvalidStateError();\n            },\n            get channelInterpretation(): TNativeAudioWorkletNode['channelInterpretation'] {\n                return channelInterpretation;\n            },\n            set channelInterpretation(value) {\n                for (const gainNode of gainNodes) {\n                    gainNode.channelInterpretation = value;\n                }\n\n                channelInterpretation = value;\n            },\n            get context(): TNativeAudioWorkletNode['context'] {\n                return scriptProcessorNode.context;\n            },\n            get inputs(): TNativeAudioNode[] {\n                return gainNodes;\n            },\n            get numberOfInputs(): number {\n                return options.numberOfInputs;\n            },\n            get numberOfOutputs(): number {\n                return options.numberOfOutputs;\n            },\n            get onprocessorerror(): TNativeAudioWorkletNode['onprocessorerror'] {\n                return onprocessorerror;\n            },\n            set onprocessorerror(value) {\n                if (typeof onprocessorerror === 'function') {\n                    nativeAudioWorkletNodeFaker.removeEventListener('processorerror', onprocessorerror);\n                }\n\n                onprocessorerror = typeof value === 'function' ? value : null;\n\n                if (typeof onprocessorerror === 'function') {\n                    nativeAudioWorkletNodeFaker.addEventListener('processorerror', onprocessorerror);\n                }\n            },\n            get parameters(): TNativeAudioWorkletNode['parameters'] {\n                return parameterMap;\n            },\n            get port(): TNativeAudioWorkletNode['port'] {\n                return messageChannel.port2;\n            },\n            addEventListener(...args: any[]): void {\n                return scriptProcessorNode.addEventListener(args[0], args[1], args[2]);\n            },\n            connect: <TNativeAudioNode['connect']>connectMultipleOutputs.bind(null, outputAudioNodes),\n            disconnect: <TNativeAudioNode['disconnect']>disconnectMultipleOutputs.bind(null, outputAudioNodes),\n            dispatchEvent(...args: any[]): boolean {\n                return scriptProcessorNode.dispatchEvent(args[0]);\n            },\n            removeEventListener(...args: any[]): void {\n                return scriptProcessorNode.removeEventListener(args[0], args[1], args[2]);\n            }\n        };\n\n        const patchedEventListeners: Map<EventListenerOrEventListenerObject, NonNullable<MessagePort['onmessage']>> = new Map();\n\n        messageChannel.port1.addEventListener = ((addEventListener) => {\n            return (...args: [string, EventListenerOrEventListenerObject, (boolean | AddEventListenerOptions)?]): void => {\n                if (args[0] === 'message') {\n                    const unpatchedEventListener =\n                        typeof args[1] === 'function'\n                            ? args[1]\n                            : typeof args[1] === 'object' && args[1] !== null && typeof args[1].handleEvent === 'function'\n                            ? args[1].handleEvent\n                            : null;\n\n                    if (unpatchedEventListener !== null) {\n                        const patchedEventListener = patchedEventListeners.get(args[1]);\n\n                        if (patchedEventListener !== undefined) {\n                            args[1] = <EventListenerOrEventListenerObject>patchedEventListener;\n                        } else {\n                            args[1] = (event: Event) => {\n                                exposeCurrentFrameAndCurrentTime(nativeContext.currentTime, nativeContext.sampleRate, () =>\n                                    unpatchedEventListener(event)\n                                );\n                            };\n\n                            patchedEventListeners.set(unpatchedEventListener, args[1]);\n                        }\n                    }\n                }\n\n                return addEventListener.call(messageChannel.port1, args[0], args[1], args[2]);\n            };\n        })(messageChannel.port1.addEventListener);\n\n        messageChannel.port1.removeEventListener = ((removeEventListener) => {\n            return (...args: any[]): void => {\n                if (args[0] === 'message') {\n                    const patchedEventListener = patchedEventListeners.get(args[1]);\n\n                    if (patchedEventListener !== undefined) {\n                        patchedEventListeners.delete(args[1]);\n\n                        args[1] = patchedEventListener;\n                    }\n                }\n\n                return removeEventListener.call(messageChannel.port1, args[0], args[1], args[2]);\n            };\n        })(messageChannel.port1.removeEventListener);\n\n        let onmessage: MessagePort['onmessage'] = null;\n\n        Object.defineProperty(messageChannel.port1, 'onmessage', {\n            get: () => onmessage,\n            set: (value) => {\n                if (typeof onmessage === 'function') {\n                    messageChannel.port1.removeEventListener('message', onmessage);\n                }\n\n                onmessage = typeof value === 'function' ? value : null;\n\n                if (typeof onmessage === 'function') {\n                    messageChannel.port1.addEventListener('message', onmessage);\n                    messageChannel.port1.start();\n                }\n            }\n        });\n\n        processorConstructor.prototype.port = messageChannel.port1;\n\n        let audioWorkletProcessor: null | IAudioWorkletProcessor = null;\n\n        const audioWorkletProcessorPromise = createAudioWorkletProcessor(\n            nativeContext,\n            nativeAudioWorkletNodeFaker,\n            processorConstructor,\n            options\n        );\n\n        audioWorkletProcessorPromise.then((dWrkltPrcssr) => (audioWorkletProcessor = dWrkltPrcssr));\n\n        const inputs = createNestedArrays(options.numberOfInputs, options.channelCount);\n        const outputs = createNestedArrays(options.numberOfOutputs, outputChannelCount);\n        const parameters: { [name: string]: Float32Array } =\n            processorConstructor.parameterDescriptors === undefined\n                ? []\n                : processorConstructor.parameterDescriptors.reduce(\n                      (prmtrs, { name }) => ({ ...prmtrs, [name]: new Float32Array(128) }),\n                      {}\n                  );\n\n        let isActive = true;\n\n        const disconnectOutputsGraph = () => {\n            if (options.numberOfOutputs > 0) {\n                scriptProcessorNode.disconnect(outputChannelSplitterNode);\n            }\n\n            for (let i = 0, outputChannelSplitterNodeOutput = 0; i < options.numberOfOutputs; i += 1) {\n                const outputChannelMergerNode = outputChannelMergerNodes[i];\n\n                for (let j = 0; j < outputChannelCount[i]; j += 1) {\n                    outputChannelSplitterNode.disconnect(outputChannelMergerNode, outputChannelSplitterNodeOutput + j, j);\n                }\n\n                outputChannelSplitterNodeOutput += outputChannelCount[i];\n            }\n        };\n\n        const activeInputIndexes = new Map<number, number>();\n\n        // tslint:disable-next-line:deprecation\n        scriptProcessorNode.onaudioprocess = ({ inputBuffer, outputBuffer }: AudioProcessingEvent) => {\n            if (audioWorkletProcessor !== null) {\n                const activeInputs = getActiveAudioWorkletNodeInputs(nativeAudioWorkletNodeFaker);\n\n                for (let i = 0; i < bufferSize; i += 128) {\n                    for (let j = 0; j < options.numberOfInputs; j += 1) {\n                        for (let k = 0; k < options.channelCount; k += 1) {\n                            copyFromChannel(inputBuffer, inputs[j], k, k, i);\n                        }\n                    }\n\n                    if (processorConstructor.parameterDescriptors !== undefined) {\n                        processorConstructor.parameterDescriptors.forEach(({ name }, index) => {\n                            copyFromChannel(inputBuffer, parameters, name, numberOfInputChannels + index, i);\n                        });\n                    }\n\n                    for (let j = 0; j < options.numberOfInputs; j += 1) {\n                        for (let k = 0; k < outputChannelCount[j]; k += 1) {\n                            // The byteLength will be 0 when the ArrayBuffer was transferred.\n                            if (outputs[j][k].byteLength === 0) {\n                                outputs[j][k] = new Float32Array(128);\n                            }\n                        }\n                    }\n\n                    try {\n                        const potentiallyEmptyInputs = inputs.map((input, index) => {\n                            const activeInput = activeInputs[index];\n\n                            if (activeInput.size > 0) {\n                                activeInputIndexes.set(index, bufferSize / 128);\n\n                                return input;\n                            }\n\n                            const count = activeInputIndexes.get(index);\n\n                            if (count === undefined) {\n                                return [];\n                            }\n\n                            if (input.every((channelData) => channelData.every((sample) => sample === 0))) {\n                                if (count === 1) {\n                                    activeInputIndexes.delete(index);\n                                } else {\n                                    activeInputIndexes.set(index, count - 1);\n                                }\n                            }\n\n                            return input;\n                        });\n\n                        const activeSourceFlag = exposeCurrentFrameAndCurrentTime(\n                            nativeContext.currentTime + i / nativeContext.sampleRate,\n                            nativeContext.sampleRate,\n                            () => (<IAudioWorkletProcessor>audioWorkletProcessor).process(potentiallyEmptyInputs, outputs, parameters)\n                        );\n\n                        isActive = activeSourceFlag;\n\n                        for (let j = 0, outputChannelSplitterNodeOutput = 0; j < options.numberOfOutputs; j += 1) {\n                            for (let k = 0; k < outputChannelCount[j]; k += 1) {\n                                copyToChannel(outputBuffer, outputs[j], k, outputChannelSplitterNodeOutput + k, i);\n                            }\n\n                            outputChannelSplitterNodeOutput += outputChannelCount[j];\n                        }\n                    } catch (error) {\n                        isActive = false;\n\n                        nativeAudioWorkletNodeFaker.dispatchEvent(\n                            new ErrorEvent('processorerror', {\n                                colno: error.colno,\n                                filename: error.filename,\n                                lineno: error.lineno,\n                                message: error.message\n                            })\n                        );\n                    }\n\n                    if (!isActive) {\n                        for (let j = 0; j < options.numberOfInputs; j += 1) {\n                            gainNodes[j].disconnect(inputChannelSplitterNodes[j]);\n\n                            for (let k = 0; k < options.channelCount; k += 1) {\n                                inputChannelSplitterNodes[i].disconnect(inputChannelMergerNode, k, j * options.channelCount + k);\n                            }\n                        }\n\n                        if (processorConstructor.parameterDescriptors !== undefined) {\n                            const length = processorConstructor.parameterDescriptors.length;\n\n                            for (let j = 0; j < length; j += 1) {\n                                const constantSourceNode = constantSourceNodes[j];\n\n                                constantSourceNode.disconnect(inputChannelMergerNode, 0, numberOfInputChannels + j);\n                                constantSourceNode.stop();\n                            }\n                        }\n\n                        inputChannelMergerNode.disconnect(scriptProcessorNode);\n\n                        scriptProcessorNode.onaudioprocess = null; // tslint:disable-line:deprecation\n\n                        if (isConnected) {\n                            disconnectOutputsGraph();\n                        } else {\n                            disconnectFakeGraph();\n                        }\n\n                        break;\n                    }\n                }\n            }\n        };\n\n        let isConnected = false;\n\n        // Bug #87: Only Firefox will fire an AudioProcessingEvent if there is no connected output.\n        const nativeGainNode = createNativeGainNode(nativeContext, {\n            channelCount: 1,\n            channelCountMode: 'explicit',\n            channelInterpretation: 'discrete',\n            gain: 0\n        });\n\n        const connectFakeGraph = () => scriptProcessorNode.connect(nativeGainNode).connect(nativeContext.destination);\n        const disconnectFakeGraph = () => {\n            scriptProcessorNode.disconnect(nativeGainNode);\n            nativeGainNode.disconnect();\n        };\n        const whenConnected = () => {\n            if (isActive) {\n                disconnectFakeGraph();\n\n                if (options.numberOfOutputs > 0) {\n                    scriptProcessorNode.connect(outputChannelSplitterNode);\n                }\n\n                for (let i = 0, outputChannelSplitterNodeOutput = 0; i < options.numberOfOutputs; i += 1) {\n                    const outputChannelMergerNode = outputChannelMergerNodes[i];\n\n                    for (let j = 0; j < outputChannelCount[i]; j += 1) {\n                        outputChannelSplitterNode.connect(outputChannelMergerNode, outputChannelSplitterNodeOutput + j, j);\n                    }\n\n                    outputChannelSplitterNodeOutput += outputChannelCount[i];\n                }\n            }\n\n            isConnected = true;\n        };\n        const whenDisconnected = () => {\n            if (isActive) {\n                connectFakeGraph();\n                disconnectOutputsGraph();\n            }\n\n            isConnected = false;\n        };\n\n        connectFakeGraph();\n\n        return monitorConnections(nativeAudioWorkletNodeFaker, whenConnected, whenDisconnected);\n    };\n};\n", "import { assignNativeAudioNodeAudioParamValue } from '../helpers/assign-native-audio-node-audio-param-value';\nimport { assignNativeAudioNodeOption } from '../helpers/assign-native-audio-node-option';\nimport { assignNativeAudioNodeOptions } from '../helpers/assign-native-audio-node-options';\nimport { TNativeBiquadFilterNodeFactory } from '../types';\n\nexport const createNativeBiquadFilterNode: TNativeBiquadFilterNodeFactory = (nativeContext, options) => {\n    const nativeBiquadFilterNode = nativeContext.createBiquadFilter();\n\n    assignNativeAudioNodeOptions(nativeBiquadFilterNode, options);\n\n    assignNativeAudioNodeAudioParamValue(nativeBiquadFilterNode, options, 'Q');\n    assignNativeAudioNodeAudioParamValue(nativeBiquadFilterNode, options, 'detune');\n    assignNativeAudioNodeAudioParamValue(nativeBiquadFilterNode, options, 'frequency');\n    assignNativeAudioNodeAudioParamValue(nativeBiquadFilterNode, options, 'gain');\n\n    assignNativeAudioNodeOption(nativeBiquadFilterNode, options, 'type');\n\n    return nativeBiquadFilterNode;\n};\n", "import { assignNativeAudioNodeOptions } from '../helpers/assign-native-audio-node-options';\nimport { TNativeChannelMergerNodeFactoryFactory } from '../types';\n\nexport const createNativeChannelMergerNodeFactory: TNativeChannelMergerNodeFactoryFactory = (\n    nativeAudioContextConstructor,\n    wrapChannelMergerNode\n) => {\n    return (nativeContext, options) => {\n        const nativeChannelMergerNode = nativeContext.createChannelMerger(options.numberOfInputs);\n\n        /*\n         * Bug #20: Safari requires a connection of any kind to treat the input signal correctly.\n         * @todo Unfortunately there is no way to test for this behavior in a synchronous fashion which is why testing for the existence of\n         * the webkitAudioContext is used as a workaround here.\n         */\n        if (nativeAudioContextConstructor !== null && nativeAudioContextConstructor.name === 'webkitAudioContext') {\n            wrapChannelMergerNode(nativeContext, nativeChannelMergerNode);\n        }\n\n        assignNativeAudioNodeOptions(nativeChannelMergerNode, options);\n\n        return nativeChannelMergerNode;\n    };\n};\n", "import { createInvalidStateError } from '../factories/invalid-state-error';\nimport { TNativeChannelSplitterNode } from '../types';\n\nexport const wrapChannelSplitterNode = (channelSplitterNode: TNativeChannelSplitterNode): void => {\n    const channelCount = channelSplitterNode.numberOfOutputs;\n\n    // Bug #97: Safari does not throw an error when attempting to change the channelCount to something other than its initial value.\n    Object.defineProperty(channelSplitterNode, 'channelCount', {\n        get: () => channelCount,\n        set: (value) => {\n            if (value !== channelCount) {\n                throw createInvalidStateError();\n            }\n        }\n    });\n\n    // Bug #30: Safari does not throw an error when attempting to change the channelCountMode to something other than explicit.\n    Object.defineProperty(channelSplitterNode, 'channelCountMode', {\n        get: () => 'explicit',\n        set: (value) => {\n            if (value !== 'explicit') {\n                throw createInvalidStateError();\n            }\n        }\n    });\n\n    // Bug #32: Safari does not throw an error when attempting to change the channelInterpretation to something other than discrete.\n    Object.defineProperty(channelSplitterNode, 'channelInterpretation', {\n        get: () => 'discrete',\n        set: (value) => {\n            if (value !== 'discrete') {\n                throw createInvalidStateError();\n            }\n        }\n    });\n};\n", "import { assignNativeAudioNodeOptions } from '../helpers/assign-native-audio-node-options';\nimport { wrapChannelSplitterNode } from '../helpers/wrap-channel-splitter-node';\nimport { TNativeChannelSplitterNodeFactory } from '../types';\n\nexport const createNativeChannelSplitterNode: TNativeChannelSplitterNodeFactory = (nativeContext, options) => {\n    const nativeChannelSplitterNode = nativeContext.createChannelSplitter(options.numberOfOutputs);\n\n    // Bug #96: Safari does not have the correct channelCount.\n    // Bug #29: Safari does not have the correct channelCountMode.\n    // Bug #31: Safari does not have the correct channelInterpretation.\n    assignNativeAudioNodeOptions(nativeChannelSplitterNode, options);\n\n    // Bug #29, #30, #31, #32, #96 & #97: Only Chrome, Edge & Firefox partially support the spec yet.\n    wrapChannelSplitterNode(nativeChannelSplitterNode);\n\n    return nativeChannelSplitterNode;\n};\n", "import { assignNativeAudioNodeAudioParamValue } from '../helpers/assign-native-audio-node-audio-param-value';\nimport { assignNativeAudioNodeOptions } from '../helpers/assign-native-audio-node-options';\nimport { wrapAudioScheduledSourceNodeStartMethodNegativeParameters } from '../helpers/wrap-audio-scheduled-source-node-start-method-negative-parameters';\nimport { wrapAudioScheduledSourceNodeStopMethodNegativeParameters } from '../helpers/wrap-audio-scheduled-source-node-stop-method-negative-parameters';\nimport { TNativeConstantSourceNodeFactoryFactory } from '../types';\n\nexport const createNativeConstantSourceNodeFactory: TNativeConstantSourceNodeFactoryFactory = (\n    addSilentConnection,\n    cacheTestResult,\n    createNativeConstantSourceNodeFaker,\n    testAudioScheduledSourceNodeStartMethodNegativeParametersSupport,\n    testAudioScheduledSourceNodeStopMethodNegativeParametersSupport\n) => {\n    return (nativeContext, options) => {\n        // Bug #62: Safari does not support ConstantSourceNodes.\n        if (nativeContext.createConstantSource === undefined) {\n            return createNativeConstantSourceNodeFaker(nativeContext, options);\n        }\n\n        const nativeConstantSourceNode = nativeContext.createConstantSource();\n\n        assignNativeAudioNodeOptions(nativeConstantSourceNode, options);\n\n        assignNativeAudioNodeAudioParamValue(nativeConstantSourceNode, options, 'offset');\n\n        // Bug #44: Safari does not throw a RangeError yet.\n        if (\n            !cacheTestResult(testAudioScheduledSourceNodeStartMethodNegativeParametersSupport, () =>\n                testAudioScheduledSourceNodeStartMethodNegativeParametersSupport(nativeContext)\n            )\n        ) {\n            wrapAudioScheduledSourceNodeStartMethodNegativeParameters(nativeConstantSourceNode);\n        }\n\n        // Bug #44: Only Firefox does not throw a RangeError yet.\n        if (\n            !cacheTestResult(testAudioScheduledSourceNodeStopMethodNegativeParametersSupport, () =>\n                testAudioScheduledSourceNodeStopMethodNegativeParametersSupport(nativeContext)\n            )\n        ) {\n            wrapAudioScheduledSourceNodeStopMethodNegativeParameters(nativeConstantSourceNode);\n        }\n\n        // Bug #175: Safari will not fire an ended event if the ConstantSourceNode is unconnected.\n        addSilentConnection(nativeContext, nativeConstantSourceNode);\n\n        return nativeConstantSourceNode;\n    };\n};\n", "import { TNativeAudioNode } from '../types';\n\nexport const interceptConnections = <T extends object>(\n    original: T,\n    interceptor: TNativeAudioNode\n): T & { connect: TNativeAudioNode['connect']; disconnect: TNativeAudioNode['disconnect'] } => {\n    (<T & { connect: TNativeAudioNode['connect'] }>original).connect = interceptor.connect.bind(interceptor);\n\n    (<T & { disconnect: TNativeAudioNode['disconnect'] }>original).disconnect = interceptor.disconnect.bind(interceptor);\n\n    return <T & { connect: TNativeAudioNode['connect']; disconnect: TNativeAudioNode['disconnect'] }>original;\n};\n", "import { interceptConnections } from '../helpers/intercept-connections';\nimport {\n    TNativeAudioBufferSourceNode,\n    TNativeAudioNode,\n    TNativeConstantSourceNode,\n    TNativeConstantSourceNodeFakerFactoryFactory\n} from '../types';\n\nexport const createNativeConstantSourceNodeFakerFactory: TNativeConstantSourceNodeFakerFactoryFactory = (\n    addSilentConnection,\n    createNativeAudioBufferSourceNode,\n    createNativeGainNode,\n    monitorConnections\n) => {\n    return (nativeContext, { offset, ...audioNodeOptions }) => {\n        const audioBuffer = nativeContext.createBuffer(1, 2, 44100);\n        const audioBufferSourceNode = createNativeAudioBufferSourceNode(nativeContext, {\n            buffer: null,\n            channelCount: 2,\n            channelCountMode: 'max',\n            channelInterpretation: 'speakers',\n            loop: false,\n            loopEnd: 0,\n            loopStart: 0,\n            playbackRate: 1\n        });\n        const gainNode = createNativeGainNode(nativeContext, { ...audioNodeOptions, gain: offset });\n\n        // Bug #5: Safari does not support copyFromChannel() and copyToChannel().\n        const channelData = audioBuffer.getChannelData(0);\n\n        // Bug #95: Safari does not play or loop one sample buffers.\n        channelData[0] = 1;\n        channelData[1] = 1;\n\n        audioBufferSourceNode.buffer = audioBuffer;\n        audioBufferSourceNode.loop = true;\n\n        const nativeConstantSourceNodeFaker = {\n            get bufferSize(): undefined {\n                return undefined;\n            },\n            get channelCount(): number {\n                return gainNode.channelCount;\n            },\n            set channelCount(value) {\n                gainNode.channelCount = value;\n            },\n            get channelCountMode(): TNativeConstantSourceNode['channelCountMode'] {\n                return gainNode.channelCountMode;\n            },\n            set channelCountMode(value) {\n                gainNode.channelCountMode = value;\n            },\n            get channelInterpretation(): TNativeConstantSourceNode['channelInterpretation'] {\n                return gainNode.channelInterpretation;\n            },\n            set channelInterpretation(value) {\n                gainNode.channelInterpretation = value;\n            },\n            get context(): TNativeConstantSourceNode['context'] {\n                return gainNode.context;\n            },\n            get inputs(): TNativeAudioNode[] {\n                return [];\n            },\n            get numberOfInputs(): number {\n                return audioBufferSourceNode.numberOfInputs;\n            },\n            get numberOfOutputs(): number {\n                return gainNode.numberOfOutputs;\n            },\n            get offset(): TNativeConstantSourceNode['offset'] {\n                return gainNode.gain;\n            },\n            get onended(): TNativeConstantSourceNode['onended'] {\n                return audioBufferSourceNode.onended;\n            },\n            set onended(value) {\n                audioBufferSourceNode.onended = <TNativeAudioBufferSourceNode['onended']>value;\n            },\n            addEventListener(...args: any[]): void {\n                return audioBufferSourceNode.addEventListener(args[0], args[1], args[2]);\n            },\n            dispatchEvent(...args: any[]): boolean {\n                return audioBufferSourceNode.dispatchEvent(args[0]);\n            },\n            removeEventListener(...args: any[]): void {\n                return audioBufferSourceNode.removeEventListener(args[0], args[1], args[2]);\n            },\n            start(when = 0): void {\n                audioBufferSourceNode.start.call(audioBufferSourceNode, when);\n            },\n            stop(when = 0): void {\n                audioBufferSourceNode.stop.call(audioBufferSourceNode, when);\n            }\n        };\n\n        const whenConnected = () => audioBufferSourceNode.connect(gainNode);\n        const whenDisconnected = () => audioBufferSourceNode.disconnect(gainNode);\n\n        // Bug #175: Safari will not fire an ended event if the AudioBufferSourceNode is unconnected.\n        addSilentConnection(nativeContext, audioBufferSourceNode);\n\n        return monitorConnections(interceptConnections(nativeConstantSourceNodeFaker, gainNode), whenConnected, whenDisconnected);\n    };\n};\n", "import { assignNativeAudioNodeOption } from '../helpers/assign-native-audio-node-option';\nimport { assignNativeAudioNodeOptions } from '../helpers/assign-native-audio-node-options';\nimport { TNativeConvolverNodeFactoryFactory } from '../types';\n\nexport const createNativeConvolverNodeFactory: TNativeConvolverNodeFactoryFactory = (createNotSupportedError, overwriteAccessors) => {\n    return (nativeContext, options) => {\n        const nativeConvolverNode = nativeContext.createConvolver();\n\n        assignNativeAudioNodeOptions(nativeConvolverNode, options);\n\n        // The normalize property needs to be set before setting the buffer.\n        if (options.disableNormalization === nativeConvolverNode.normalize) {\n            nativeConvolverNode.normalize = !options.disableNormalization;\n        }\n\n        assignNativeAudioNodeOption(nativeConvolverNode, options, 'buffer');\n\n        // Bug #113: Safari does allow to set the channelCount to a value larger than 2.\n        if (options.channelCount > 2) {\n            throw createNotSupportedError();\n        }\n\n        overwriteAccessors(\n            nativeConvolverNode,\n            'channelCount',\n            (get) => () => get.call(nativeConvolverNode),\n            (set) => (value) => {\n                if (value > 2) {\n                    throw createNotSupportedError();\n                }\n\n                return set.call(nativeConvolverNode, value);\n            }\n        );\n\n        // Bug #114: Safari allows to set the channelCountMode to 'max'.\n        if (options.channelCountMode === 'max') {\n            throw createNotSupportedError();\n        }\n\n        overwriteAccessors(\n            nativeConvolverNode,\n            'channelCountMode',\n            (get) => () => get.call(nativeConvolverNode),\n            (set) => (value) => {\n                if (value === 'max') {\n                    throw createNotSupportedError();\n                }\n\n                return set.call(nativeConvolverNode, value);\n            }\n        );\n\n        return nativeConvolverNode;\n    };\n};\n", "import { assignNativeAudioNodeAudioParamValue } from '../helpers/assign-native-audio-node-audio-param-value';\nimport { assignNativeAudioNodeOptions } from '../helpers/assign-native-audio-node-options';\nimport { TNativeDelayNodeFactory } from '../types';\n\nexport const createNativeDelayNode: TNativeDelayNodeFactory = (nativeContext, options) => {\n    const nativeDelayNode = nativeContext.createDelay(options.maxDelayTime);\n\n    assignNativeAudioNodeOptions(nativeDelayNode, options);\n\n    assignNativeAudioNodeAudioParamValue(nativeDelayNode, options, 'delayTime');\n\n    return nativeDelayNode;\n};\n", "import { assignNativeAudioNodeAudioParamValue } from '../helpers/assign-native-audio-node-audio-param-value';\nimport { assignNativeAudioNodeOptions } from '../helpers/assign-native-audio-node-options';\nimport { TNativeDynamicsCompressorNodeFactoryFactory } from '../types';\n\nexport const createNativeDynamicsCompressorNodeFactory: TNativeDynamicsCompressorNodeFactoryFactory = (createNotSupportedError) => {\n    return (nativeContext, options) => {\n        const nativeDynamicsCompressorNode = nativeContext.createDynamicsCompressor();\n\n        assignNativeAudioNodeOptions(nativeDynamicsCompressorNode, options);\n\n        // Bug #108: Safari allows a channelCount of three and above.\n        if (options.channelCount > 2) {\n            throw createNotSupportedError();\n        }\n\n        // Bug #109: Only Chrome and Firefox disallow a channelCountMode of 'max'.\n        if (options.channelCountMode === 'max') {\n            throw createNotSupportedError();\n        }\n\n        assignNativeAudioNodeAudioParamValue(nativeDynamicsCompressorNode, options, 'attack');\n        assignNativeAudioNodeAudioParamValue(nativeDynamicsCompressorNode, options, 'knee');\n        assignNativeAudioNodeAudioParamValue(nativeDynamicsCompressorNode, options, 'ratio');\n        assignNativeAudioNodeAudioParamValue(nativeDynamicsCompressorNode, options, 'release');\n        assignNativeAudioNodeAudioParamValue(nativeDynamicsCompressorNode, options, 'threshold');\n\n        return nativeDynamicsCompressorNode;\n    };\n};\n", "import { assignNativeAudioNodeAudioParamValue } from '../helpers/assign-native-audio-node-audio-param-value';\nimport { assignNativeAudioNodeOptions } from '../helpers/assign-native-audio-node-options';\nimport { TNativeGainNodeFactory } from '../types';\n\nexport const createNativeGainNode: TNativeGainNodeFactory = (nativeContext, options) => {\n    const nativeGainNode = nativeContext.createGain();\n\n    assignNativeAudioNodeOptions(nativeGainNode, options);\n\n    assignNativeAudioNodeAudioParamValue(nativeGainNode, options, 'gain');\n\n    return nativeGainNode;\n};\n", "import { assignNativeAudioNodeOptions } from '../helpers/assign-native-audio-node-options';\nimport { TNativeIIRFilterNodeFactoryFactory } from '../types';\n\nexport const createNativeIIRFilterNodeFactory: TNativeIIRFilterNodeFactoryFactory = (createNativeIIRFilterNodeFaker) => {\n    return (nativeContext, baseLatency, options) => {\n        // Bug #9: Safari does not support IIRFilterNodes.\n        if (nativeContext.createIIRFilter === undefined) {\n            return createNativeIIRFilterNodeFaker(nativeContext, baseLatency, options);\n        }\n\n        // @todo TypeScript defines the parameters of createIIRFilter() as arrays of numbers.\n        const nativeIIRFilterNode = nativeContext.createIIRFilter(<number[]>options.feedforward, <number[]>options.feedback);\n\n        assignNativeAudioNodeOptions(nativeIIRFilterNode, options);\n\n        return nativeIIRFilterNode;\n    };\n};\n", "import { computeBufferSize } from '../helpers/compute-buffer-size';\nimport { filterBuffer } from '../helpers/filter-buffer';\nimport { interceptConnections } from '../helpers/intercept-connections';\nimport { TNativeAudioNode, TNativeIIRFilterNode, TNativeIIRFilterNodeFakerFactoryFactory } from '../types';\n\nfunction divide(a: [number, number], b: [number, number]): [number, number] {\n    const denominator = b[0] * b[0] + b[1] * b[1];\n\n    return [(a[0] * b[0] + a[1] * b[1]) / denominator, (a[1] * b[0] - a[0] * b[1]) / denominator];\n}\n\nfunction multiply(a: [number, number], b: [number, number]): [number, number] {\n    return [a[0] * b[0] - a[1] * b[1], a[0] * b[1] + a[1] * b[0]];\n}\n\nfunction evaluatePolynomial(coefficient: Float64Array, z: [number, number]): [number, number] {\n    let result: [number, number] = [0, 0];\n\n    for (let i = coefficient.length - 1; i >= 0; i -= 1) {\n        result = multiply(result, z);\n\n        result[0] += coefficient[i];\n    }\n\n    return result;\n}\n\nexport const createNativeIIRFilterNodeFakerFactory: TNativeIIRFilterNodeFakerFactoryFactory = (\n    createInvalidAccessError,\n    createInvalidStateError,\n    createNativeScriptProcessorNode,\n    createNotSupportedError\n) => {\n    return (nativeContext, baseLatency, { channelCount, channelCountMode, channelInterpretation, feedback, feedforward }) => {\n        const bufferSize = computeBufferSize(baseLatency, nativeContext.sampleRate);\n        const convertedFeedback = feedback instanceof Float64Array ? feedback : new Float64Array(feedback);\n        const convertedFeedforward = feedforward instanceof Float64Array ? feedforward : new Float64Array(feedforward);\n        const feedbackLength = convertedFeedback.length;\n        const feedforwardLength = convertedFeedforward.length;\n        const minLength = Math.min(feedbackLength, feedforwardLength);\n\n        if (feedbackLength === 0 || feedbackLength > 20) {\n            throw createNotSupportedError();\n        }\n\n        if (convertedFeedback[0] === 0) {\n            throw createInvalidStateError();\n        }\n\n        if (feedforwardLength === 0 || feedforwardLength > 20) {\n            throw createNotSupportedError();\n        }\n\n        if (convertedFeedforward[0] === 0) {\n            throw createInvalidStateError();\n        }\n\n        if (convertedFeedback[0] !== 1) {\n            for (let i = 0; i < feedforwardLength; i += 1) {\n                convertedFeedforward[i] /= convertedFeedback[0];\n            }\n\n            for (let i = 1; i < feedbackLength; i += 1) {\n                convertedFeedback[i] /= convertedFeedback[0];\n            }\n        }\n\n        const scriptProcessorNode = createNativeScriptProcessorNode(nativeContext, bufferSize, channelCount, channelCount);\n\n        scriptProcessorNode.channelCount = channelCount;\n        scriptProcessorNode.channelCountMode = channelCountMode;\n        scriptProcessorNode.channelInterpretation = channelInterpretation;\n\n        const bufferLength = 32;\n        const bufferIndexes: number[] = [];\n        const xBuffers: Float32Array[] = [];\n        const yBuffers: Float32Array[] = [];\n\n        for (let i = 0; i < channelCount; i += 1) {\n            bufferIndexes.push(0);\n\n            const xBuffer = new Float32Array(bufferLength);\n            const yBuffer = new Float32Array(bufferLength);\n\n            xBuffer.fill(0);\n            yBuffer.fill(0);\n\n            xBuffers.push(xBuffer);\n            yBuffers.push(yBuffer);\n        }\n\n        // tslint:disable-next-line:deprecation\n        scriptProcessorNode.onaudioprocess = (event: AudioProcessingEvent) => {\n            const inputBuffer = event.inputBuffer;\n            const outputBuffer = event.outputBuffer;\n\n            const numberOfChannels = inputBuffer.numberOfChannels;\n\n            for (let i = 0; i < numberOfChannels; i += 1) {\n                const input = inputBuffer.getChannelData(i);\n                const output = outputBuffer.getChannelData(i);\n\n                bufferIndexes[i] = filterBuffer(\n                    convertedFeedback,\n                    feedbackLength,\n                    convertedFeedforward,\n                    feedforwardLength,\n                    minLength,\n                    xBuffers[i],\n                    yBuffers[i],\n                    bufferIndexes[i],\n                    bufferLength,\n                    input,\n                    output\n                );\n            }\n        };\n\n        const nyquist = nativeContext.sampleRate / 2;\n\n        const nativeIIRFilterNodeFaker = {\n            get bufferSize(): number {\n                return bufferSize;\n            },\n            get channelCount(): number {\n                return scriptProcessorNode.channelCount;\n            },\n            set channelCount(value) {\n                scriptProcessorNode.channelCount = value;\n            },\n            get channelCountMode(): TNativeIIRFilterNode['channelCountMode'] {\n                return scriptProcessorNode.channelCountMode;\n            },\n            set channelCountMode(value) {\n                scriptProcessorNode.channelCountMode = value;\n            },\n            get channelInterpretation(): TNativeIIRFilterNode['channelInterpretation'] {\n                return scriptProcessorNode.channelInterpretation;\n            },\n            set channelInterpretation(value) {\n                scriptProcessorNode.channelInterpretation = value;\n            },\n            get context(): TNativeIIRFilterNode['context'] {\n                return scriptProcessorNode.context;\n            },\n            get inputs(): TNativeAudioNode[] {\n                return [scriptProcessorNode];\n            },\n            get numberOfInputs(): number {\n                return scriptProcessorNode.numberOfInputs;\n            },\n            get numberOfOutputs(): number {\n                return scriptProcessorNode.numberOfOutputs;\n            },\n            addEventListener(...args: any[]): void {\n                // @todo Dissallow adding an audioprocess listener.\n                return scriptProcessorNode.addEventListener(args[0], args[1], args[2]);\n            },\n            dispatchEvent(...args: any[]): boolean {\n                return scriptProcessorNode.dispatchEvent(args[0]);\n            },\n            getFrequencyResponse(frequencyHz: Float32Array, magResponse: Float32Array, phaseResponse: Float32Array): void {\n                if (frequencyHz.length !== magResponse.length || magResponse.length !== phaseResponse.length) {\n                    throw createInvalidAccessError();\n                }\n\n                const length = frequencyHz.length;\n\n                for (let i = 0; i < length; i += 1) {\n                    const omega = -Math.PI * (frequencyHz[i] / nyquist);\n                    const z: [number, number] = [Math.cos(omega), Math.sin(omega)];\n                    const numerator = evaluatePolynomial(convertedFeedforward, z);\n                    const denominator = evaluatePolynomial(convertedFeedback, z);\n                    const response = divide(numerator, denominator);\n\n                    magResponse[i] = Math.sqrt(response[0] * response[0] + response[1] * response[1]);\n                    phaseResponse[i] = Math.atan2(response[1], response[0]);\n                }\n            },\n            removeEventListener(...args: any[]): void {\n                return scriptProcessorNode.removeEventListener(args[0], args[1], args[2]);\n            }\n        };\n\n        return interceptConnections(nativeIIRFilterNodeFaker, scriptProcessorNode);\n    };\n};\n", "import { TNativeMediaElementAudioSourceNodeFactory } from '../types';\n\nexport const createNativeMediaElementAudioSourceNode: TNativeMediaElementAudioSourceNodeFactory = (nativeAudioContext, options) => {\n    return nativeAudioContext.createMediaElementSource(options.mediaElement);\n};\n", "import { assignNativeAudioNodeOptions } from '../helpers/assign-native-audio-node-options';\nimport { TNativeMediaStreamAudioDestinationNodeFactory } from '../types';\n\nexport const createNativeMediaStreamAudioDestinationNode: TNativeMediaStreamAudioDestinationNodeFactory = (nativeAudioContext, options) => {\n    const nativeMediaStreamAudioDestinationNode = nativeAudioContext.createMediaStreamDestination();\n\n    assignNativeAudioNodeOptions(nativeMediaStreamAudioDestinationNode, options);\n\n    // Bug #174: Safari does expose a wrong numberOfOutputs.\n    if (nativeMediaStreamAudioDestinationNode.numberOfOutputs === 1) {\n        Object.defineProperty(nativeMediaStreamAudioDestinationNode, 'numberOfOutputs', { get: () => 0 });\n    }\n\n    return nativeMediaStreamAudioDestinationNode;\n};\n", "import { TNativeMediaStreamAudioSourceNodeFactory } from '../types';\n\nexport const createNativeMediaStreamAudioSourceNode: TNativeMediaStreamAudioSourceNodeFactory = (nativeAudioContext, { mediaStream }) => {\n    const audioStreamTracks = mediaStream.getAudioTracks();\n    /*\n     * Bug #151: Safari does not use the audio track as input anymore if it gets removed from the mediaStream after construction.\n     * Bug #159: Safari picks the first audio track if the MediaStream has more than one audio track.\n     */\n    audioStreamTracks.sort((a, b) => (a.id < b.id ? -1 : a.id > b.id ? 1 : 0));\n\n    const filteredAudioStreamTracks = audioStreamTracks.slice(0, 1);\n\n    const nativeMediaStreamAudioSourceNode = nativeAudioContext.createMediaStreamSource(new MediaStream(filteredAudioStreamTracks));\n\n    /*\n     * Bug #151 & #159: The given mediaStream gets reconstructed before it gets passed to the native node which is why the accessor needs\n     * to be overwritten as it would otherwise expose the reconstructed version.\n     */\n    Object.defineProperty(nativeMediaStreamAudioSourceNode, 'mediaStream', { value: mediaStream });\n\n    return nativeMediaStreamAudioSourceNode;\n};\n", "import { TNativeMediaStreamTrackAudioSourceNodeFactoryFactory } from '../types';\n\nexport const createNativeMediaStreamTrackAudioSourceNodeFactory: TNativeMediaStreamTrackAudioSourceNodeFactoryFactory = (\n    createInvalidStateError,\n    isNativeOfflineAudioContext\n) => {\n    return (nativeAudioContext, { mediaStreamTrack }) => {\n        // Bug #121: Only Firefox does yet support the MediaStreamTrackAudioSourceNode.\n        if (typeof nativeAudioContext.createMediaStreamTrackSource === 'function') {\n            return nativeAudioContext.createMediaStreamTrackSource(mediaStreamTrack);\n        }\n\n        const mediaStream = new MediaStream([mediaStreamTrack]);\n        const nativeMediaStreamAudioSourceNode = nativeAudioContext.createMediaStreamSource(mediaStream);\n\n        // Bug #120: Firefox does not throw an error if the mediaStream has no audio track.\n        if (mediaStreamTrack.kind !== 'audio') {\n            throw createInvalidStateError();\n        }\n\n        // Bug #172: Safari allows to create a MediaStreamAudioSourceNode with an OfflineAudioContext.\n        if (isNativeOfflineAudioContext(nativeAudioContext)) {\n            throw new TypeError();\n        }\n\n        return nativeMediaStreamAudioSourceNode;\n    };\n};\n", "import { TNativeOfflineAudioContextConstructorFactory } from '../types';\n\nexport const createNativeOfflineAudioContextConstructor: TNativeOfflineAudioContextConstructorFactory = (window) => {\n    if (window === null) {\n        return null;\n    }\n\n    if (window.hasOwnProperty('OfflineAudioContext')) {\n        return window.OfflineAudioContext;\n    }\n\n    return window.hasOwnProperty('webkitOfflineAudioContext') ? (<any>window).webkitOfflineAudioContext : null;\n};\n", "import { assignNativeAudioNodeAudioParamValue } from '../helpers/assign-native-audio-node-audio-param-value';\nimport { assignNativeAudioNodeOption } from '../helpers/assign-native-audio-node-option';\nimport { assignNativeAudioNodeOptions } from '../helpers/assign-native-audio-node-options';\nimport { wrapAudioScheduledSourceNodeStartMethodNegativeParameters } from '../helpers/wrap-audio-scheduled-source-node-start-method-negative-parameters';\nimport { wrapAudioScheduledSourceNodeStopMethodNegativeParameters } from '../helpers/wrap-audio-scheduled-source-node-stop-method-negative-parameters';\nimport { TNativeOscillatorNodeFactoryFactory } from '../types';\n\nexport const createNativeOscillatorNodeFactory: TNativeOscillatorNodeFactoryFactory = (\n    addSilentConnection,\n    cacheTestResult,\n    testAudioScheduledSourceNodeStartMethodNegativeParametersSupport,\n    testAudioScheduledSourceNodeStopMethodConsecutiveCallsSupport,\n    testAudioScheduledSourceNodeStopMethodNegativeParametersSupport,\n    wrapAudioScheduledSourceNodeStopMethodConsecutiveCalls\n) => {\n    return (nativeContext, options) => {\n        const nativeOscillatorNode = nativeContext.createOscillator();\n\n        assignNativeAudioNodeOptions(nativeOscillatorNode, options);\n\n        assignNativeAudioNodeAudioParamValue(nativeOscillatorNode, options, 'detune');\n        assignNativeAudioNodeAudioParamValue(nativeOscillatorNode, options, 'frequency');\n\n        if (options.periodicWave !== undefined) {\n            nativeOscillatorNode.setPeriodicWave(options.periodicWave);\n        } else {\n            assignNativeAudioNodeOption(nativeOscillatorNode, options, 'type');\n        }\n\n        // Bug #44: Only Chrome & Edge throw a RangeError yet.\n        if (\n            !cacheTestResult(testAudioScheduledSourceNodeStartMethodNegativeParametersSupport, () =>\n                testAudioScheduledSourceNodeStartMethodNegativeParametersSupport(nativeContext)\n            )\n        ) {\n            wrapAudioScheduledSourceNodeStartMethodNegativeParameters(nativeOscillatorNode);\n        }\n\n        // Bug #19: Safari does not ignore calls to stop() of an already stopped AudioBufferSourceNode.\n        if (\n            !cacheTestResult(testAudioScheduledSourceNodeStopMethodConsecutiveCallsSupport, () =>\n                testAudioScheduledSourceNodeStopMethodConsecutiveCallsSupport(nativeContext)\n            )\n        ) {\n            wrapAudioScheduledSourceNodeStopMethodConsecutiveCalls(nativeOscillatorNode, nativeContext);\n        }\n\n        // Bug #44: Only Firefox does not throw a RangeError yet.\n        if (\n            !cacheTestResult(testAudioScheduledSourceNodeStopMethodNegativeParametersSupport, () =>\n                testAudioScheduledSourceNodeStopMethodNegativeParametersSupport(nativeContext)\n            )\n        ) {\n            wrapAudioScheduledSourceNodeStopMethodNegativeParameters(nativeOscillatorNode);\n        }\n\n        // Bug #175: Safari will not fire an ended event if the OscillatorNode is unconnected.\n        addSilentConnection(nativeContext, nativeOscillatorNode);\n\n        return nativeOscillatorNode;\n    };\n};\n", "import { assignNativeAudioNodeAudioParamValue } from '../helpers/assign-native-audio-node-audio-param-value';\nimport { assignNativeAudioNodeOption } from '../helpers/assign-native-audio-node-option';\nimport { assignNativeAudioNodeOptions } from '../helpers/assign-native-audio-node-options';\nimport { TNativePannerNodeFactoryFactory } from '../types';\n\nexport const createNativePannerNodeFactory: TNativePannerNodeFactoryFactory = (createNativePannerNodeFaker) => {\n    return (nativeContext, options) => {\n        const nativePannerNode = nativeContext.createPanner();\n\n        // Bug #124: Safari does not support modifying the orientation and the position with AudioParams.\n        if (nativePannerNode.orientationX === undefined) {\n            return createNativePannerNodeFaker(nativeContext, options);\n        }\n\n        assignNativeAudioNodeOptions(nativePannerNode, options);\n\n        assignNativeAudioNodeAudioParamValue(nativePannerNode, options, 'orientationX');\n        assignNativeAudioNodeAudioParamValue(nativePannerNode, options, 'orientationY');\n        assignNativeAudioNodeAudioParamValue(nativePannerNode, options, 'orientationZ');\n        assignNativeAudioNodeAudioParamValue(nativePannerNode, options, 'positionX');\n        assignNativeAudioNodeAudioParamValue(nativePannerNode, options, 'positionY');\n        assignNativeAudioNodeAudioParamValue(nativePannerNode, options, 'positionZ');\n\n        assignNativeAudioNodeOption(nativePannerNode, options, 'coneInnerAngle');\n        assignNativeAudioNodeOption(nativePannerNode, options, 'coneOuterAngle');\n        assignNativeAudioNodeOption(nativePannerNode, options, 'coneOuterGain');\n        assignNativeAudioNodeOption(nativePannerNode, options, 'distanceModel');\n        assignNativeAudioNodeOption(nativePannerNode, options, 'maxDistance');\n        assignNativeAudioNodeOption(nativePannerNode, options, 'panningModel');\n        assignNativeAudioNodeOption(nativePannerNode, options, 'refDistance');\n        assignNativeAudioNodeOption(nativePannerNode, options, 'rolloffFactor');\n\n        return nativePannerNode;\n    };\n};\n", "import { assignNativeAudioNodeOptions } from '../helpers/assign-native-audio-node-options';\nimport { interceptConnections } from '../helpers/intercept-connections';\nimport { TNativeAudioNode, TNativePannerNode, TNativePannerNodeFakerFactoryFactory } from '../types';\n\nexport const createNativePannerNodeFakerFactory: TNativePannerNodeFakerFactoryFactory = (\n    connectNativeAudioNodeToNativeAudioNode,\n    createInvalidStateError,\n    createNativeChannelMergerNode,\n    createNativeGainNode,\n    createNativeScriptProcessorNode,\n    createNativeWaveShaperNode,\n    createNotSupportedError,\n    disconnectNativeAudioNodeFromNativeAudioNode,\n    getFirstSample,\n    monitorConnections\n) => {\n    return (\n        nativeContext,\n        {\n            coneInnerAngle,\n            coneOuterAngle,\n            coneOuterGain,\n            distanceModel,\n            maxDistance,\n            orientationX,\n            orientationY,\n            orientationZ,\n            panningModel,\n            positionX,\n            positionY,\n            positionZ,\n            refDistance,\n            rolloffFactor,\n            ...audioNodeOptions\n        }\n    ) => {\n        const pannerNode = nativeContext.createPanner();\n\n        // Bug #125: Safari does not throw an error yet.\n        if (audioNodeOptions.channelCount > 2) {\n            throw createNotSupportedError();\n        }\n\n        // Bug #126: Safari does not throw an error yet.\n        if (audioNodeOptions.channelCountMode === 'max') {\n            throw createNotSupportedError();\n        }\n\n        assignNativeAudioNodeOptions(pannerNode, audioNodeOptions);\n\n        const SINGLE_CHANNEL_OPTIONS = {\n            channelCount: 1,\n            channelCountMode: 'explicit',\n            channelInterpretation: 'discrete'\n        } as const;\n\n        const channelMergerNode = createNativeChannelMergerNode(nativeContext, {\n            ...SINGLE_CHANNEL_OPTIONS,\n            channelInterpretation: 'speakers',\n            numberOfInputs: 6\n        });\n        const inputGainNode = createNativeGainNode(nativeContext, { ...audioNodeOptions, gain: 1 });\n        const orientationXGainNode = createNativeGainNode(nativeContext, { ...SINGLE_CHANNEL_OPTIONS, gain: 1 });\n        const orientationYGainNode = createNativeGainNode(nativeContext, { ...SINGLE_CHANNEL_OPTIONS, gain: 0 });\n        const orientationZGainNode = createNativeGainNode(nativeContext, { ...SINGLE_CHANNEL_OPTIONS, gain: 0 });\n        const positionXGainNode = createNativeGainNode(nativeContext, { ...SINGLE_CHANNEL_OPTIONS, gain: 0 });\n        const positionYGainNode = createNativeGainNode(nativeContext, { ...SINGLE_CHANNEL_OPTIONS, gain: 0 });\n        const positionZGainNode = createNativeGainNode(nativeContext, { ...SINGLE_CHANNEL_OPTIONS, gain: 0 });\n        const scriptProcessorNode = createNativeScriptProcessorNode(nativeContext, 256, 6, 1);\n        const waveShaperNode = createNativeWaveShaperNode(nativeContext, {\n            ...SINGLE_CHANNEL_OPTIONS,\n            curve: new Float32Array([1, 1]),\n            oversample: 'none'\n        });\n\n        let lastOrientation: [number, number, number] = [orientationX, orientationY, orientationZ];\n        let lastPosition: [number, number, number] = [positionX, positionY, positionZ];\n\n        const buffer = new Float32Array(1);\n\n        // tslint:disable-next-line:deprecation\n        scriptProcessorNode.onaudioprocess = ({ inputBuffer }) => {\n            const orientation: [number, number, number] = [\n                getFirstSample(inputBuffer, buffer, 0),\n                getFirstSample(inputBuffer, buffer, 1),\n                getFirstSample(inputBuffer, buffer, 2)\n            ];\n\n            if (orientation.some((value, index) => value !== lastOrientation[index])) {\n                pannerNode.setOrientation(...orientation); // tslint:disable-line:deprecation\n\n                lastOrientation = orientation;\n            }\n\n            const positon: [number, number, number] = [\n                getFirstSample(inputBuffer, buffer, 3),\n                getFirstSample(inputBuffer, buffer, 4),\n                getFirstSample(inputBuffer, buffer, 5)\n            ];\n\n            if (positon.some((value, index) => value !== lastPosition[index])) {\n                pannerNode.setPosition(...positon); // tslint:disable-line:deprecation\n\n                lastPosition = positon;\n            }\n        };\n\n        Object.defineProperty(orientationYGainNode.gain, 'defaultValue', { get: () => 0 });\n        Object.defineProperty(orientationZGainNode.gain, 'defaultValue', { get: () => 0 });\n        Object.defineProperty(positionXGainNode.gain, 'defaultValue', { get: () => 0 });\n        Object.defineProperty(positionYGainNode.gain, 'defaultValue', { get: () => 0 });\n        Object.defineProperty(positionZGainNode.gain, 'defaultValue', { get: () => 0 });\n\n        const nativePannerNodeFaker = {\n            get bufferSize(): undefined {\n                return undefined;\n            },\n            get channelCount(): number {\n                return pannerNode.channelCount;\n            },\n            set channelCount(value) {\n                // Bug #125: Safari does not throw an error yet.\n                if (value > 2) {\n                    throw createNotSupportedError();\n                }\n\n                inputGainNode.channelCount = value;\n                pannerNode.channelCount = value;\n            },\n            get channelCountMode(): TNativePannerNode['channelCountMode'] {\n                return pannerNode.channelCountMode;\n            },\n            set channelCountMode(value) {\n                // Bug #126: Safari does not throw an error yet.\n                if (value === 'max') {\n                    throw createNotSupportedError();\n                }\n\n                inputGainNode.channelCountMode = value;\n                pannerNode.channelCountMode = value;\n            },\n            get channelInterpretation(): TNativePannerNode['channelInterpretation'] {\n                return pannerNode.channelInterpretation;\n            },\n            set channelInterpretation(value) {\n                inputGainNode.channelInterpretation = value;\n                pannerNode.channelInterpretation = value;\n            },\n            get coneInnerAngle(): TNativePannerNode['coneInnerAngle'] {\n                return pannerNode.coneInnerAngle;\n            },\n            set coneInnerAngle(value) {\n                pannerNode.coneInnerAngle = value;\n            },\n            get coneOuterAngle(): TNativePannerNode['coneOuterAngle'] {\n                return pannerNode.coneOuterAngle;\n            },\n            set coneOuterAngle(value) {\n                pannerNode.coneOuterAngle = value;\n            },\n            get coneOuterGain(): TNativePannerNode['coneOuterGain'] {\n                return pannerNode.coneOuterGain;\n            },\n            set coneOuterGain(value) {\n                // Bug #127: Safari does not throw an InvalidStateError yet.\n                if (value < 0 || value > 1) {\n                    throw createInvalidStateError();\n                }\n\n                pannerNode.coneOuterGain = value;\n            },\n            get context(): TNativePannerNode['context'] {\n                return pannerNode.context;\n            },\n            get distanceModel(): TNativePannerNode['distanceModel'] {\n                return pannerNode.distanceModel;\n            },\n            set distanceModel(value) {\n                pannerNode.distanceModel = value;\n            },\n            get inputs(): TNativeAudioNode[] {\n                return [inputGainNode];\n            },\n            get maxDistance(): TNativePannerNode['maxDistance'] {\n                return pannerNode.maxDistance;\n            },\n            set maxDistance(value) {\n                // Bug #128: Safari does not throw an error yet.\n                if (value < 0) {\n                    throw new RangeError();\n                }\n\n                pannerNode.maxDistance = value;\n            },\n            get numberOfInputs(): number {\n                return pannerNode.numberOfInputs;\n            },\n            get numberOfOutputs(): number {\n                return pannerNode.numberOfOutputs;\n            },\n            get orientationX(): TNativePannerNode['orientationX'] {\n                return orientationXGainNode.gain;\n            },\n            get orientationY(): TNativePannerNode['orientationY'] {\n                return orientationYGainNode.gain;\n            },\n            get orientationZ(): TNativePannerNode['orientationZ'] {\n                return orientationZGainNode.gain;\n            },\n            get panningModel(): TNativePannerNode['panningModel'] {\n                return pannerNode.panningModel;\n            },\n            set panningModel(value) {\n                pannerNode.panningModel = value;\n            },\n            get positionX(): TNativePannerNode['positionX'] {\n                return positionXGainNode.gain;\n            },\n            get positionY(): TNativePannerNode['positionY'] {\n                return positionYGainNode.gain;\n            },\n            get positionZ(): TNativePannerNode['positionZ'] {\n                return positionZGainNode.gain;\n            },\n            get refDistance(): TNativePannerNode['refDistance'] {\n                return pannerNode.refDistance;\n            },\n            set refDistance(value) {\n                // Bug #129: Safari does not throw an error yet.\n                if (value < 0) {\n                    throw new RangeError();\n                }\n\n                pannerNode.refDistance = value;\n            },\n            get rolloffFactor(): TNativePannerNode['rolloffFactor'] {\n                return pannerNode.rolloffFactor;\n            },\n            set rolloffFactor(value) {\n                // Bug #130: Safari does not throw an error yet.\n                if (value < 0) {\n                    throw new RangeError();\n                }\n\n                pannerNode.rolloffFactor = value;\n            },\n            addEventListener(...args: any[]): void {\n                return inputGainNode.addEventListener(args[0], args[1], args[2]);\n            },\n            dispatchEvent(...args: any[]): boolean {\n                return inputGainNode.dispatchEvent(args[0]);\n            },\n            removeEventListener(...args: any[]): void {\n                return inputGainNode.removeEventListener(args[0], args[1], args[2]);\n            }\n        };\n\n        if (coneInnerAngle !== nativePannerNodeFaker.coneInnerAngle) {\n            nativePannerNodeFaker.coneInnerAngle = coneInnerAngle;\n        }\n\n        if (coneOuterAngle !== nativePannerNodeFaker.coneOuterAngle) {\n            nativePannerNodeFaker.coneOuterAngle = coneOuterAngle;\n        }\n\n        if (coneOuterGain !== nativePannerNodeFaker.coneOuterGain) {\n            nativePannerNodeFaker.coneOuterGain = coneOuterGain;\n        }\n\n        if (distanceModel !== nativePannerNodeFaker.distanceModel) {\n            nativePannerNodeFaker.distanceModel = distanceModel;\n        }\n\n        if (maxDistance !== nativePannerNodeFaker.maxDistance) {\n            nativePannerNodeFaker.maxDistance = maxDistance;\n        }\n\n        if (orientationX !== nativePannerNodeFaker.orientationX.value) {\n            nativePannerNodeFaker.orientationX.value = orientationX;\n        }\n\n        if (orientationY !== nativePannerNodeFaker.orientationY.value) {\n            nativePannerNodeFaker.orientationY.value = orientationY;\n        }\n\n        if (orientationZ !== nativePannerNodeFaker.orientationZ.value) {\n            nativePannerNodeFaker.orientationZ.value = orientationZ;\n        }\n\n        if (panningModel !== nativePannerNodeFaker.panningModel) {\n            nativePannerNodeFaker.panningModel = panningModel;\n        }\n\n        if (positionX !== nativePannerNodeFaker.positionX.value) {\n            nativePannerNodeFaker.positionX.value = positionX;\n        }\n\n        if (positionY !== nativePannerNodeFaker.positionY.value) {\n            nativePannerNodeFaker.positionY.value = positionY;\n        }\n\n        if (positionZ !== nativePannerNodeFaker.positionZ.value) {\n            nativePannerNodeFaker.positionZ.value = positionZ;\n        }\n\n        if (refDistance !== nativePannerNodeFaker.refDistance) {\n            nativePannerNodeFaker.refDistance = refDistance;\n        }\n\n        if (rolloffFactor !== nativePannerNodeFaker.rolloffFactor) {\n            nativePannerNodeFaker.rolloffFactor = rolloffFactor;\n        }\n\n        if (lastOrientation[0] !== 1 || lastOrientation[1] !== 0 || lastOrientation[2] !== 0) {\n            pannerNode.setOrientation(...lastOrientation); // tslint:disable-line:deprecation\n        }\n\n        if (lastPosition[0] !== 0 || lastPosition[1] !== 0 || lastPosition[2] !== 0) {\n            pannerNode.setPosition(...lastPosition); // tslint:disable-line:deprecation\n        }\n\n        const whenConnected = () => {\n            inputGainNode.connect(pannerNode);\n\n            // Bug #119: Safari does not fully support the WaveShaperNode.\n            connectNativeAudioNodeToNativeAudioNode(inputGainNode, waveShaperNode, 0, 0);\n\n            waveShaperNode.connect(orientationXGainNode).connect(channelMergerNode, 0, 0);\n            waveShaperNode.connect(orientationYGainNode).connect(channelMergerNode, 0, 1);\n            waveShaperNode.connect(orientationZGainNode).connect(channelMergerNode, 0, 2);\n            waveShaperNode.connect(positionXGainNode).connect(channelMergerNode, 0, 3);\n            waveShaperNode.connect(positionYGainNode).connect(channelMergerNode, 0, 4);\n            waveShaperNode.connect(positionZGainNode).connect(channelMergerNode, 0, 5);\n\n            channelMergerNode.connect(scriptProcessorNode).connect(nativeContext.destination);\n        };\n        const whenDisconnected = () => {\n            inputGainNode.disconnect(pannerNode);\n\n            // Bug #119: Safari does not fully support the WaveShaperNode.\n            disconnectNativeAudioNodeFromNativeAudioNode(inputGainNode, waveShaperNode, 0, 0);\n\n            waveShaperNode.disconnect(orientationXGainNode);\n            orientationXGainNode.disconnect(channelMergerNode);\n            waveShaperNode.disconnect(orientationYGainNode);\n            orientationYGainNode.disconnect(channelMergerNode);\n            waveShaperNode.disconnect(orientationZGainNode);\n            orientationZGainNode.disconnect(channelMergerNode);\n            waveShaperNode.disconnect(positionXGainNode);\n            positionXGainNode.disconnect(channelMergerNode);\n            waveShaperNode.disconnect(positionYGainNode);\n            positionYGainNode.disconnect(channelMergerNode);\n            waveShaperNode.disconnect(positionZGainNode);\n            positionZGainNode.disconnect(channelMergerNode);\n\n            channelMergerNode.disconnect(scriptProcessorNode);\n            scriptProcessorNode.disconnect(nativeContext.destination);\n        };\n\n        return monitorConnections(interceptConnections(nativePannerNodeFaker, pannerNode), whenConnected, whenDisconnected);\n    };\n};\n", "import { TNativePeriodicWaveFactoryFactory } from '../types';\n\nexport const createNativePeriodicWaveFactory: TNativePeriodicWaveFactoryFactory = (createIndexSizeError) => {\n    return (nativeContext, { disableNormalization, imag, real }) => {\n        // Bug #180: Safari does not allow to use ordinary arrays.\n        const convertedImag = imag instanceof Float32Array ? imag : new Float32Array(imag);\n        const convertedReal = real instanceof Float32Array ? real : new Float32Array(real);\n\n        const nativePeriodicWave = nativeContext.createPeriodicWave(convertedReal, convertedImag, { disableNormalization });\n\n        // Bug #181: Safari does not throw an IndexSizeError so far if the given arrays have less than two values.\n        if (Array.from(imag).length < 2) {\n            throw createIndexSizeError();\n        }\n\n        return nativePeriodicWave;\n    };\n};\n", "import { TNativeScriptProcessorNodeFactory } from '../types';\n\nexport const createNativeScriptProcessorNode: TNativeScriptProcessorNodeFactory = (\n    nativeContext,\n    bufferSize,\n    numberOfInputChannels,\n    numberOfOutputChannels\n) => {\n    return nativeContext.createScriptProcessor(bufferSize, numberOfInputChannels, numberOfOutputChannels); // tslint:disable-line deprecation\n};\n", "import { assignNativeAudioNodeAudioParamValue } from '../helpers/assign-native-audio-node-audio-param-value';\nimport { assignNativeAudioNodeOptions } from '../helpers/assign-native-audio-node-options';\nimport { TNativeStereoPannerNodeFactoryFactory } from '../types';\n\nexport const createNativeStereoPannerNodeFactory: TNativeStereoPannerNodeFactoryFactory = (\n    createNativeStereoPannerNodeFaker,\n    createNotSupportedError\n) => {\n    return (nativeContext, options) => {\n        const channelCountMode = options.channelCountMode;\n\n        /*\n         * Bug #105: The channelCountMode of 'clamped-max' should be supported. However it is not possible to write a polyfill for Safari\n         * which supports it and therefore it can't be supported at all.\n         */\n        if (channelCountMode === 'clamped-max') {\n            throw createNotSupportedError();\n        }\n\n        // Bug #105: Safari does not support the StereoPannerNode.\n        if (nativeContext.createStereoPanner === undefined) {\n            return createNativeStereoPannerNodeFaker(nativeContext, options);\n        }\n\n        const nativeStereoPannerNode = nativeContext.createStereoPanner();\n\n        assignNativeAudioNodeOptions(nativeStereoPannerNode, options);\n\n        assignNativeAudioNodeAudioParamValue(nativeStereoPannerNode, options, 'pan');\n\n        /*\n         * Bug #105: The channelCountMode of 'clamped-max' should be supported. However it is not possible to write a polyfill for Safari\n         * which supports it and therefore it can't be supported at all.\n         */\n        Object.defineProperty(nativeStereoPannerNode, 'channelCountMode', {\n            get: () => channelCountMode,\n            set: (value) => {\n                if (value !== channelCountMode) {\n                    throw createNotSupportedError();\n                }\n            }\n        });\n\n        return nativeStereoPannerNode;\n    };\n};\n", "import { interceptConnections } from '../helpers/intercept-connections';\nimport { INativeWaveShaperNodeFaker } from '../interfaces';\nimport {\n    TNativeAudioNode,\n    TNativeChannelMergerNode,\n    TNativeContext,\n    TNativeGainNode,\n    TNativeStereoPannerNode,\n    TNativeStereoPannerNodeFakerFactoryFactory\n} from '../types';\n\nexport const createNativeStereoPannerNodeFakerFactory: TNativeStereoPannerNodeFakerFactoryFactory = (\n    createNativeChannelMergerNode,\n    createNativeChannelSplitterNode,\n    createNativeGainNode,\n    createNativeWaveShaperNode,\n    createNotSupportedError,\n    monitorConnections\n) => {\n    // The curve has a size of 14bit plus 1 value to have an exact representation for zero. This value has been determined experimentally.\n    const CURVE_SIZE = 16385;\n    const DC_CURVE = new Float32Array([1, 1]);\n    const HALF_PI = Math.PI / 2;\n    const SINGLE_CHANNEL_OPTIONS = { channelCount: 1, channelCountMode: 'explicit', channelInterpretation: 'discrete' } as const;\n    const SINGLE_CHANNEL_WAVE_SHAPER_OPTIONS = { ...SINGLE_CHANNEL_OPTIONS, oversample: 'none' } as const;\n\n    const buildInternalGraphForMono = (\n        nativeContext: TNativeContext,\n        inputGainNode: TNativeGainNode,\n        panGainNode: TNativeGainNode,\n        channelMergerNode: TNativeChannelMergerNode\n    ) => {\n        const leftWaveShaperCurve = new Float32Array(CURVE_SIZE);\n        const rightWaveShaperCurve = new Float32Array(CURVE_SIZE);\n\n        for (let i = 0; i < CURVE_SIZE; i += 1) {\n            const x = (i / (CURVE_SIZE - 1)) * HALF_PI;\n\n            leftWaveShaperCurve[i] = Math.cos(x);\n            rightWaveShaperCurve[i] = Math.sin(x);\n        }\n\n        const leftGainNode = createNativeGainNode(nativeContext, { ...SINGLE_CHANNEL_OPTIONS, gain: 0 });\n        // Bug #119: Safari does not fully support the WaveShaperNode.\n        const leftWaveShaperNode = <INativeWaveShaperNodeFaker>(\n            createNativeWaveShaperNode(nativeContext, { ...SINGLE_CHANNEL_WAVE_SHAPER_OPTIONS, curve: leftWaveShaperCurve })\n        );\n        // Bug #119: Safari does not fully support the WaveShaperNode.\n        const panWaveShaperNode = <INativeWaveShaperNodeFaker>(\n            createNativeWaveShaperNode(nativeContext, { ...SINGLE_CHANNEL_WAVE_SHAPER_OPTIONS, curve: DC_CURVE })\n        );\n        const rightGainNode = createNativeGainNode(nativeContext, { ...SINGLE_CHANNEL_OPTIONS, gain: 0 });\n        // Bug #119: Safari does not fully support the WaveShaperNode.\n        const rightWaveShaperNode = <INativeWaveShaperNodeFaker>(\n            createNativeWaveShaperNode(nativeContext, { ...SINGLE_CHANNEL_WAVE_SHAPER_OPTIONS, curve: rightWaveShaperCurve })\n        );\n\n        return {\n            connectGraph(): void {\n                inputGainNode.connect(leftGainNode);\n                inputGainNode.connect(panWaveShaperNode.inputs === undefined ? panWaveShaperNode : panWaveShaperNode.inputs[0]);\n                inputGainNode.connect(rightGainNode);\n\n                panWaveShaperNode.connect(panGainNode);\n\n                panGainNode.connect(leftWaveShaperNode.inputs === undefined ? leftWaveShaperNode : leftWaveShaperNode.inputs[0]);\n                panGainNode.connect(rightWaveShaperNode.inputs === undefined ? rightWaveShaperNode : rightWaveShaperNode.inputs[0]);\n\n                leftWaveShaperNode.connect(leftGainNode.gain);\n                rightWaveShaperNode.connect(rightGainNode.gain);\n\n                leftGainNode.connect(channelMergerNode, 0, 0);\n                rightGainNode.connect(channelMergerNode, 0, 1);\n            },\n            disconnectGraph(): void {\n                inputGainNode.disconnect(leftGainNode);\n                inputGainNode.disconnect(panWaveShaperNode.inputs === undefined ? panWaveShaperNode : panWaveShaperNode.inputs[0]);\n                inputGainNode.disconnect(rightGainNode);\n\n                panWaveShaperNode.disconnect(panGainNode);\n\n                panGainNode.disconnect(leftWaveShaperNode.inputs === undefined ? leftWaveShaperNode : leftWaveShaperNode.inputs[0]);\n                panGainNode.disconnect(rightWaveShaperNode.inputs === undefined ? rightWaveShaperNode : rightWaveShaperNode.inputs[0]);\n\n                leftWaveShaperNode.disconnect(leftGainNode.gain);\n                rightWaveShaperNode.disconnect(rightGainNode.gain);\n\n                leftGainNode.disconnect(channelMergerNode, 0, 0);\n                rightGainNode.disconnect(channelMergerNode, 0, 1);\n            }\n        };\n    };\n\n    const buildInternalGraphForStereo = (\n        nativeContext: TNativeContext,\n        inputGainNode: TNativeGainNode,\n        panGainNode: TNativeGainNode,\n        channelMergerNode: TNativeChannelMergerNode\n    ) => {\n        const leftInputForLeftOutputWaveShaperCurve = new Float32Array(CURVE_SIZE);\n        const leftInputForRightOutputWaveShaperCurve = new Float32Array(CURVE_SIZE);\n        const rightInputForLeftOutputWaveShaperCurve = new Float32Array(CURVE_SIZE);\n        const rightInputForRightOutputWaveShaperCurve = new Float32Array(CURVE_SIZE);\n\n        const centerIndex = Math.floor(CURVE_SIZE / 2);\n\n        for (let i = 0; i < CURVE_SIZE; i += 1) {\n            if (i > centerIndex) {\n                const x = ((i - centerIndex) / (CURVE_SIZE - 1 - centerIndex)) * HALF_PI;\n\n                leftInputForLeftOutputWaveShaperCurve[i] = Math.cos(x);\n                leftInputForRightOutputWaveShaperCurve[i] = Math.sin(x);\n                rightInputForLeftOutputWaveShaperCurve[i] = 0;\n                rightInputForRightOutputWaveShaperCurve[i] = 1;\n            } else {\n                const x = (i / (CURVE_SIZE - 1 - centerIndex)) * HALF_PI;\n\n                leftInputForLeftOutputWaveShaperCurve[i] = 1;\n                leftInputForRightOutputWaveShaperCurve[i] = 0;\n                rightInputForLeftOutputWaveShaperCurve[i] = Math.cos(x);\n                rightInputForRightOutputWaveShaperCurve[i] = Math.sin(x);\n            }\n        }\n\n        const channelSplitterNode = createNativeChannelSplitterNode(nativeContext, {\n            channelCount: 2,\n            channelCountMode: 'explicit',\n            channelInterpretation: 'discrete',\n            numberOfOutputs: 2\n        });\n        const leftInputForLeftOutputGainNode = createNativeGainNode(nativeContext, { ...SINGLE_CHANNEL_OPTIONS, gain: 0 });\n        // Bug #119: Safari does not fully support the WaveShaperNode.\n        const leftInputForLeftOutputWaveShaperNode = <INativeWaveShaperNodeFaker>createNativeWaveShaperNode(nativeContext, {\n            ...SINGLE_CHANNEL_WAVE_SHAPER_OPTIONS,\n            curve: leftInputForLeftOutputWaveShaperCurve\n        });\n        const leftInputForRightOutputGainNode = createNativeGainNode(nativeContext, { ...SINGLE_CHANNEL_OPTIONS, gain: 0 });\n        // Bug #119: Safari does not fully support the WaveShaperNode.\n        const leftInputForRightOutputWaveShaperNode = <INativeWaveShaperNodeFaker>createNativeWaveShaperNode(nativeContext, {\n            ...SINGLE_CHANNEL_WAVE_SHAPER_OPTIONS,\n            curve: leftInputForRightOutputWaveShaperCurve\n        });\n        // Bug #119: Safari does not fully support the WaveShaperNode.\n        const panWaveShaperNode = <INativeWaveShaperNodeFaker>(\n            createNativeWaveShaperNode(nativeContext, { ...SINGLE_CHANNEL_WAVE_SHAPER_OPTIONS, curve: DC_CURVE })\n        );\n        const rightInputForLeftOutputGainNode = createNativeGainNode(nativeContext, { ...SINGLE_CHANNEL_OPTIONS, gain: 0 });\n        // Bug #119: Safari does not fully support the WaveShaperNode.\n        const rightInputForLeftOutputWaveShaperNode = <INativeWaveShaperNodeFaker>createNativeWaveShaperNode(nativeContext, {\n            ...SINGLE_CHANNEL_WAVE_SHAPER_OPTIONS,\n            curve: rightInputForLeftOutputWaveShaperCurve\n        });\n        const rightInputForRightOutputGainNode = createNativeGainNode(nativeContext, { ...SINGLE_CHANNEL_OPTIONS, gain: 0 });\n        // Bug #119: Safari does not fully support the WaveShaperNode.\n        const rightInputForRightOutputWaveShaperNode = <INativeWaveShaperNodeFaker>createNativeWaveShaperNode(nativeContext, {\n            ...SINGLE_CHANNEL_WAVE_SHAPER_OPTIONS,\n            curve: rightInputForRightOutputWaveShaperCurve\n        });\n\n        return {\n            connectGraph(): void {\n                inputGainNode.connect(channelSplitterNode);\n                inputGainNode.connect(panWaveShaperNode.inputs === undefined ? panWaveShaperNode : panWaveShaperNode.inputs[0]);\n\n                channelSplitterNode.connect(leftInputForLeftOutputGainNode, 0);\n                channelSplitterNode.connect(leftInputForRightOutputGainNode, 0);\n                channelSplitterNode.connect(rightInputForLeftOutputGainNode, 1);\n                channelSplitterNode.connect(rightInputForRightOutputGainNode, 1);\n\n                panWaveShaperNode.connect(panGainNode);\n\n                panGainNode.connect(\n                    leftInputForLeftOutputWaveShaperNode.inputs === undefined\n                        ? leftInputForLeftOutputWaveShaperNode\n                        : leftInputForLeftOutputWaveShaperNode.inputs[0]\n                );\n                panGainNode.connect(\n                    leftInputForRightOutputWaveShaperNode.inputs === undefined\n                        ? leftInputForRightOutputWaveShaperNode\n                        : leftInputForRightOutputWaveShaperNode.inputs[0]\n                );\n                panGainNode.connect(\n                    rightInputForLeftOutputWaveShaperNode.inputs === undefined\n                        ? rightInputForLeftOutputWaveShaperNode\n                        : rightInputForLeftOutputWaveShaperNode.inputs[0]\n                );\n                panGainNode.connect(\n                    rightInputForRightOutputWaveShaperNode.inputs === undefined\n                        ? rightInputForRightOutputWaveShaperNode\n                        : rightInputForRightOutputWaveShaperNode.inputs[0]\n                );\n\n                leftInputForLeftOutputWaveShaperNode.connect(leftInputForLeftOutputGainNode.gain);\n                leftInputForRightOutputWaveShaperNode.connect(leftInputForRightOutputGainNode.gain);\n                rightInputForLeftOutputWaveShaperNode.connect(rightInputForLeftOutputGainNode.gain);\n                rightInputForRightOutputWaveShaperNode.connect(rightInputForRightOutputGainNode.gain);\n\n                leftInputForLeftOutputGainNode.connect(channelMergerNode, 0, 0);\n                rightInputForLeftOutputGainNode.connect(channelMergerNode, 0, 0);\n\n                leftInputForRightOutputGainNode.connect(channelMergerNode, 0, 1);\n                rightInputForRightOutputGainNode.connect(channelMergerNode, 0, 1);\n            },\n            disconnectGraph(): void {\n                inputGainNode.disconnect(channelSplitterNode);\n                inputGainNode.disconnect(panWaveShaperNode.inputs === undefined ? panWaveShaperNode : panWaveShaperNode.inputs[0]);\n\n                channelSplitterNode.disconnect(leftInputForLeftOutputGainNode, 0);\n                channelSplitterNode.disconnect(leftInputForRightOutputGainNode, 0);\n                channelSplitterNode.disconnect(rightInputForLeftOutputGainNode, 1);\n                channelSplitterNode.disconnect(rightInputForRightOutputGainNode, 1);\n\n                panWaveShaperNode.disconnect(panGainNode);\n\n                panGainNode.disconnect(\n                    leftInputForLeftOutputWaveShaperNode.inputs === undefined\n                        ? leftInputForLeftOutputWaveShaperNode\n                        : leftInputForLeftOutputWaveShaperNode.inputs[0]\n                );\n                panGainNode.disconnect(\n                    leftInputForRightOutputWaveShaperNode.inputs === undefined\n                        ? leftInputForRightOutputWaveShaperNode\n                        : leftInputForRightOutputWaveShaperNode.inputs[0]\n                );\n                panGainNode.disconnect(\n                    rightInputForLeftOutputWaveShaperNode.inputs === undefined\n                        ? rightInputForLeftOutputWaveShaperNode\n                        : rightInputForLeftOutputWaveShaperNode.inputs[0]\n                );\n                panGainNode.disconnect(\n                    rightInputForRightOutputWaveShaperNode.inputs === undefined\n                        ? rightInputForRightOutputWaveShaperNode\n                        : rightInputForRightOutputWaveShaperNode.inputs[0]\n                );\n\n                leftInputForLeftOutputWaveShaperNode.disconnect(leftInputForLeftOutputGainNode.gain);\n                leftInputForRightOutputWaveShaperNode.disconnect(leftInputForRightOutputGainNode.gain);\n                rightInputForLeftOutputWaveShaperNode.disconnect(rightInputForLeftOutputGainNode.gain);\n                rightInputForRightOutputWaveShaperNode.disconnect(rightInputForRightOutputGainNode.gain);\n\n                leftInputForLeftOutputGainNode.disconnect(channelMergerNode, 0, 0);\n                rightInputForLeftOutputGainNode.disconnect(channelMergerNode, 0, 0);\n\n                leftInputForRightOutputGainNode.disconnect(channelMergerNode, 0, 1);\n                rightInputForRightOutputGainNode.disconnect(channelMergerNode, 0, 1);\n            }\n        };\n    };\n\n    const buildInternalGraph = (\n        nativeContext: TNativeContext,\n        channelCount: number,\n        inputGainNode: TNativeGainNode,\n        panGainNode: TNativeGainNode,\n        channelMergerNode: TNativeChannelMergerNode\n    ) => {\n        if (channelCount === 1) {\n            return buildInternalGraphForMono(nativeContext, inputGainNode, panGainNode, channelMergerNode);\n        }\n\n        if (channelCount === 2) {\n            return buildInternalGraphForStereo(nativeContext, inputGainNode, panGainNode, channelMergerNode);\n        }\n\n        throw createNotSupportedError();\n    };\n\n    return (nativeContext, { channelCount, channelCountMode, pan, ...audioNodeOptions }) => {\n        if (channelCountMode === 'max') {\n            throw createNotSupportedError();\n        }\n\n        const channelMergerNode = createNativeChannelMergerNode(nativeContext, {\n            ...audioNodeOptions,\n            channelCount: 1,\n            channelCountMode,\n            numberOfInputs: 2\n        });\n        const inputGainNode = createNativeGainNode(nativeContext, { ...audioNodeOptions, channelCount, channelCountMode, gain: 1 });\n        const panGainNode = createNativeGainNode(nativeContext, {\n            channelCount: 1,\n            channelCountMode: 'explicit',\n            channelInterpretation: 'discrete',\n            gain: pan\n        });\n\n        let { connectGraph, disconnectGraph } = buildInternalGraph(\n            nativeContext,\n            channelCount,\n            inputGainNode,\n            panGainNode,\n            channelMergerNode\n        );\n\n        Object.defineProperty(panGainNode.gain, 'defaultValue', { get: () => 0 });\n        Object.defineProperty(panGainNode.gain, 'maxValue', { get: () => 1 });\n        Object.defineProperty(panGainNode.gain, 'minValue', { get: () => -1 });\n\n        const nativeStereoPannerNodeFakerFactory = {\n            get bufferSize(): undefined {\n                return undefined;\n            },\n            get channelCount(): number {\n                return inputGainNode.channelCount;\n            },\n            set channelCount(value) {\n                if (inputGainNode.channelCount !== value) {\n                    if (isConnected) {\n                        disconnectGraph();\n                    }\n\n                    ({ connectGraph, disconnectGraph } = buildInternalGraph(\n                        nativeContext,\n                        value,\n                        inputGainNode,\n                        panGainNode,\n                        channelMergerNode\n                    ));\n\n                    if (isConnected) {\n                        connectGraph();\n                    }\n                }\n\n                inputGainNode.channelCount = value;\n            },\n            get channelCountMode(): TNativeStereoPannerNode['channelCountMode'] {\n                return inputGainNode.channelCountMode;\n            },\n            set channelCountMode(value) {\n                if (value === 'clamped-max' || value === 'max') {\n                    throw createNotSupportedError();\n                }\n\n                inputGainNode.channelCountMode = value;\n            },\n            get channelInterpretation(): TNativeStereoPannerNode['channelInterpretation'] {\n                return inputGainNode.channelInterpretation;\n            },\n            set channelInterpretation(value) {\n                inputGainNode.channelInterpretation = value;\n            },\n            get context(): TNativeStereoPannerNode['context'] {\n                return inputGainNode.context;\n            },\n            get inputs(): TNativeAudioNode[] {\n                return [inputGainNode];\n            },\n            get numberOfInputs(): number {\n                return inputGainNode.numberOfInputs;\n            },\n            get numberOfOutputs(): number {\n                return inputGainNode.numberOfOutputs;\n            },\n            get pan(): TNativeStereoPannerNode['pan'] {\n                return panGainNode.gain;\n            },\n            addEventListener(...args: any[]): void {\n                return inputGainNode.addEventListener(args[0], args[1], args[2]);\n            },\n            dispatchEvent(...args: any[]): boolean {\n                return inputGainNode.dispatchEvent(args[0]);\n            },\n            removeEventListener(...args: any[]): void {\n                return inputGainNode.removeEventListener(args[0], args[1], args[2]);\n            }\n        };\n\n        let isConnected = false;\n\n        const whenConnected = () => {\n            connectGraph();\n\n            isConnected = true;\n        };\n        const whenDisconnected = () => {\n            disconnectGraph();\n\n            isConnected = false;\n        };\n\n        return monitorConnections(\n            interceptConnections(nativeStereoPannerNodeFakerFactory, channelMergerNode),\n            whenConnected,\n            whenDisconnected\n        );\n    };\n};\n", "import { assignNativeAudioNodeOption } from '../helpers/assign-native-audio-node-option';\nimport { assignNativeAudioNodeOptions } from '../helpers/assign-native-audio-node-options';\nimport { TNativeWaveShaperNodeFactoryFactory } from '../types';\n\nexport const createNativeWaveShaperNodeFactory: TNativeWaveShaperNodeFactoryFactory = (\n    createConnectedNativeAudioBufferSourceNode,\n    createInvalidStateError,\n    createNativeWaveShaperNodeFaker,\n    isDCCurve,\n    monitorConnections,\n    nativeAudioContextConstructor,\n    overwriteAccessors\n) => {\n    return (nativeContext, options) => {\n        const nativeWaveShaperNode = nativeContext.createWaveShaper();\n\n        /*\n         * Bug #119: Safari does not correctly map the values.\n         * @todo Unfortunately there is no way to test for this behavior in a synchronous fashion which is why testing for the existence of\n         * the webkitAudioContext is used as a workaround here. Testing for the automationRate property is necessary because this workaround\n         * isn't necessary anymore since v14.0.2 of Safari.\n         */\n        if (\n            nativeAudioContextConstructor !== null &&\n            nativeAudioContextConstructor.name === 'webkitAudioContext' &&\n            nativeContext.createGain().gain.automationRate === undefined\n        ) {\n            return createNativeWaveShaperNodeFaker(nativeContext, options);\n        }\n\n        assignNativeAudioNodeOptions(nativeWaveShaperNode, options);\n\n        const curve = options.curve === null || options.curve instanceof Float32Array ? options.curve : new Float32Array(options.curve);\n\n        // Bug #104: Chrome and Edge will throw an InvalidAccessError when the curve has less than two samples.\n        if (curve !== null && curve.length < 2) {\n            throw createInvalidStateError();\n        }\n\n        // Only values of type Float32Array can be assigned to the curve property.\n        assignNativeAudioNodeOption(nativeWaveShaperNode, { curve }, 'curve');\n        assignNativeAudioNodeOption(nativeWaveShaperNode, options, 'oversample');\n\n        let disconnectNativeAudioBufferSourceNode: null | (() => void) = null;\n        let isConnected = false;\n\n        overwriteAccessors(\n            nativeWaveShaperNode,\n            'curve',\n            (get) => () => get.call(nativeWaveShaperNode),\n            (set) => (value) => {\n                set.call(nativeWaveShaperNode, value);\n\n                if (isConnected) {\n                    if (isDCCurve(value) && disconnectNativeAudioBufferSourceNode === null) {\n                        disconnectNativeAudioBufferSourceNode = createConnectedNativeAudioBufferSourceNode(\n                            nativeContext,\n                            nativeWaveShaperNode\n                        );\n                    } else if (!isDCCurve(value) && disconnectNativeAudioBufferSourceNode !== null) {\n                        disconnectNativeAudioBufferSourceNode();\n                        disconnectNativeAudioBufferSourceNode = null;\n                    }\n                }\n\n                return value;\n            }\n        );\n\n        const whenConnected = () => {\n            isConnected = true;\n\n            if (isDCCurve(nativeWaveShaperNode.curve)) {\n                disconnectNativeAudioBufferSourceNode = createConnectedNativeAudioBufferSourceNode(nativeContext, nativeWaveShaperNode);\n            }\n        };\n        const whenDisconnected = () => {\n            isConnected = false;\n\n            if (disconnectNativeAudioBufferSourceNode !== null) {\n                disconnectNativeAudioBufferSourceNode();\n                disconnectNativeAudioBufferSourceNode = null;\n            }\n        };\n\n        return monitorConnections(nativeWaveShaperNode, whenConnected, whenDisconnected);\n    };\n};\n", "import { assignNativeAudioNodeOptions } from '../helpers/assign-native-audio-node-options';\nimport { interceptConnections } from '../helpers/intercept-connections';\nimport { TNativeAudioNode, TNativeWaveShaperNode, TNativeWaveShaperNodeFakerFactoryFactory } from '../types';\n\nexport const createNativeWaveShaperNodeFakerFactory: TNativeWaveShaperNodeFakerFactoryFactory = (\n    createConnectedNativeAudioBufferSourceNode,\n    createInvalidStateError,\n    createNativeGainNode,\n    isDCCurve,\n    monitorConnections\n) => {\n    return (nativeContext, { curve, oversample, ...audioNodeOptions }) => {\n        const negativeWaveShaperNode = nativeContext.createWaveShaper();\n        const positiveWaveShaperNode = nativeContext.createWaveShaper();\n\n        assignNativeAudioNodeOptions(negativeWaveShaperNode, audioNodeOptions);\n        assignNativeAudioNodeOptions(positiveWaveShaperNode, audioNodeOptions);\n\n        const inputGainNode = createNativeGainNode(nativeContext, { ...audioNodeOptions, gain: 1 });\n        const invertGainNode = createNativeGainNode(nativeContext, { ...audioNodeOptions, gain: -1 });\n        const outputGainNode = createNativeGainNode(nativeContext, { ...audioNodeOptions, gain: 1 });\n        const revertGainNode = createNativeGainNode(nativeContext, { ...audioNodeOptions, gain: -1 });\n\n        let disconnectNativeAudioBufferSourceNode: null | (() => void) = null;\n        let isConnected = false;\n        let unmodifiedCurve: null | TNativeWaveShaperNode['curve'] = null;\n\n        const nativeWaveShaperNodeFaker = {\n            get bufferSize(): undefined {\n                return undefined;\n            },\n            get channelCount(): number {\n                return negativeWaveShaperNode.channelCount;\n            },\n            set channelCount(value) {\n                inputGainNode.channelCount = value;\n                invertGainNode.channelCount = value;\n                negativeWaveShaperNode.channelCount = value;\n                outputGainNode.channelCount = value;\n                positiveWaveShaperNode.channelCount = value;\n                revertGainNode.channelCount = value;\n            },\n            get channelCountMode(): TNativeWaveShaperNode['channelCountMode'] {\n                return negativeWaveShaperNode.channelCountMode;\n            },\n            set channelCountMode(value) {\n                inputGainNode.channelCountMode = value;\n                invertGainNode.channelCountMode = value;\n                negativeWaveShaperNode.channelCountMode = value;\n                outputGainNode.channelCountMode = value;\n                positiveWaveShaperNode.channelCountMode = value;\n                revertGainNode.channelCountMode = value;\n            },\n            get channelInterpretation(): TNativeWaveShaperNode['channelInterpretation'] {\n                return negativeWaveShaperNode.channelInterpretation;\n            },\n            set channelInterpretation(value) {\n                inputGainNode.channelInterpretation = value;\n                invertGainNode.channelInterpretation = value;\n                negativeWaveShaperNode.channelInterpretation = value;\n                outputGainNode.channelInterpretation = value;\n                positiveWaveShaperNode.channelInterpretation = value;\n                revertGainNode.channelInterpretation = value;\n            },\n            get context(): TNativeWaveShaperNode['context'] {\n                return negativeWaveShaperNode.context;\n            },\n            get curve(): TNativeWaveShaperNode['curve'] {\n                return unmodifiedCurve;\n            },\n            set curve(value) {\n                // Bug #102: Safari does not throw an InvalidStateError when the curve has less than two samples.\n                if (value !== null && value.length < 2) {\n                    throw createInvalidStateError();\n                }\n\n                if (value === null) {\n                    negativeWaveShaperNode.curve = value;\n                    positiveWaveShaperNode.curve = value;\n                } else {\n                    const curveLength = value.length;\n\n                    const negativeCurve = new Float32Array(curveLength + 2 - (curveLength % 2));\n                    const positiveCurve = new Float32Array(curveLength + 2 - (curveLength % 2));\n\n                    negativeCurve[0] = value[0];\n                    positiveCurve[0] = -value[curveLength - 1];\n\n                    const length = Math.ceil((curveLength + 1) / 2);\n                    const centerIndex = (curveLength + 1) / 2 - 1;\n\n                    for (let i = 1; i < length; i += 1) {\n                        const theoreticIndex = (i / length) * centerIndex;\n\n                        const lowerIndex = Math.floor(theoreticIndex);\n                        const upperIndex = Math.ceil(theoreticIndex);\n\n                        negativeCurve[i] =\n                            lowerIndex === upperIndex\n                                ? value[lowerIndex]\n                                : (1 - (theoreticIndex - lowerIndex)) * value[lowerIndex] +\n                                  (1 - (upperIndex - theoreticIndex)) * value[upperIndex];\n                        positiveCurve[i] =\n                            lowerIndex === upperIndex\n                                ? -value[curveLength - 1 - lowerIndex]\n                                : -((1 - (theoreticIndex - lowerIndex)) * value[curveLength - 1 - lowerIndex]) -\n                                  (1 - (upperIndex - theoreticIndex)) * value[curveLength - 1 - upperIndex];\n                    }\n\n                    negativeCurve[length] = curveLength % 2 === 1 ? value[length - 1] : (value[length - 2] + value[length - 1]) / 2;\n\n                    negativeWaveShaperNode.curve = negativeCurve;\n                    positiveWaveShaperNode.curve = positiveCurve;\n                }\n\n                unmodifiedCurve = value;\n\n                if (isConnected) {\n                    if (isDCCurve(unmodifiedCurve) && disconnectNativeAudioBufferSourceNode === null) {\n                        disconnectNativeAudioBufferSourceNode = createConnectedNativeAudioBufferSourceNode(nativeContext, inputGainNode);\n                    } else if (disconnectNativeAudioBufferSourceNode !== null) {\n                        disconnectNativeAudioBufferSourceNode();\n                        disconnectNativeAudioBufferSourceNode = null;\n                    }\n                }\n            },\n            get inputs(): TNativeAudioNode[] {\n                return [inputGainNode];\n            },\n            get numberOfInputs(): number {\n                return negativeWaveShaperNode.numberOfInputs;\n            },\n            get numberOfOutputs(): number {\n                return negativeWaveShaperNode.numberOfOutputs;\n            },\n            get oversample(): TNativeWaveShaperNode['oversample'] {\n                return negativeWaveShaperNode.oversample;\n            },\n            set oversample(value) {\n                negativeWaveShaperNode.oversample = value;\n                positiveWaveShaperNode.oversample = value;\n            },\n            addEventListener(...args: any[]): void {\n                return inputGainNode.addEventListener(args[0], args[1], args[2]);\n            },\n            dispatchEvent(...args: any[]): boolean {\n                return inputGainNode.dispatchEvent(args[0]);\n            },\n            removeEventListener(...args: any[]): void {\n                return inputGainNode.removeEventListener(args[0], args[1], args[2]);\n            }\n        };\n\n        if (curve !== null) {\n            // Only values of type Float32Array can be assigned to the curve property.\n            nativeWaveShaperNodeFaker.curve = curve instanceof Float32Array ? curve : new Float32Array(curve);\n        }\n\n        if (oversample !== nativeWaveShaperNodeFaker.oversample) {\n            nativeWaveShaperNodeFaker.oversample = oversample;\n        }\n\n        const whenConnected = () => {\n            inputGainNode.connect(negativeWaveShaperNode).connect(outputGainNode);\n\n            inputGainNode.connect(invertGainNode).connect(positiveWaveShaperNode).connect(revertGainNode).connect(outputGainNode);\n\n            isConnected = true;\n\n            if (isDCCurve(unmodifiedCurve)) {\n                disconnectNativeAudioBufferSourceNode = createConnectedNativeAudioBufferSourceNode(nativeContext, inputGainNode);\n            }\n        };\n        const whenDisconnected = () => {\n            inputGainNode.disconnect(negativeWaveShaperNode);\n            negativeWaveShaperNode.disconnect(outputGainNode);\n\n            inputGainNode.disconnect(invertGainNode);\n            invertGainNode.disconnect(positiveWaveShaperNode);\n            positiveWaveShaperNode.disconnect(revertGainNode);\n            revertGainNode.disconnect(outputGainNode);\n\n            isConnected = false;\n\n            if (disconnectNativeAudioBufferSourceNode !== null) {\n                disconnectNativeAudioBufferSourceNode();\n                disconnectNativeAudioBufferSourceNode = null;\n            }\n        };\n\n        return monitorConnections(interceptConnections(nativeWaveShaperNodeFaker, outputGainNode), whenConnected, whenDisconnected);\n    };\n};\n", "import { TNotSupportedErrorFactory } from '../types';\n\nexport const createNotSupportedError: TNotSupportedErrorFactory = () => new DOMException('', 'NotSupportedError');\n", "import { deactivateAudioGraph } from '../helpers/deactivate-audio-graph';\nimport { testPromiseSupport } from '../helpers/test-promise-support';\nimport { IAudioBuffer, IOfflineAudioContext, IOfflineAudioContextOptions } from '../interfaces';\nimport { TAudioContextState, TNativeOfflineAudioContext, TOfflineAudioContextConstructorFactory } from '../types';\n\nconst DEFAULT_OPTIONS = {\n    numberOfChannels: 1\n} as const;\n\nexport const createOfflineAudioContextConstructor: TOfflineAudioContextConstructorFactory = (\n    baseAudioContextConstructor,\n    cacheTestResult,\n    createInvalidStateError,\n    createNativeOfflineAudioContext,\n    startRendering\n) => {\n    return class OfflineAudioContext extends baseAudioContextConstructor<IOfflineAudioContext> implements IOfflineAudioContext {\n        private _length: number;\n\n        private _nativeOfflineAudioContext: TNativeOfflineAudioContext;\n\n        private _state: null | TAudioContextState;\n\n        constructor(options: IOfflineAudioContextOptions);\n        constructor(numberOfChannels: number, length: number, sampleRate: number);\n        constructor(a: number | IOfflineAudioContextOptions, b?: number, c?: number) {\n            let options: IOfflineAudioContextOptions;\n\n            if (typeof a === 'number' && b !== undefined && c !== undefined) {\n                options = { length: b, numberOfChannels: a, sampleRate: c };\n            } else if (typeof a === 'object') {\n                options = a;\n            } else {\n                throw new Error('The given parameters are not valid.');\n            }\n\n            const { length, numberOfChannels, sampleRate } = { ...DEFAULT_OPTIONS, ...options };\n\n            const nativeOfflineAudioContext = createNativeOfflineAudioContext(numberOfChannels, length, sampleRate);\n\n            // #21 Safari does not support promises and therefore would fire the statechange event before the promise can be resolved.\n            if (!cacheTestResult(testPromiseSupport, () => testPromiseSupport(nativeOfflineAudioContext))) {\n                nativeOfflineAudioContext.addEventListener(\n                    'statechange',\n                    (() => {\n                        let i = 0;\n\n                        const delayStateChangeEvent = (event: Event) => {\n                            if (this._state === 'running') {\n                                if (i > 0) {\n                                    nativeOfflineAudioContext.removeEventListener('statechange', delayStateChangeEvent);\n                                    event.stopImmediatePropagation();\n\n                                    this._waitForThePromiseToSettle(event);\n                                } else {\n                                    i += 1;\n                                }\n                            }\n                        };\n\n                        return delayStateChangeEvent;\n                    })()\n                );\n            }\n\n            super(nativeOfflineAudioContext, numberOfChannels);\n\n            this._length = length;\n            this._nativeOfflineAudioContext = nativeOfflineAudioContext;\n            this._state = null;\n        }\n\n        get length(): number {\n            // Bug #17: Safari does not yet expose the length.\n            if (this._nativeOfflineAudioContext.length === undefined) {\n                return this._length;\n            }\n\n            return this._nativeOfflineAudioContext.length;\n        }\n\n        get state(): TAudioContextState {\n            return this._state === null ? this._nativeOfflineAudioContext.state : this._state;\n        }\n\n        public startRendering(): Promise<IAudioBuffer> {\n            /*\n             * Bug #9 & #59: It is theoretically possible that startRendering() will first render a partialOfflineAudioContext. Therefore\n             * the state of the nativeOfflineAudioContext might no transition to running immediately.\n             */\n            if (this._state === 'running') {\n                return Promise.reject(createInvalidStateError());\n            }\n\n            this._state = 'running';\n\n            return startRendering(this.destination, this._nativeOfflineAudioContext).finally(() => {\n                this._state = null;\n\n                deactivateAudioGraph(this);\n            });\n        }\n\n        private _waitForThePromiseToSettle(event: Event): void {\n            if (this._state === null) {\n                this._nativeOfflineAudioContext.dispatchEvent(event);\n            } else {\n                setTimeout(() => this._waitForThePromiseToSettle(event));\n            }\n        }\n    };\n};\n", "import { isActiveAudioNode } from '../helpers/is-active-audio-node';\nimport { setInternalStateToActive } from '../helpers/set-internal-state-to-active';\nimport { setInternalStateToPassive } from '../helpers/set-internal-state-to-passive';\nimport {\n    IAudioParam,\n    IAudioScheduledSourceNodeEventMap,\n    IMinimalOfflineAudioContext,\n    IOscillatorNode,\n    IOscillatorNodeRenderer,\n    IOscillatorOptions\n} from '../interfaces';\nimport {\n    TContext,\n    TEventHandler,\n    TNativeOscillatorNode,\n    TOscillatorNodeConstructorFactory,\n    TOscillatorNodeRenderer,\n    TOscillatorType\n} from '../types';\n\nconst DEFAULT_OPTIONS = {\n    channelCount: 2,\n    channelCountMode: 'max', // This attribute has no effect for nodes with no inputs.\n    channelInterpretation: 'speakers', // This attribute has no effect for nodes with no inputs.\n    detune: 0,\n    frequency: 440,\n    periodicWave: undefined,\n    type: 'sine'\n} as const;\n\nexport const createOscillatorNodeConstructor: TOscillatorNodeConstructorFactory = (\n    audioNodeConstructor,\n    createAudioParam,\n    createNativeOscillatorNode,\n    createOscillatorNodeRenderer,\n    getNativeContext,\n    isNativeOfflineAudioContext,\n    wrapEventListener\n) => {\n    return class OscillatorNode<T extends TContext>\n        extends audioNodeConstructor<T, IAudioScheduledSourceNodeEventMap>\n        implements IOscillatorNode<T>\n    {\n        private _detune: IAudioParam;\n\n        private _frequency: IAudioParam;\n\n        private _nativeOscillatorNode: TNativeOscillatorNode;\n\n        private _onended: null | TEventHandler<this>;\n\n        private _oscillatorNodeRenderer: TOscillatorNodeRenderer<T>;\n\n        constructor(context: T, options?: Partial<IOscillatorOptions>) {\n            const nativeContext = getNativeContext(context);\n            const mergedOptions = { ...DEFAULT_OPTIONS, ...options };\n            const nativeOscillatorNode = createNativeOscillatorNode(nativeContext, mergedOptions);\n            const isOffline = isNativeOfflineAudioContext(nativeContext);\n            const oscillatorNodeRenderer = <TOscillatorNodeRenderer<T>>(isOffline ? createOscillatorNodeRenderer() : null);\n            const nyquist = context.sampleRate / 2;\n\n            super(context, false, nativeOscillatorNode, oscillatorNodeRenderer);\n\n            // Bug #81: Firefox & Safari do not export the correct values for maxValue and minValue.\n            this._detune = createAudioParam(this, isOffline, nativeOscillatorNode.detune, 153600, -153600);\n            // Bug #76: Safari does not export the correct values for maxValue and minValue.\n            this._frequency = createAudioParam(this, isOffline, nativeOscillatorNode.frequency, nyquist, -nyquist);\n            this._nativeOscillatorNode = nativeOscillatorNode;\n            this._onended = null;\n            this._oscillatorNodeRenderer = oscillatorNodeRenderer;\n\n            if (this._oscillatorNodeRenderer !== null && mergedOptions.periodicWave !== undefined) {\n                (<IOscillatorNodeRenderer<IMinimalOfflineAudioContext>>this._oscillatorNodeRenderer).periodicWave =\n                    mergedOptions.periodicWave;\n            }\n        }\n\n        get detune(): IAudioParam {\n            return this._detune;\n        }\n\n        get frequency(): IAudioParam {\n            return this._frequency;\n        }\n\n        get onended(): null | TEventHandler<this> {\n            return this._onended;\n        }\n\n        set onended(value) {\n            const wrappedListener = typeof value === 'function' ? wrapEventListener(this, value) : null;\n\n            this._nativeOscillatorNode.onended = wrappedListener;\n\n            const nativeOnEnded = this._nativeOscillatorNode.onended;\n\n            this._onended = nativeOnEnded !== null && nativeOnEnded === wrappedListener ? value : nativeOnEnded;\n        }\n\n        get type(): TOscillatorType {\n            return this._nativeOscillatorNode.type;\n        }\n\n        set type(value) {\n            this._nativeOscillatorNode.type = value;\n\n            if (this._oscillatorNodeRenderer !== null) {\n                this._oscillatorNodeRenderer.periodicWave = null;\n            }\n        }\n\n        public setPeriodicWave(periodicWave: PeriodicWave): void {\n            this._nativeOscillatorNode.setPeriodicWave(periodicWave);\n\n            if (this._oscillatorNodeRenderer !== null) {\n                this._oscillatorNodeRenderer.periodicWave = periodicWave;\n            }\n        }\n\n        public start(when = 0): void {\n            this._nativeOscillatorNode.start(when);\n\n            if (this._oscillatorNodeRenderer !== null) {\n                this._oscillatorNodeRenderer.start = when;\n            }\n\n            if (this.context.state !== 'closed') {\n                setInternalStateToActive(this);\n\n                const resetInternalStateToPassive = () => {\n                    this._nativeOscillatorNode.removeEventListener('ended', resetInternalStateToPassive);\n\n                    if (isActiveAudioNode(this)) {\n                        setInternalStateToPassive(this);\n                    }\n                };\n\n                this._nativeOscillatorNode.addEventListener('ended', resetInternalStateToPassive);\n            }\n        }\n\n        public stop(when = 0): void {\n            this._nativeOscillatorNode.stop(when);\n\n            if (this._oscillatorNodeRenderer !== null) {\n                this._oscillatorNodeRenderer.stop = when;\n            }\n        }\n    };\n};\n", "import { isOwnedByContext } from '../helpers/is-owned-by-context';\nimport { IMinimalOfflineAudioContext, IOfflineAudioContext, IOscillatorNode, IPeriodicWave } from '../interfaces';\nimport { TNativeOfflineAudioContext, TNativeOscillatorNode, TOscillatorNodeRendererFactoryFactory } from '../types';\n\nexport const createOscillatorNodeRendererFactory: TOscillatorNodeRendererFactoryFactory = (\n    connectAudioParam,\n    createNativeOscillatorNode,\n    getNativeAudioNode,\n    renderAutomation,\n    renderInputsOfAudioNode\n) => {\n    return <T extends IMinimalOfflineAudioContext | IOfflineAudioContext>() => {\n        const renderedNativeOscillatorNodes = new WeakMap<TNativeOfflineAudioContext, TNativeOscillatorNode>();\n\n        let periodicWave: null | IPeriodicWave = null;\n        let start: null | number = null;\n        let stop: null | number = null;\n\n        const createOscillatorNode = async (proxy: IOscillatorNode<T>, nativeOfflineAudioContext: TNativeOfflineAudioContext) => {\n            let nativeOscillatorNode = getNativeAudioNode<T, TNativeOscillatorNode>(proxy);\n\n            // If the initially used nativeOscillatorNode was not constructed on the same OfflineAudioContext it needs to be created again.\n            const nativeOscillatorNodeIsOwnedByContext = isOwnedByContext(nativeOscillatorNode, nativeOfflineAudioContext);\n\n            if (!nativeOscillatorNodeIsOwnedByContext) {\n                const options = {\n                    channelCount: nativeOscillatorNode.channelCount,\n                    channelCountMode: nativeOscillatorNode.channelCountMode,\n                    channelInterpretation: nativeOscillatorNode.channelInterpretation,\n                    detune: nativeOscillatorNode.detune.value,\n                    frequency: nativeOscillatorNode.frequency.value,\n                    periodicWave: periodicWave === null ? undefined : periodicWave,\n                    type: nativeOscillatorNode.type\n                };\n\n                nativeOscillatorNode = createNativeOscillatorNode(nativeOfflineAudioContext, options);\n\n                if (start !== null) {\n                    nativeOscillatorNode.start(start);\n                }\n\n                if (stop !== null) {\n                    nativeOscillatorNode.stop(stop);\n                }\n            }\n\n            renderedNativeOscillatorNodes.set(nativeOfflineAudioContext, nativeOscillatorNode);\n\n            if (!nativeOscillatorNodeIsOwnedByContext) {\n                await renderAutomation(nativeOfflineAudioContext, proxy.detune, nativeOscillatorNode.detune);\n                await renderAutomation(nativeOfflineAudioContext, proxy.frequency, nativeOscillatorNode.frequency);\n            } else {\n                await connectAudioParam(nativeOfflineAudioContext, proxy.detune, nativeOscillatorNode.detune);\n                await connectAudioParam(nativeOfflineAudioContext, proxy.frequency, nativeOscillatorNode.frequency);\n            }\n\n            await renderInputsOfAudioNode(proxy, nativeOfflineAudioContext, nativeOscillatorNode);\n\n            return nativeOscillatorNode;\n        };\n\n        return {\n            set periodicWave(value: null | IPeriodicWave) {\n                periodicWave = value;\n            },\n            set start(value: number) {\n                start = value;\n            },\n            set stop(value: number) {\n                stop = value;\n            },\n            render(proxy: IOscillatorNode<T>, nativeOfflineAudioContext: TNativeOfflineAudioContext): Promise<TNativeOscillatorNode> {\n                const renderedNativeOscillatorNode = renderedNativeOscillatorNodes.get(nativeOfflineAudioContext);\n\n                if (renderedNativeOscillatorNode !== undefined) {\n                    return Promise.resolve(renderedNativeOscillatorNode);\n                }\n\n                return createOscillatorNode(proxy, nativeOfflineAudioContext);\n            }\n        };\n    };\n};\n", "import { MOST_NEGATIVE_SINGLE_FLOAT, MOST_POSITIVE_SINGLE_FLOAT } from '../constants';\nimport { IAudioParam, IPannerNode, IPannerOptions } from '../interfaces';\nimport {\n    TAudioNodeRenderer,\n    TContext,\n    TDistanceModelType,\n    TNativePannerNode,\n    TPannerNodeConstructorFactory,\n    TPanningModelType\n} from '../types';\n\nconst DEFAULT_OPTIONS = {\n    channelCount: 2,\n    channelCountMode: 'clamped-max',\n    channelInterpretation: 'speakers',\n    coneInnerAngle: 360,\n    coneOuterAngle: 360,\n    coneOuterGain: 0,\n    distanceModel: 'inverse',\n    maxDistance: 10000,\n    orientationX: 1,\n    orientationY: 0,\n    orientationZ: 0,\n    panningModel: 'equalpower',\n    positionX: 0,\n    positionY: 0,\n    positionZ: 0,\n    refDistance: 1,\n    rolloffFactor: 1\n} as const;\n\nexport const createPannerNodeConstructor: TPannerNodeConstructorFactory = (\n    audioNodeConstructor,\n    createAudioParam,\n    createNativePannerNode,\n    createPannerNodeRenderer,\n    getNativeContext,\n    isNativeOfflineAudioContext,\n    setAudioNodeTailTime\n) => {\n    return class PannerNode<T extends TContext> extends audioNodeConstructor<T> implements IPannerNode<T> {\n        private _nativePannerNode: TNativePannerNode;\n\n        private _orientationX: IAudioParam;\n\n        private _orientationY: IAudioParam;\n\n        private _orientationZ: IAudioParam;\n\n        private _positionX: IAudioParam;\n\n        private _positionY: IAudioParam;\n\n        private _positionZ: IAudioParam;\n\n        constructor(context: T, options?: Partial<IPannerOptions>) {\n            const nativeContext = getNativeContext(context);\n            const mergedOptions = { ...DEFAULT_OPTIONS, ...options };\n            const nativePannerNode = createNativePannerNode(nativeContext, mergedOptions);\n            const isOffline = isNativeOfflineAudioContext(nativeContext);\n            const pannerNodeRenderer = <TAudioNodeRenderer<T, this>>(isOffline ? createPannerNodeRenderer() : null);\n\n            super(context, false, nativePannerNode, pannerNodeRenderer);\n\n            this._nativePannerNode = nativePannerNode;\n            // Bug #74: Safari does not export the correct values for maxValue and minValue.\n            this._orientationX = createAudioParam(\n                this,\n                isOffline,\n                nativePannerNode.orientationX,\n                MOST_POSITIVE_SINGLE_FLOAT,\n                MOST_NEGATIVE_SINGLE_FLOAT\n            );\n            this._orientationY = createAudioParam(\n                this,\n                isOffline,\n                nativePannerNode.orientationY,\n                MOST_POSITIVE_SINGLE_FLOAT,\n                MOST_NEGATIVE_SINGLE_FLOAT\n            );\n            this._orientationZ = createAudioParam(\n                this,\n                isOffline,\n                nativePannerNode.orientationZ,\n                MOST_POSITIVE_SINGLE_FLOAT,\n                MOST_NEGATIVE_SINGLE_FLOAT\n            );\n            this._positionX = createAudioParam(\n                this,\n                isOffline,\n                nativePannerNode.positionX,\n                MOST_POSITIVE_SINGLE_FLOAT,\n                MOST_NEGATIVE_SINGLE_FLOAT\n            );\n            this._positionY = createAudioParam(\n                this,\n                isOffline,\n                nativePannerNode.positionY,\n                MOST_POSITIVE_SINGLE_FLOAT,\n                MOST_NEGATIVE_SINGLE_FLOAT\n            );\n            this._positionZ = createAudioParam(\n                this,\n                isOffline,\n                nativePannerNode.positionZ,\n                MOST_POSITIVE_SINGLE_FLOAT,\n                MOST_NEGATIVE_SINGLE_FLOAT\n            );\n\n            // @todo Determine a meaningful tail-time instead of just using one second.\n            setAudioNodeTailTime(this, 1);\n        }\n\n        get coneInnerAngle(): number {\n            return this._nativePannerNode.coneInnerAngle;\n        }\n\n        set coneInnerAngle(value) {\n            this._nativePannerNode.coneInnerAngle = value;\n        }\n\n        get coneOuterAngle(): number {\n            return this._nativePannerNode.coneOuterAngle;\n        }\n\n        set coneOuterAngle(value) {\n            this._nativePannerNode.coneOuterAngle = value;\n        }\n\n        get coneOuterGain(): number {\n            return this._nativePannerNode.coneOuterGain;\n        }\n\n        set coneOuterGain(value) {\n            this._nativePannerNode.coneOuterGain = value;\n        }\n\n        get distanceModel(): TDistanceModelType {\n            return this._nativePannerNode.distanceModel;\n        }\n\n        set distanceModel(value) {\n            this._nativePannerNode.distanceModel = value;\n        }\n\n        get maxDistance(): number {\n            return this._nativePannerNode.maxDistance;\n        }\n\n        set maxDistance(value) {\n            this._nativePannerNode.maxDistance = value;\n        }\n\n        get orientationX(): IAudioParam {\n            return this._orientationX;\n        }\n\n        get orientationY(): IAudioParam {\n            return this._orientationY;\n        }\n\n        get orientationZ(): IAudioParam {\n            return this._orientationZ;\n        }\n\n        get panningModel(): TPanningModelType {\n            return this._nativePannerNode.panningModel;\n        }\n\n        set panningModel(value) {\n            this._nativePannerNode.panningModel = value;\n        }\n\n        get positionX(): IAudioParam {\n            return this._positionX;\n        }\n\n        get positionY(): IAudioParam {\n            return this._positionY;\n        }\n\n        get positionZ(): IAudioParam {\n            return this._positionZ;\n        }\n\n        get refDistance(): number {\n            return this._nativePannerNode.refDistance;\n        }\n\n        set refDistance(value) {\n            this._nativePannerNode.refDistance = value;\n        }\n\n        get rolloffFactor(): number {\n            return this._nativePannerNode.rolloffFactor;\n        }\n\n        set rolloffFactor(value) {\n            this._nativePannerNode.rolloffFactor = value;\n        }\n    };\n};\n", "import { isNativeAudioNodeFaker } from '../guards/native-audio-node-faker';\nimport { isOwnedByContext } from '../helpers/is-owned-by-context';\nimport { IMinimalOfflineAudioContext, INativePannerNodeFaker, IOfflineAudioContext, IPannerNode } from '../interfaces';\nimport {\n    TNativeAudioBuffer,\n    TNativeGainNode,\n    TNativeOfflineAudioContext,\n    TNativePannerNode,\n    TPannerNodeRendererFactoryFactory\n} from '../types';\n\nexport const createPannerNodeRendererFactory: TPannerNodeRendererFactoryFactory = (\n    connectAudioParam,\n    createNativeChannelMergerNode,\n    createNativeConstantSourceNode,\n    createNativeGainNode,\n    createNativePannerNode,\n    getNativeAudioNode,\n    nativeOfflineAudioContextConstructor,\n    renderAutomation,\n    renderInputsOfAudioNode,\n    renderNativeOfflineAudioContext\n) => {\n    return <T extends IMinimalOfflineAudioContext | IOfflineAudioContext>() => {\n        const renderedNativeAudioNodes = new WeakMap<TNativeOfflineAudioContext, TNativeGainNode | TNativePannerNode>();\n\n        let renderedBufferPromise: null | Promise<TNativeAudioBuffer> = null;\n\n        const createAudioNode = async (proxy: IPannerNode<T>, nativeOfflineAudioContext: TNativeOfflineAudioContext) => {\n            let nativeGainNode: null | TNativeGainNode = null;\n            let nativePannerNode = getNativeAudioNode<T, TNativePannerNode>(proxy);\n\n            const commonAudioNodeOptions = {\n                channelCount: nativePannerNode.channelCount,\n                channelCountMode: nativePannerNode.channelCountMode,\n                channelInterpretation: nativePannerNode.channelInterpretation\n            };\n            const commonNativePannerNodeOptions = {\n                ...commonAudioNodeOptions,\n                coneInnerAngle: nativePannerNode.coneInnerAngle,\n                coneOuterAngle: nativePannerNode.coneOuterAngle,\n                coneOuterGain: nativePannerNode.coneOuterGain,\n                distanceModel: nativePannerNode.distanceModel,\n                maxDistance: nativePannerNode.maxDistance,\n                panningModel: nativePannerNode.panningModel,\n                refDistance: nativePannerNode.refDistance,\n                rolloffFactor: nativePannerNode.rolloffFactor\n            };\n\n            // If the initially used nativePannerNode was not constructed on the same OfflineAudioContext it needs to be created again.\n            const nativePannerNodeIsOwnedByContext = isOwnedByContext(nativePannerNode, nativeOfflineAudioContext);\n\n            // Bug #124: Safari does not support modifying the orientation and the position with AudioParams.\n            if ('bufferSize' in nativePannerNode) {\n                nativeGainNode = createNativeGainNode(nativeOfflineAudioContext, { ...commonAudioNodeOptions, gain: 1 });\n            } else if (!nativePannerNodeIsOwnedByContext) {\n                const options = {\n                    ...commonNativePannerNodeOptions,\n                    orientationX: nativePannerNode.orientationX.value,\n                    orientationY: nativePannerNode.orientationY.value,\n                    orientationZ: nativePannerNode.orientationZ.value,\n                    positionX: nativePannerNode.positionX.value,\n                    positionY: nativePannerNode.positionY.value,\n                    positionZ: nativePannerNode.positionZ.value\n                };\n\n                nativePannerNode = createNativePannerNode(nativeOfflineAudioContext, options);\n            }\n\n            renderedNativeAudioNodes.set(nativeOfflineAudioContext, nativeGainNode === null ? nativePannerNode : nativeGainNode);\n\n            if (nativeGainNode !== null) {\n                if (renderedBufferPromise === null) {\n                    if (nativeOfflineAudioContextConstructor === null) {\n                        throw new Error('Missing the native OfflineAudioContext constructor.');\n                    }\n\n                    const partialOfflineAudioContext = new nativeOfflineAudioContextConstructor(\n                        6,\n                        // Bug #17: Safari does not yet expose the length.\n                        proxy.context.length,\n                        nativeOfflineAudioContext.sampleRate\n                    );\n                    const nativeChannelMergerNode = createNativeChannelMergerNode(partialOfflineAudioContext, {\n                        channelCount: 1,\n                        channelCountMode: 'explicit',\n                        channelInterpretation: 'speakers',\n                        numberOfInputs: 6\n                    });\n                    nativeChannelMergerNode.connect(partialOfflineAudioContext.destination);\n\n                    renderedBufferPromise = (async () => {\n                        const nativeConstantSourceNodes = await Promise.all(\n                            [\n                                proxy.orientationX,\n                                proxy.orientationY,\n                                proxy.orientationZ,\n                                proxy.positionX,\n                                proxy.positionY,\n                                proxy.positionZ\n                            ].map(async (audioParam, index) => {\n                                const nativeConstantSourceNode = createNativeConstantSourceNode(partialOfflineAudioContext, {\n                                    channelCount: 1,\n                                    channelCountMode: 'explicit',\n                                    channelInterpretation: 'discrete',\n                                    offset: index === 0 ? 1 : 0\n                                });\n\n                                await renderAutomation(partialOfflineAudioContext, audioParam, nativeConstantSourceNode.offset);\n\n                                return nativeConstantSourceNode;\n                            })\n                        );\n\n                        for (let i = 0; i < 6; i += 1) {\n                            nativeConstantSourceNodes[i].connect(nativeChannelMergerNode, 0, i);\n                            nativeConstantSourceNodes[i].start(0);\n                        }\n\n                        return renderNativeOfflineAudioContext(partialOfflineAudioContext);\n                    })();\n                }\n\n                const renderedBuffer = await renderedBufferPromise;\n                const inputGainNode = createNativeGainNode(nativeOfflineAudioContext, { ...commonAudioNodeOptions, gain: 1 });\n\n                await renderInputsOfAudioNode(proxy, nativeOfflineAudioContext, inputGainNode);\n\n                const channelDatas: Float32Array[] = [];\n\n                for (let i = 0; i < renderedBuffer.numberOfChannels; i += 1) {\n                    channelDatas.push(renderedBuffer.getChannelData(i));\n                }\n\n                let lastOrientation = [channelDatas[0][0], channelDatas[1][0], channelDatas[2][0]];\n                let lastPosition = [channelDatas[3][0], channelDatas[4][0], channelDatas[5][0]];\n                let gateGainNode = createNativeGainNode(nativeOfflineAudioContext, { ...commonAudioNodeOptions, gain: 1 });\n                let partialPannerNode = createNativePannerNode(nativeOfflineAudioContext, {\n                    ...commonNativePannerNodeOptions,\n                    orientationX: lastOrientation[0],\n                    orientationY: lastOrientation[1],\n                    orientationZ: lastOrientation[2],\n                    positionX: lastPosition[0],\n                    positionY: lastPosition[1],\n                    positionZ: lastPosition[2]\n                });\n\n                inputGainNode.connect(gateGainNode).connect((<INativePannerNodeFaker>partialPannerNode).inputs[0]);\n                partialPannerNode.connect(nativeGainNode);\n\n                for (let i = 128; i < renderedBuffer.length; i += 128) {\n                    const orientation: [number, number, number] = [channelDatas[0][i], channelDatas[1][i], channelDatas[2][i]];\n                    const positon: [number, number, number] = [channelDatas[3][i], channelDatas[4][i], channelDatas[5][i]];\n\n                    if (\n                        orientation.some((value, index) => value !== lastOrientation[index]) ||\n                        positon.some((value, index) => value !== lastPosition[index])\n                    ) {\n                        lastOrientation = orientation;\n                        lastPosition = positon;\n\n                        const currentTime = i / nativeOfflineAudioContext.sampleRate;\n\n                        gateGainNode.gain.setValueAtTime(0, currentTime);\n\n                        gateGainNode = createNativeGainNode(nativeOfflineAudioContext, { ...commonAudioNodeOptions, gain: 0 });\n                        partialPannerNode = createNativePannerNode(nativeOfflineAudioContext, {\n                            ...commonNativePannerNodeOptions,\n                            orientationX: lastOrientation[0],\n                            orientationY: lastOrientation[1],\n                            orientationZ: lastOrientation[2],\n                            positionX: lastPosition[0],\n                            positionY: lastPosition[1],\n                            positionZ: lastPosition[2]\n                        });\n\n                        gateGainNode.gain.setValueAtTime(1, currentTime);\n\n                        inputGainNode.connect(gateGainNode).connect((<INativePannerNodeFaker>partialPannerNode).inputs[0]);\n                        partialPannerNode.connect(nativeGainNode);\n                    }\n                }\n\n                return nativeGainNode;\n            }\n\n            if (!nativePannerNodeIsOwnedByContext) {\n                await renderAutomation(nativeOfflineAudioContext, proxy.orientationX, nativePannerNode.orientationX);\n                await renderAutomation(nativeOfflineAudioContext, proxy.orientationY, nativePannerNode.orientationY);\n                await renderAutomation(nativeOfflineAudioContext, proxy.orientationZ, nativePannerNode.orientationZ);\n                await renderAutomation(nativeOfflineAudioContext, proxy.positionX, nativePannerNode.positionX);\n                await renderAutomation(nativeOfflineAudioContext, proxy.positionY, nativePannerNode.positionY);\n                await renderAutomation(nativeOfflineAudioContext, proxy.positionZ, nativePannerNode.positionZ);\n            } else {\n                await connectAudioParam(nativeOfflineAudioContext, proxy.orientationX, nativePannerNode.orientationX);\n                await connectAudioParam(nativeOfflineAudioContext, proxy.orientationY, nativePannerNode.orientationY);\n                await connectAudioParam(nativeOfflineAudioContext, proxy.orientationZ, nativePannerNode.orientationZ);\n                await connectAudioParam(nativeOfflineAudioContext, proxy.positionX, nativePannerNode.positionX);\n                await connectAudioParam(nativeOfflineAudioContext, proxy.positionY, nativePannerNode.positionY);\n                await connectAudioParam(nativeOfflineAudioContext, proxy.positionZ, nativePannerNode.positionZ);\n            }\n\n            if (isNativeAudioNodeFaker(nativePannerNode)) {\n                await renderInputsOfAudioNode(proxy, nativeOfflineAudioContext, nativePannerNode.inputs[0]);\n            } else {\n                await renderInputsOfAudioNode(proxy, nativeOfflineAudioContext, nativePannerNode);\n            }\n\n            return nativePannerNode;\n        };\n\n        return {\n            render(\n                proxy: IPannerNode<T>,\n                nativeOfflineAudioContext: TNativeOfflineAudioContext\n            ): Promise<TNativeGainNode | TNativePannerNode> {\n                const renderedNativeGainNodeOrNativePannerNode = renderedNativeAudioNodes.get(nativeOfflineAudioContext);\n\n                if (renderedNativeGainNodeOrNativePannerNode !== undefined) {\n                    return Promise.resolve(renderedNativeGainNodeOrNativePannerNode);\n                }\n\n                return createAudioNode(proxy, nativeOfflineAudioContext);\n            }\n        };\n    };\n};\n", "import { IPeriodicWave, IPeriodicWaveOptions } from '../interfaces';\nimport { TContext, TPeriodicWaveConstructorFactory } from '../types';\n\nconst DEFAULT_OPTIONS = {\n    disableNormalization: false\n} as const;\n\nexport const createPeriodicWaveConstructor: TPeriodicWaveConstructorFactory = (\n    createNativePeriodicWave,\n    getNativeContext,\n    periodicWaveStore,\n    sanitizePeriodicWaveOptions\n) => {\n    return class PeriodicWave<T extends TContext> implements IPeriodicWave {\n        constructor(context: T, options?: Partial<IPeriodicWaveOptions>) {\n            const nativeContext = getNativeContext(context);\n            const mergedOptions = sanitizePeriodicWaveOptions({ ...DEFAULT_OPTIONS, ...options });\n            const periodicWave = createNativePeriodicWave(nativeContext, mergedOptions);\n\n            periodicWaveStore.add(periodicWave);\n\n            // This does violate all good pratices but it is used here to simplify the handling of periodic waves.\n            return periodicWave;\n        }\n\n        public static [Symbol.hasInstance](instance: unknown): boolean {\n            return (\n                (instance !== null && typeof instance === 'object' && Object.getPrototypeOf(instance) === PeriodicWave.prototype) ||\n                periodicWaveStore.has(<any>instance)\n            );\n        }\n    };\n};\n", "import { TRenderAutomationFactory } from '../types';\n\nexport const createRenderAutomation: TRenderAutomationFactory = (getAudioParamRenderer, renderInputsOfAudioParam) => {\n    return (nativeOfflineAudioContext, audioParam, nativeAudioParam) => {\n        const audioParamRenderer = getAudioParamRenderer(audioParam);\n\n        audioParamRenderer.replay(nativeAudioParam);\n\n        return renderInputsOfAudioParam(audioParam, nativeOfflineAudioContext, nativeAudioParam);\n    };\n};\n", "import { IAudioDestinationNode } from '../interfaces';\nimport { TRenderInputsOfAudioNodeFactory } from '../types';\n\nexport const createRenderInputsOfAudioNode: TRenderInputsOfAudioNodeFactory = (\n    getAudioNodeConnections,\n    getAudioNodeRenderer,\n    isPartOfACycle\n) => {\n    return async (audioNode, nativeOfflineAudioContext, nativeAudioNode) => {\n        const audioNodeConnections = getAudioNodeConnections(audioNode);\n\n        await Promise.all(\n            audioNodeConnections.activeInputs\n                .map((connections, input) =>\n                    Array.from(connections).map(async ([source, output]) => {\n                        const audioNodeRenderer = getAudioNodeRenderer(source);\n                        const renderedNativeAudioNode = await audioNodeRenderer.render(source, nativeOfflineAudioContext);\n                        const destination = <IAudioDestinationNode<typeof audioNode.context>>audioNode.context.destination;\n\n                        if (!isPartOfACycle(source) && (audioNode !== destination || !isPartOfACycle(audioNode))) {\n                            renderedNativeAudioNode.connect(nativeAudioNode, output, input);\n                        }\n                    })\n                )\n                .reduce((allRenderingPromises, renderingPromises) => [...allRenderingPromises, ...renderingPromises], [])\n        );\n    };\n};\n", "import { IAudioParam, IMinimalOfflineAudioContext, IOfflineAudioContext } from '../interfaces';\nimport { TNativeAudioParam, TNativeOfflineAudioContext, TRenderInputsOfAudioParamFactory } from '../types';\n\nexport const createRenderInputsOfAudioParam: TRenderInputsOfAudioParamFactory = (\n    getAudioNodeRenderer,\n    getAudioParamConnections,\n    isPartOfACycle\n) => {\n    return async <T extends IMinimalOfflineAudioContext | IOfflineAudioContext>(\n        audioParam: IAudioParam,\n        nativeOfflineAudioContext: TNativeOfflineAudioContext,\n        nativeAudioParam: TNativeAudioParam\n    ): Promise<void> => {\n        const audioParamConnections = getAudioParamConnections<T>(audioParam);\n\n        await Promise.all(\n            Array.from(audioParamConnections.activeInputs).map(async ([source, output]) => {\n                const audioNodeRenderer = getAudioNodeRenderer(source);\n                const renderedNativeAudioNode = await audioNodeRenderer.render(source, nativeOfflineAudioContext);\n\n                if (!isPartOfACycle(source)) {\n                    renderedNativeAudioNode.connect(nativeAudioParam, output);\n                }\n            })\n        );\n    };\n};\n", "import { testPromiseSupport } from '../helpers/test-promise-support';\nimport { IOfflineAudioCompletionEvent } from '../interfaces';\nimport { TNativeAudioBuffer, TRenderNativeOfflineAudioContextFactory } from '../types';\n\nexport const createRenderNativeOfflineAudioContext: TRenderNativeOfflineAudioContextFactory = (\n    cacheTestResult,\n    createNativeGainNode,\n    createNativeScriptProcessorNode,\n    testOfflineAudioContextCurrentTimeSupport\n) => {\n    return (nativeOfflineAudioContext) => {\n        // Bug #21: Safari does not support promises yet.\n        if (cacheTestResult(testPromiseSupport, () => testPromiseSupport(nativeOfflineAudioContext))) {\n            // Bug #158: Chrome and Edge do not advance currentTime if it is not accessed while rendering the audio.\n            return Promise.resolve(\n                cacheTestResult(testOfflineAudioContextCurrentTimeSupport, testOfflineAudioContextCurrentTimeSupport)\n            ).then((isOfflineAudioContextCurrentTimeSupported) => {\n                if (!isOfflineAudioContextCurrentTimeSupported) {\n                    const scriptProcessorNode = createNativeScriptProcessorNode(nativeOfflineAudioContext, 512, 0, 1);\n\n                    nativeOfflineAudioContext.oncomplete = () => {\n                        scriptProcessorNode.onaudioprocess = null; // tslint:disable-line:deprecation\n                        scriptProcessorNode.disconnect();\n                    };\n                    scriptProcessorNode.onaudioprocess = () => nativeOfflineAudioContext.currentTime; // tslint:disable-line:deprecation\n\n                    scriptProcessorNode.connect(nativeOfflineAudioContext.destination);\n                }\n\n                return nativeOfflineAudioContext.startRendering();\n            });\n        }\n\n        return new Promise<TNativeAudioBuffer>((resolve) => {\n            // Bug #48: Safari does not render an OfflineAudioContext without any connected node.\n            const gainNode = createNativeGainNode(nativeOfflineAudioContext, {\n                channelCount: 1,\n                channelCountMode: 'explicit',\n                channelInterpretation: 'discrete',\n                gain: 0\n            });\n\n            nativeOfflineAudioContext.oncomplete = (event: IOfflineAudioCompletionEvent) => {\n                gainNode.disconnect();\n\n                resolve(event.renderedBuffer);\n            };\n\n            gainNode.connect(nativeOfflineAudioContext.destination);\n\n            nativeOfflineAudioContext.startRendering();\n        });\n    };\n};\n", "import { TSetActiveAudioWorkletNodeInputsFactory } from '../types';\n\nexport const createSetActiveAudioWorkletNodeInputs: TSetActiveAudioWorkletNodeInputsFactory = (activeAudioWorkletNodeInputsStore) => {\n    return (nativeAudioWorkletNode, activeInputs) => {\n        activeAudioWorkletNodeInputsStore.set(nativeAudioWorkletNode, activeInputs);\n    };\n};\n", "import { TSetAudioNodeTailTimeFactory } from '../types';\n\nexport const createSetAudioNodeTailTime: TSetAudioNodeTailTimeFactory = (audioNodeTailTimeStore) => {\n    return (audioNode, tailTime) => audioNodeTailTimeStore.set(audioNode, tailTime);\n};\n", "import { wrapAudioBufferGetChannelDataMethod } from '../helpers/wrap-audio-buffer-get-channel-data-method';\nimport { TStartRenderingFactory } from '../types';\n\nexport const createStartRendering: TStartRenderingFactory = (\n    audioBufferStore,\n    cacheTestResult,\n    getAudioNodeRenderer,\n    getUnrenderedAudioWorkletNodes,\n    renderNativeOfflineAudioContext,\n    testAudioBufferCopyChannelMethodsOutOfBoundsSupport,\n    wrapAudioBufferCopyChannelMethods,\n    wrapAudioBufferCopyChannelMethodsOutOfBounds\n) => {\n    return (destination, nativeOfflineAudioContext) =>\n        getAudioNodeRenderer(destination)\n            .render(destination, nativeOfflineAudioContext)\n            /*\n             * Bug #86 & #87: Invoking the renderer of an AudioWorkletNode might be necessary if it has no direct or indirect connection to the\n             * destination.\n             */\n            .then(() =>\n                Promise.all(\n                    Array.from(getUnrenderedAudioWorkletNodes(nativeOfflineAudioContext)).map((audioWorkletNode) =>\n                        getAudioNodeRenderer(audioWorkletNode).render(audioWorkletNode, nativeOfflineAudioContext)\n                    )\n                )\n            )\n            .then(() => renderNativeOfflineAudioContext(nativeOfflineAudioContext))\n            .then((audioBuffer) => {\n                // Bug #5: Safari does not support copyFromChannel() and copyToChannel().\n                // Bug #100: Safari does throw a wrong error when calling getChannelData() with an out-of-bounds value.\n                if (typeof audioBuffer.copyFromChannel !== 'function') {\n                    wrapAudioBufferCopyChannelMethods(audioBuffer);\n                    wrapAudioBufferGetChannelDataMethod(audioBuffer);\n                    // Bug #157: Firefox does not allow the bufferOffset to be out-of-bounds.\n                } else if (\n                    !cacheTestResult(testAudioBufferCopyChannelMethodsOutOfBoundsSupport, () =>\n                        testAudioBufferCopyChannelMethodsOutOfBoundsSupport(audioBuffer)\n                    )\n                ) {\n                    wrapAudioBufferCopyChannelMethodsOutOfBounds(audioBuffer);\n                }\n\n                audioBufferStore.add(audioBuffer);\n\n                return audioBuffer;\n            });\n};\n", "import { IAudioParam, IStereoPannerNode, IStereoPannerOptions } from '../interfaces';\nimport { TAudioNodeRenderer, TContext, TStereoPannerNodeConstructorFactory } from '../types';\n\nconst DEFAULT_OPTIONS = {\n    channelCount: 2,\n    /*\n     * Bug #105: The channelCountMode should be 'clamped-max' according to the spec but is set to 'explicit' to achieve consistent\n     * behavior.\n     */\n    channelCountMode: 'explicit',\n    channelInterpretation: 'speakers',\n    pan: 0\n} as const;\n\nexport const createStereoPannerNodeConstructor: TStereoPannerNodeConstructorFactory = (\n    audioNodeConstructor,\n    createAudioParam,\n    createNativeStereoPannerNode,\n    createStereoPannerNodeRenderer,\n    getNativeContext,\n    isNativeOfflineAudioContext\n) => {\n    return class StereoPannerNode<T extends TContext> extends audioNodeConstructor<T> implements IStereoPannerNode<T> {\n        private _pan: IAudioParam;\n\n        constructor(context: T, options?: Partial<IStereoPannerOptions>) {\n            const nativeContext = getNativeContext(context);\n            const mergedOptions = { ...DEFAULT_OPTIONS, ...options };\n            const nativeStereoPannerNode = createNativeStereoPannerNode(nativeContext, mergedOptions);\n            const isOffline = isNativeOfflineAudioContext(nativeContext);\n            const stereoPannerNodeRenderer = <TAudioNodeRenderer<T, this>>(isOffline ? createStereoPannerNodeRenderer() : null);\n\n            super(context, false, nativeStereoPannerNode, stereoPannerNodeRenderer);\n\n            this._pan = createAudioParam(this, isOffline, nativeStereoPannerNode.pan);\n        }\n\n        get pan(): IAudioParam {\n            return this._pan;\n        }\n    };\n};\n", "import { isNativeAudioNodeFaker } from '../guards/native-audio-node-faker';\nimport { isOwnedByContext } from '../helpers/is-owned-by-context';\nimport { IMinimalOfflineAudioContext, IOfflineAudioContext, IStereoPannerNode } from '../interfaces';\nimport { TNativeOfflineAudioContext, TNativeStereoPannerNode, TStereoPannerNodeRendererFactoryFactory } from '../types';\n\nexport const createStereoPannerNodeRendererFactory: TStereoPannerNodeRendererFactoryFactory = (\n    connectAudioParam,\n    createNativeStereoPannerNode,\n    getNativeAudioNode,\n    renderAutomation,\n    renderInputsOfAudioNode\n) => {\n    return <T extends IMinimalOfflineAudioContext | IOfflineAudioContext>() => {\n        const renderedNativeStereoPannerNodes = new WeakMap<TNativeOfflineAudioContext, TNativeStereoPannerNode>();\n\n        const createStereoPannerNode = async (proxy: IStereoPannerNode<T>, nativeOfflineAudioContext: TNativeOfflineAudioContext) => {\n            let nativeStereoPannerNode = getNativeAudioNode<T, TNativeStereoPannerNode>(proxy);\n\n            /*\n             * If the initially used nativeStereoPannerNode was not constructed on the same OfflineAudioContext it needs to be created\n             * again.\n             */\n            const nativeStereoPannerNodeIsOwnedByContext = isOwnedByContext(nativeStereoPannerNode, nativeOfflineAudioContext);\n\n            if (!nativeStereoPannerNodeIsOwnedByContext) {\n                const options = {\n                    channelCount: nativeStereoPannerNode.channelCount,\n                    channelCountMode: nativeStereoPannerNode.channelCountMode,\n                    channelInterpretation: nativeStereoPannerNode.channelInterpretation,\n                    pan: nativeStereoPannerNode.pan.value\n                };\n\n                nativeStereoPannerNode = createNativeStereoPannerNode(nativeOfflineAudioContext, options);\n            }\n\n            renderedNativeStereoPannerNodes.set(nativeOfflineAudioContext, nativeStereoPannerNode);\n\n            if (!nativeStereoPannerNodeIsOwnedByContext) {\n                await renderAutomation(nativeOfflineAudioContext, proxy.pan, nativeStereoPannerNode.pan);\n            } else {\n                await connectAudioParam(nativeOfflineAudioContext, proxy.pan, nativeStereoPannerNode.pan);\n            }\n\n            if (isNativeAudioNodeFaker(nativeStereoPannerNode)) {\n                await renderInputsOfAudioNode(proxy, nativeOfflineAudioContext, nativeStereoPannerNode.inputs[0]);\n            } else {\n                await renderInputsOfAudioNode(proxy, nativeOfflineAudioContext, nativeStereoPannerNode);\n            }\n\n            return nativeStereoPannerNode;\n        };\n\n        return {\n            render(proxy: IStereoPannerNode<T>, nativeOfflineAudioContext: TNativeOfflineAudioContext): Promise<TNativeStereoPannerNode> {\n                const renderedNativeStereoPannerNode = renderedNativeStereoPannerNodes.get(nativeOfflineAudioContext);\n\n                if (renderedNativeStereoPannerNode !== undefined) {\n                    return Promise.resolve(renderedNativeStereoPannerNode);\n                }\n\n                return createStereoPannerNode(proxy, nativeOfflineAudioContext);\n            }\n        };\n    };\n};\n", "import { TTestAudioBufferConstructorSupportFactory } from '../types';\n\n// Bug #33: Safari exposes an AudioBuffer but it can't be used as a constructor.\nexport const createTestAudioBufferConstructorSupport: TTestAudioBufferConstructorSupportFactory = (nativeAudioBufferConstructor) => {\n    return () => {\n        if (nativeAudioBufferConstructor === null) {\n            return false;\n        }\n\n        try {\n            new nativeAudioBufferConstructor({ length: 1, sampleRate: 44100 }); // tslint:disable-line:no-unused-expression\n        } catch {\n            return false;\n        }\n\n        return true;\n    };\n};\n", "import { TTestAudioBufferCopyChannelMethodsSubarraySupportFactory } from '../types';\n\n/*\n * Firefox up to version 67 didn't fully support the copyFromChannel() and copyToChannel() methods. Therefore testing one of those methods\n * is enough to know if the other one is supported as well.\n */\nexport const createTestAudioBufferCopyChannelMethodsSubarraySupport: TTestAudioBufferCopyChannelMethodsSubarraySupportFactory = (\n    nativeOfflineAudioContextConstructor\n) => {\n    return () => {\n        if (nativeOfflineAudioContextConstructor === null) {\n            return false;\n        }\n\n        const nativeOfflineAudioContext = new nativeOfflineAudioContextConstructor(1, 1, 44100);\n        const nativeAudioBuffer = nativeOfflineAudioContext.createBuffer(1, 1, 44100);\n\n        // Bug #5: Safari does not support copyFromChannel() and copyToChannel().\n        if (nativeAudioBuffer.copyToChannel === undefined) {\n            return true;\n        }\n\n        const source = new Float32Array(2);\n\n        try {\n            nativeAudioBuffer.copyFromChannel(source, 0, 0);\n        } catch {\n            return false;\n        }\n\n        return true;\n    };\n};\n", "import { TTestAudioContextCloseMethodSupportFactory } from '../types';\n\nexport const createTestAudioContextCloseMethodSupport: TTestAudioContextCloseMethodSupportFactory = (nativeAudioContextConstructor) => {\n    return () => {\n        if (nativeAudioContextConstructor === null) {\n            return false;\n        }\n\n        // Try to check the prototype before constructing the AudioContext.\n        if (nativeAudioContextConstructor.prototype !== undefined && nativeAudioContextConstructor.prototype.close !== undefined) {\n            return true;\n        }\n\n        const audioContext = new nativeAudioContextConstructor();\n\n        const isAudioContextClosable = audioContext.close !== undefined;\n\n        try {\n            audioContext.close();\n        } catch {\n            // Ignore errors.\n        }\n\n        return isAudioContextClosable;\n    };\n};\n", "import { TTestAudioContextDecodeAudioDataMethodTypeErrorSupportFactory } from '../types';\n\n/**\n * Edge up to version 14, Firefox up to version 52, Safari up to version 9 and maybe other browsers\n * did not refuse to decode invalid parameters with a TypeError.\n */\nexport const createTestAudioContextDecodeAudioDataMethodTypeErrorSupport: TTestAudioContextDecodeAudioDataMethodTypeErrorSupportFactory = (\n    nativeOfflineAudioContextConstructor\n) => {\n    return () => {\n        if (nativeOfflineAudioContextConstructor === null) {\n            return Promise.resolve(false);\n        }\n\n        const offlineAudioContext = new nativeOfflineAudioContextConstructor(1, 1, 44100);\n\n        // Bug #21: Safari does not support promises yet.\n        return new Promise((resolve) => {\n            let isPending = true;\n\n            const resolvePromise = (err: Error) => {\n                if (isPending) {\n                    isPending = false;\n\n                    offlineAudioContext.startRendering();\n\n                    resolve(err instanceof TypeError);\n                }\n            };\n\n            let promise;\n\n            // Bug #26: Safari throws a synchronous error.\n            try {\n                promise = offlineAudioContext\n                    // Bug #1: Safari requires a successCallback.\n                    .decodeAudioData(\n                        <any>null,\n                        () => {\n                            // Ignore the success callback.\n                        },\n                        resolvePromise\n                    );\n            } catch (err) {\n                resolvePromise(err);\n            }\n\n            // Bug #21: Safari does not support promises yet.\n            if (promise !== undefined) {\n                // Bug #6: Chrome, Edge and Firefox do not call the errorCallback.\n                promise.catch(resolvePromise);\n            }\n        });\n    };\n};\n", "import { TTestAudioContextOptionsSupportFactory } from '../types';\n\nexport const createTestAudioContextOptionsSupport: TTestAudioContextOptionsSupportFactory = (nativeAudioContextConstructor) => {\n    return () => {\n        if (nativeAudioContextConstructor === null) {\n            return false;\n        }\n\n        let audioContext;\n\n        try {\n            audioContext = new nativeAudioContextConstructor({ latencyHint: 'balanced' });\n        } catch {\n            return false;\n        }\n\n        audioContext.close();\n\n        return true;\n    };\n};\n", "import { TTestAudioNodeConnectMethodSupportFactory } from '../types';\n\n// Safari up to version 12.0 (but not v12.1) didn't return the destination in case it was an AudioNode.\nexport const createTestAudioNodeConnectMethodSupport: TTestAudioNodeConnectMethodSupportFactory = (\n    nativeOfflineAudioContextConstructor\n) => {\n    return () => {\n        if (nativeOfflineAudioContextConstructor === null) {\n            return false;\n        }\n\n        const nativeOfflineAudioContext = new nativeOfflineAudioContextConstructor(1, 1, 44100);\n        const nativeGainNode = nativeOfflineAudioContext.createGain();\n        const isSupported = nativeGainNode.connect(nativeGainNode) === nativeGainNode;\n\n        nativeGainNode.disconnect(nativeGainNode);\n\n        return isSupported;\n    };\n};\n", "import { TTestAudioWorkletProcessorNoOutputsSupportFactory } from '../types';\n\n/**\n * Chrome version 66 and 67 did not call the process() function of an AudioWorkletProcessor if it had no outputs. AudioWorklet support was\n * enabled by default in version 66.\n */\nexport const createTestAudioWorkletProcessorNoOutputsSupport: TTestAudioWorkletProcessorNoOutputsSupportFactory = (\n    nativeAudioWorkletNodeConstructor,\n    nativeOfflineAudioContextConstructor\n) => {\n    return async () => {\n        // Bug #61: If there is no native AudioWorkletNode it gets faked and therefore it is no problem if the it doesn't exist.\n        if (nativeAudioWorkletNodeConstructor === null) {\n            return true;\n        }\n\n        if (nativeOfflineAudioContextConstructor === null) {\n            return false;\n        }\n\n        const blob = new Blob(\n            [\n                'let c,p;class A extends AudioWorkletProcessor{constructor(){super();this.port.onmessage=(e)=>{p=e.data;p.onmessage=()=>{p.postMessage(c);p.close()};this.port.postMessage(0)}}process(){c=1}}registerProcessor(\"a\",A)'\n            ],\n            {\n                type: 'application/javascript; charset=utf-8'\n            }\n        );\n        const messageChannel = new MessageChannel();\n        // Bug #141: Safari does not support creating an OfflineAudioContext with less than 44100 Hz.\n        const offlineAudioContext = new nativeOfflineAudioContextConstructor(1, 128, 44100);\n        const url = URL.createObjectURL(blob);\n\n        let isCallingProcess = false;\n\n        try {\n            await offlineAudioContext.audioWorklet.addModule(url);\n\n            const audioWorkletNode = new nativeAudioWorkletNodeConstructor(offlineAudioContext, 'a', { numberOfOutputs: 0 });\n            const oscillator = offlineAudioContext.createOscillator();\n\n            await new Promise<void>((resolve) => {\n                audioWorkletNode.port.onmessage = () => resolve();\n                audioWorkletNode.port.postMessage(messageChannel.port2, [messageChannel.port2]);\n            });\n\n            audioWorkletNode.port.onmessage = () => (isCallingProcess = true);\n\n            oscillator.connect(audioWorkletNode);\n            oscillator.start(0);\n\n            await offlineAudioContext.startRendering();\n\n            isCallingProcess = await new Promise((resolve) => {\n                messageChannel.port1.onmessage = ({ data }) => resolve(data === 1);\n                messageChannel.port1.postMessage(0);\n            });\n        } catch {\n            // Ignore errors.\n        } finally {\n            messageChannel.port1.close();\n            URL.revokeObjectURL(url);\n        }\n\n        return isCallingProcess;\n    };\n};\n", "import { TTestAudioWorkletProcessorPostMessageSupportFactory } from '../types';\n\n// Bug #179: Firefox does not allow to transfer any buffer which has been passed to the process() method as an argument.\nexport const createTestAudioWorkletProcessorPostMessageSupport: TTestAudioWorkletProcessorPostMessageSupportFactory = (\n    nativeAudioWorkletNodeConstructor,\n    nativeOfflineAudioContextConstructor\n) => {\n    return async () => {\n        // Bug #61: If there is no native AudioWorkletNode it gets faked and therefore it is no problem if the it doesn't exist.\n        if (nativeAudioWorkletNodeConstructor === null) {\n            return true;\n        }\n\n        if (nativeOfflineAudioContextConstructor === null) {\n            return false;\n        }\n\n        const blob = new Blob(\n            ['class A extends AudioWorkletProcessor{process(i){this.port.postMessage(i,[i[0][0].buffer])}}registerProcessor(\"a\",A)'],\n            {\n                type: 'application/javascript; charset=utf-8'\n            }\n        );\n        // Bug #141: Safari does not support creating an OfflineAudioContext with less than 44100 Hz.\n        const offlineAudioContext = new nativeOfflineAudioContextConstructor(1, 128, 44100);\n        const url = URL.createObjectURL(blob);\n\n        let isEmittingMessageEvents = false;\n        let isEmittingProcessorErrorEvents = false;\n\n        try {\n            await offlineAudioContext.audioWorklet.addModule(url);\n\n            const audioWorkletNode = new nativeAudioWorkletNodeConstructor(offlineAudioContext, 'a', { numberOfOutputs: 0 });\n            const oscillator = offlineAudioContext.createOscillator();\n\n            audioWorkletNode.port.onmessage = () => (isEmittingMessageEvents = true);\n            audioWorkletNode.onprocessorerror = () => (isEmittingProcessorErrorEvents = true);\n\n            oscillator.connect(audioWorkletNode);\n            oscillator.start(0);\n\n            await offlineAudioContext.startRendering();\n\n            // Bug #197: Safari does not deliver the messages before the promise returned by startRendering() resolves.\n            await new Promise((resolve) => setTimeout(resolve));\n        } catch {\n            // Ignore errors.\n        } finally {\n            URL.revokeObjectURL(url);\n        }\n\n        return isEmittingMessageEvents && !isEmittingProcessorErrorEvents;\n    };\n};\n", "import { TTestChannelMergerNodeChannelCountSupportFactory } from '../types';\n\n/**\n * Firefox up to version 69 did not throw an error when setting a different channelCount or channelCountMode.\n */\nexport const createTestChannelMergerNodeChannelCountSupport: TTestChannelMergerNodeChannelCountSupportFactory = (\n    nativeOfflineAudioContextConstructor\n) => {\n    return () => {\n        if (nativeOfflineAudioContextConstructor === null) {\n            return false;\n        }\n\n        const offlineAudioContext = new nativeOfflineAudioContextConstructor(1, 1, 44100);\n        const nativeChannelMergerNode = offlineAudioContext.createChannelMerger();\n\n        /**\n         * Bug #15: Safari does not return the default properties. It still needs to be patched. This test is supposed to test the support\n         * in other browsers.\n         */\n        if (nativeChannelMergerNode.channelCountMode === 'max') {\n            return true;\n        }\n\n        try {\n            nativeChannelMergerNode.channelCount = 2;\n        } catch {\n            return true;\n        }\n\n        return false;\n    };\n};\n", "import { TTestConstantSourceNodeAccurateSchedulingSupportFactory } from '../types';\n\nexport const createTestConstantSourceNodeAccurateSchedulingSupport: TTestConstantSourceNodeAccurateSchedulingSupportFactory = (\n    nativeOfflineAudioContextConstructor\n) => {\n    return () => {\n        if (nativeOfflineAudioContextConstructor === null) {\n            return false;\n        }\n\n        const nativeOfflineAudioContext = new nativeOfflineAudioContextConstructor(1, 1, 44100);\n\n        // Bug #62: Safari does not support ConstantSourceNodes.\n        if (nativeOfflineAudioContext.createConstantSource === undefined) {\n            return true;\n        }\n\n        const nativeConstantSourceNode = nativeOfflineAudioContext.createConstantSource();\n\n        /*\n         * @todo This is using bug #75 to detect bug #70. That works because both bugs were unique to\n         * the implementation of Firefox right now, but it could probably be done in a better way.\n         */\n        return nativeConstantSourceNode.offset.maxValue !== Number.POSITIVE_INFINITY;\n    };\n};\n", "import { TTestConvolverNodeBufferReassignabilitySupportFactory } from '../types';\n\n// Opera up to version 57 did not allow to reassign the buffer of a ConvolverNode.\nexport const createTestConvolverNodeBufferReassignabilitySupport: TTestConvolverNodeBufferReassignabilitySupportFactory = (\n    nativeOfflineAudioContextConstructor\n) => {\n    return () => {\n        if (nativeOfflineAudioContextConstructor === null) {\n            return false;\n        }\n\n        const offlineAudioContext = new nativeOfflineAudioContextConstructor(1, 1, 44100);\n        const nativeConvolverNode = offlineAudioContext.createConvolver();\n\n        nativeConvolverNode.buffer = offlineAudioContext.createBuffer(1, 1, offlineAudioContext.sampleRate);\n\n        try {\n            nativeConvolverNode.buffer = offlineAudioContext.createBuffer(1, 1, offlineAudioContext.sampleRate);\n        } catch {\n            return false;\n        }\n\n        return true;\n    };\n};\n", "import { TTestConvolverNodeChannelCountSupportFactory } from '../types';\n\n// Chrome up to version v80, Edge up to version v80 and Opera up to version v67 did not allow to set the channelCount property of a ConvolverNode to 1. They also did not allow to set the channelCountMode to 'explicit'.\nexport const createTestConvolverNodeChannelCountSupport: TTestConvolverNodeChannelCountSupportFactory = (\n    nativeOfflineAudioContextConstructor\n) => {\n    return () => {\n        if (nativeOfflineAudioContextConstructor === null) {\n            return false;\n        }\n\n        const offlineAudioContext = new nativeOfflineAudioContextConstructor(1, 1, 44100);\n        const nativeConvolverNode = offlineAudioContext.createConvolver();\n\n        try {\n            nativeConvolverNode.channelCount = 1;\n        } catch {\n            return false;\n        }\n\n        return true;\n    };\n};\n", "import { TTestIsSecureContextSupportFactory } from '../types';\n\nexport const createTestIsSecureContextSupport: TTestIsSecureContextSupportFactory = (window) => {\n    return () => window !== null && window.hasOwnProperty('isSecureContext');\n};\n", "import { TTestMediaStreamAudioSourceNodeMediaStreamWithoutAudioTrackSupportFactory } from '../types';\n\n// Firefox up to version 68 did not throw an error when creating a MediaStreamAudioSourceNode with a mediaStream that had no audio track.\nexport const createTestMediaStreamAudioSourceNodeMediaStreamWithoutAudioTrackSupport: TTestMediaStreamAudioSourceNodeMediaStreamWithoutAudioTrackSupportFactory =\n    (nativeAudioContextConstructor) => {\n        return () => {\n            if (nativeAudioContextConstructor === null) {\n                return false;\n            }\n\n            const audioContext = new nativeAudioContextConstructor();\n\n            try {\n                audioContext.createMediaStreamSource(new MediaStream());\n\n                return false;\n            } catch (err) {\n                return true;\n            } finally {\n                audioContext.close();\n            }\n        };\n    };\n", "import { TTestOfflineAudioContextCurrentTimeSupportFactory } from '../types';\n\nexport const createTestOfflineAudioContextCurrentTimeSupport: TTestOfflineAudioContextCurrentTimeSupportFactory = (\n    createNativeGainNode,\n    nativeOfflineAudioContextConstructor\n) => {\n    return () => {\n        if (nativeOfflineAudioContextConstructor === null) {\n            return Promise.resolve(false);\n        }\n\n        const nativeOfflineAudioContext = new nativeOfflineAudioContextConstructor(1, 1, 44100);\n\n        // Bug #48: Safari does not render an OfflineAudioContext without any connected node.\n        const gainNode = createNativeGainNode(nativeOfflineAudioContext, {\n            channelCount: 1,\n            channelCountMode: 'explicit',\n            channelInterpretation: 'discrete',\n            gain: 0\n        });\n\n        // Bug #21: Safari does not support promises yet.\n        return new Promise((resolve) => {\n            nativeOfflineAudioContext.oncomplete = () => {\n                gainNode.disconnect();\n\n                resolve(nativeOfflineAudioContext.currentTime !== 0);\n            };\n            nativeOfflineAudioContext.startRendering();\n        });\n    };\n};\n", "import { TTestStereoPannerNodeDefaultValueSupportFactory } from '../types';\n\n/**\n * Firefox up to version 62 did not kick off the processing of the StereoPannerNode if the value of pan was zero.\n */\nexport const createTestStereoPannerNodeDefaultValueSupport: TTestStereoPannerNodeDefaultValueSupportFactory = (\n    nativeOfflineAudioContextConstructor\n) => {\n    return () => {\n        if (nativeOfflineAudioContextConstructor === null) {\n            return Promise.resolve(false);\n        }\n\n        const nativeOfflineAudioContext = new nativeOfflineAudioContextConstructor(1, 1, 44100);\n\n        /*\n         * Bug #105: Safari does not support the StereoPannerNode. Therefore the returned value should normally be false but the faker does\n         * support the tested behaviour.\n         */\n        if (nativeOfflineAudioContext.createStereoPanner === undefined) {\n            return Promise.resolve(true);\n        }\n\n        // Bug #62: Safari does not support ConstantSourceNodes.\n        if (nativeOfflineAudioContext.createConstantSource === undefined) {\n            return Promise.resolve(true);\n        }\n\n        const constantSourceNode = nativeOfflineAudioContext.createConstantSource();\n        const stereoPanner = nativeOfflineAudioContext.createStereoPanner();\n\n        constantSourceNode.channelCount = 1;\n        constantSourceNode.offset.value = 1;\n\n        stereoPanner.channelCount = 1;\n\n        constantSourceNode.start();\n\n        constantSourceNode.connect(stereoPanner).connect(nativeOfflineAudioContext.destination);\n\n        return nativeOfflineAudioContext.startRendering().then((buffer) => buffer.getChannelData(0)[0] !== 1);\n    };\n};\n", "import { TUnknownErrorFactory } from '../types';\n\nexport const createUnknownError: TUnknownErrorFactory = () => new DOMException('', 'UnknownError');\n", "import { IWaveShaperNode, IWaveShaperOptions } from '../interfaces';\nimport { TAudioNodeRenderer, TContext, TNativeWaveShaperNode, TOverSampleType, TWaveShaperNodeConstructorFactory } from '../types';\n\nconst DEFAULT_OPTIONS = {\n    channelCount: 2,\n    channelCountMode: 'max',\n    channelInterpretation: 'speakers',\n    curve: null,\n    oversample: 'none'\n} as const;\n\nexport const createWaveShaperNodeConstructor: TWaveShaperNodeConstructorFactory = (\n    audioNodeConstructor,\n    createInvalidStateError,\n    createNativeWaveShaperNode,\n    createWaveShaperNodeRenderer,\n    getNativeContext,\n    isNativeOfflineAudioContext,\n    setAudioNodeTailTime\n) => {\n    return class WaveShaperNode<T extends TContext> extends audioNodeConstructor<T> implements IWaveShaperNode<T> {\n        private _isCurveNullified: boolean;\n\n        private _nativeWaveShaperNode: TNativeWaveShaperNode;\n\n        constructor(context: T, options?: Partial<IWaveShaperOptions>) {\n            const nativeContext = getNativeContext(context);\n            const mergedOptions = { ...DEFAULT_OPTIONS, ...options };\n            const nativeWaveShaperNode = createNativeWaveShaperNode(nativeContext, mergedOptions);\n            const isOffline = isNativeOfflineAudioContext(nativeContext);\n            const waveShaperNodeRenderer = <TAudioNodeRenderer<T, this>>(isOffline ? createWaveShaperNodeRenderer() : null);\n\n            // @todo Add a mechanism to only switch a WaveShaperNode to active while it is connected.\n            super(context, true, nativeWaveShaperNode, waveShaperNodeRenderer);\n\n            this._isCurveNullified = false;\n            this._nativeWaveShaperNode = nativeWaveShaperNode;\n\n            // @todo Determine a meaningful tail-time instead of just using one second.\n            setAudioNodeTailTime(this, 1);\n        }\n\n        get curve(): null | Float32Array {\n            if (this._isCurveNullified) {\n                return null;\n            }\n\n            return this._nativeWaveShaperNode.curve;\n        }\n\n        set curve(value) {\n            // Bug #103: Safari does not allow to set the curve to null.\n            if (value === null) {\n                this._isCurveNullified = true;\n                this._nativeWaveShaperNode.curve = new Float32Array([0, 0]);\n            } else {\n                // Bug #102: Safari does not throw an InvalidStateError when the curve has less than two samples.\n                // Bug #104: Chrome and Edge will throw an InvalidAccessError when the curve has less than two samples.\n                if (value.length < 2) {\n                    throw createInvalidStateError();\n                }\n\n                this._isCurveNullified = false;\n                this._nativeWaveShaperNode.curve = value;\n            }\n        }\n\n        get oversample(): TOverSampleType {\n            return this._nativeWaveShaperNode.oversample;\n        }\n\n        set oversample(value) {\n            this._nativeWaveShaperNode.oversample = value;\n        }\n    };\n};\n", "import { isNativeAudioNodeFaker } from '../guards/native-audio-node-faker';\nimport { isOwnedByContext } from '../helpers/is-owned-by-context';\nimport { IMinimalOfflineAudioContext, IOfflineAudioContext, IWaveShaperNode } from '../interfaces';\nimport { TNativeOfflineAudioContext, TNativeWaveShaperNode, TWaveShaperNodeRendererFactoryFactory } from '../types';\n\nexport const createWaveShaperNodeRendererFactory: TWaveShaperNodeRendererFactoryFactory = (\n    createNativeWaveShaperNode,\n    getNativeAudioNode,\n    renderInputsOfAudioNode\n) => {\n    return <T extends IMinimalOfflineAudioContext | IOfflineAudioContext>() => {\n        const renderedNativeWaveShaperNodes = new WeakMap<TNativeOfflineAudioContext, TNativeWaveShaperNode>();\n\n        const createWaveShaperNode = async (proxy: IWaveShaperNode<T>, nativeOfflineAudioContext: TNativeOfflineAudioContext) => {\n            let nativeWaveShaperNode = getNativeAudioNode<T, TNativeWaveShaperNode>(proxy);\n\n            // If the initially used nativeWaveShaperNode was not constructed on the same OfflineAudioContext it needs to be created again.\n            const nativeWaveShaperNodeIsOwnedByContext = isOwnedByContext(nativeWaveShaperNode, nativeOfflineAudioContext);\n\n            if (!nativeWaveShaperNodeIsOwnedByContext) {\n                const options = {\n                    channelCount: nativeWaveShaperNode.channelCount,\n                    channelCountMode: nativeWaveShaperNode.channelCountMode,\n                    channelInterpretation: nativeWaveShaperNode.channelInterpretation,\n                    curve: nativeWaveShaperNode.curve,\n                    oversample: nativeWaveShaperNode.oversample\n                };\n\n                nativeWaveShaperNode = createNativeWaveShaperNode(nativeOfflineAudioContext, options);\n            }\n\n            renderedNativeWaveShaperNodes.set(nativeOfflineAudioContext, nativeWaveShaperNode);\n\n            if (isNativeAudioNodeFaker(nativeWaveShaperNode)) {\n                await renderInputsOfAudioNode(proxy, nativeOfflineAudioContext, nativeWaveShaperNode.inputs[0]);\n            } else {\n                await renderInputsOfAudioNode(proxy, nativeOfflineAudioContext, nativeWaveShaperNode);\n            }\n\n            return nativeWaveShaperNode;\n        };\n\n        return {\n            render(proxy: IWaveShaperNode<T>, nativeOfflineAudioContext: TNativeOfflineAudioContext): Promise<TNativeWaveShaperNode> {\n                const renderedNativeWaveShaperNode = renderedNativeWaveShaperNodes.get(nativeOfflineAudioContext);\n\n                if (renderedNativeWaveShaperNode !== undefined) {\n                    return Promise.resolve(renderedNativeWaveShaperNode);\n                }\n\n                return createWaveShaperNode(proxy, nativeOfflineAudioContext);\n            }\n        };\n    };\n};\n", "import { TWindow, TWindowFactory } from '../types';\n\nexport const createWindow: TWindowFactory = () => (typeof window === 'undefined' ? null : <TWindow>window);\n", "import { TNativeAudioBuffer, TWrapAudioBufferCopyChannelMethodsFactory } from '../types';\n\nexport const createWrapAudioBufferCopyChannelMethods: TWrapAudioBufferCopyChannelMethodsFactory = (\n    convertNumberToUnsignedLong,\n    createIndexSizeError\n) => {\n    return (audioBuffer: TNativeAudioBuffer): void => {\n        audioBuffer.copyFromChannel = (destination, channelNumberAsNumber, bufferOffsetAsNumber = 0) => {\n            const bufferOffset = convertNumberToUnsignedLong(bufferOffsetAsNumber);\n            const channelNumber = convertNumberToUnsignedLong(channelNumberAsNumber);\n\n            if (channelNumber >= audioBuffer.numberOfChannels) {\n                throw createIndexSizeError();\n            }\n\n            const audioBufferLength = audioBuffer.length;\n            const channelData = audioBuffer.getChannelData(channelNumber);\n            const destinationLength = destination.length;\n\n            for (let i = bufferOffset < 0 ? -bufferOffset : 0; i + bufferOffset < audioBufferLength && i < destinationLength; i += 1) {\n                destination[i] = channelData[i + bufferOffset];\n            }\n        };\n\n        audioBuffer.copyToChannel = (source, channelNumberAsNumber, bufferOffsetAsNumber = 0) => {\n            const bufferOffset = convertNumberToUnsignedLong(bufferOffsetAsNumber);\n            const channelNumber = convertNumberToUnsignedLong(channelNumberAsNumber);\n\n            if (channelNumber >= audioBuffer.numberOfChannels) {\n                throw createIndexSizeError();\n            }\n\n            const audioBufferLength = audioBuffer.length;\n            const channelData = audioBuffer.getChannelData(channelNumber);\n            const sourceLength = source.length;\n\n            for (let i = bufferOffset < 0 ? -bufferOffset : 0; i + bufferOffset < audioBufferLength && i < sourceLength; i += 1) {\n                channelData[i + bufferOffset] = source[i];\n            }\n        };\n    };\n};\n", "import { TNativeAudioBuffer, TWrapAudioBufferCopyChannelMethodsOutOfBoundsFactory } from '../types';\n\nexport const createWrapAudioBufferCopyChannelMethodsOutOfBounds: TWrapAudioBufferCopyChannelMethodsOutOfBoundsFactory = (\n    convertNumberToUnsignedLong\n) => {\n    return (audioBuffer: TNativeAudioBuffer): void => {\n        audioBuffer.copyFromChannel = ((copyFromChannel) => {\n            return (destination: Float32Array, channelNumberAsNumber: number, bufferOffsetAsNumber = 0) => {\n                const bufferOffset = convertNumberToUnsignedLong(bufferOffsetAsNumber);\n                const channelNumber = convertNumberToUnsignedLong(channelNumberAsNumber);\n\n                if (bufferOffset < audioBuffer.length) {\n                    return copyFromChannel.call(audioBuffer, destination, channelNumber, bufferOffset);\n                }\n            };\n        })(audioBuffer.copyFromChannel);\n\n        audioBuffer.copyToChannel = ((copyToChannel) => {\n            return (source: Float32Array, channelNumberAsNumber: number, bufferOffsetAsNumber = 0) => {\n                const bufferOffset = convertNumberToUnsignedLong(bufferOffsetAsNumber);\n                const channelNumber = convertNumberToUnsignedLong(channelNumberAsNumber);\n\n                if (bufferOffset < audioBuffer.length) {\n                    return copyToChannel.call(audioBuffer, source, channelNumber, bufferOffset);\n                }\n            };\n        })(audioBuffer.copyToChannel);\n    };\n};\n", "import { TWrapAudioBufferSourceNodeStopMethodNullifiedBufferFactory } from '../types';\n\nexport const createWrapAudioBufferSourceNodeStopMethodNullifiedBuffer: TWrapAudioBufferSourceNodeStopMethodNullifiedBufferFactory = (\n    overwriteAccessors\n) => {\n    return (nativeAudioBufferSourceNode, nativeContext) => {\n        const nullifiedBuffer = nativeContext.createBuffer(1, 1, 44100);\n\n        if (nativeAudioBufferSourceNode.buffer === null) {\n            nativeAudioBufferSourceNode.buffer = nullifiedBuffer;\n        }\n\n        overwriteAccessors(\n            nativeAudioBufferSourceNode,\n            'buffer',\n            (get) => () => {\n                const value = get.call(nativeAudioBufferSourceNode);\n\n                return value === nullifiedBuffer ? null : value;\n            },\n            (set) => (value) => {\n                return set.call(nativeAudioBufferSourceNode, value === null ? nullifiedBuffer : value);\n            }\n        );\n    };\n};\n", "import { TWrapChannelMergerNodeFactory } from '../types';\n\nexport const createWrapChannelMergerNode: TWrapChannelMergerNodeFactory = (createInvalidStateError, monitorConnections) => {\n    return (nativeContext, channelMergerNode) => {\n        // Bug #15: Safari does not return the default properties.\n        channelMergerNode.channelCount = 1;\n        channelMergerNode.channelCountMode = 'explicit';\n\n        // Bug #16: Safari does not throw an error when setting a different channelCount or channelCountMode.\n        Object.defineProperty(channelMergerNode, 'channelCount', {\n            get: () => 1,\n            set: () => {\n                throw createInvalidStateError();\n            }\n        });\n\n        Object.defineProperty(channelMergerNode, 'channelCountMode', {\n            get: () => 'explicit',\n            set: () => {\n                throw createInvalidStateError();\n            }\n        });\n\n        // Bug #20: Safari requires a connection of any kind to treat the input signal correctly.\n        const audioBufferSourceNode = nativeContext.createBufferSource();\n\n        const whenConnected = () => {\n            const length = channelMergerNode.numberOfInputs;\n\n            for (let i = 0; i < length; i += 1) {\n                audioBufferSourceNode.connect(channelMergerNode, 0, i);\n            }\n        };\n        const whenDisconnected = () => audioBufferSourceNode.disconnect(channelMergerNode);\n\n        monitorConnections(channelMergerNode, whenConnected, whenDisconnected);\n    };\n};\n", "import { TGetFirstSampleFunction } from '../types';\n\nexport const getFirstSample: TGetFirstSampleFunction = (audioBuffer, buffer, channelNumber) => {\n    // Bug #5: Safari does not support copyFromChannel() and copyToChannel().\n    if (audioBuffer.copyFromChannel === undefined) {\n        return audioBuffer.getChannelData(channelNumber)[0];\n    }\n\n    audioBuffer.copyFromChannel(buffer, channelNumber);\n\n    return buffer[0];\n};\n", "import { TIsDCCurveFunction } from '../types';\n\nexport const isDCCurve: TIsDCCurveFunction = (curve) => {\n    if (curve === null) {\n        return false;\n    }\n\n    const length = curve.length;\n\n    if (length % 2 !== 0) {\n        return curve[Math.floor(length / 2)] !== 0;\n    }\n\n    return curve[length / 2 - 1] + curve[length / 2] !== 0;\n};\n", "import { TOverwriteAccessorsFunction } from '../types';\n\nexport const overwriteAccessors: TOverwriteAccessorsFunction = (object, property, createGetter, createSetter) => {\n    let prototype = object;\n\n    while (!prototype.hasOwnProperty(property)) {\n        prototype = Object.getPrototypeOf(prototype);\n    }\n\n    const { get, set } = <Required<PropertyDescriptor>>Object.getOwnPropertyDescriptor(prototype, property);\n\n    Object.defineProperty(object, property, { get: createGetter(get), set: createSetter(set) });\n};\n", "import { TSanitizeAudioWorkletNodeOptionsFunction } from '../types';\n\nexport const sanitizeAudioWorkletNodeOptions: TSanitizeAudioWorkletNodeOptionsFunction = (options) => {\n    return {\n        ...options,\n        outputChannelCount:\n            options.outputChannelCount !== undefined\n                ? options.outputChannelCount\n                : options.numberOfInputs === 1 && options.numberOfOutputs === 1\n                ? /*\n                   * Bug #61: This should be the computedNumberOfChannels, but unfortunately that is almost impossible to fake. That's why\n                   * the channelCountMode is required to be 'explicit' as long as there is not a native implementation in every browser. That\n                   * makes sure the computedNumberOfChannels is equivilant to the channelCount which makes it much easier to compute.\n                   */\n                  [options.channelCount]\n                : Array.from({ length: options.numberOfOutputs }, () => 1)\n    };\n};\n", "import { TSanitizeChannelSplitterOptionsFunction } from '../types';\n\nexport const sanitizeChannelSplitterOptions: TSanitizeChannelSplitterOptionsFunction = (options) => {\n    return { ...options, channelCount: options.numberOfOutputs };\n};\n", "import { TSanitizePeriodicWaveOptionsFunction } from '../types';\n\nexport const sanitizePeriodicWaveOptions: TSanitizePeriodicWaveOptionsFunction = (options) => {\n    const { imag, real } = options;\n\n    if (imag === undefined) {\n        if (real === undefined) {\n            return { ...options, imag: [0, 0], real: [0, 0] };\n        }\n\n        return { ...options, imag: Array.from(real, () => 0), real };\n    }\n\n    if (real === undefined) {\n        return { ...options, imag, real: Array.from(imag, () => 0) };\n    }\n\n    return { ...options, imag, real };\n};\n", "import { TSetValueAtTimeUntilPossibleFunction } from '../types';\n\nexport const setValueAtTimeUntilPossible: TSetValueAtTimeUntilPossibleFunction = (audioParam, value, startTime) => {\n    try {\n        audioParam.setValueAtTime(value, startTime);\n    } catch (err) {\n        if (err.code !== 9) {\n            throw err;\n        }\n\n        setValueAtTimeUntilPossible(audioParam, value, startTime + 1e-7);\n    }\n};\n", "import { TNativeContext } from '../types';\n\nexport const testAudioBufferSourceNodeStartMethodConsecutiveCallsSupport = (nativeContext: TNativeContext) => {\n    const nativeAudioBufferSourceNode = nativeContext.createBufferSource();\n\n    nativeAudioBufferSourceNode.start();\n\n    try {\n        nativeAudioBufferSourceNode.start();\n    } catch {\n        return true;\n    }\n\n    return false;\n};\n", "import { TNativeContext } from '../types';\n\nexport const testAudioBufferSourceNodeStartMethodOffsetClampingSupport = (nativeContext: TNativeContext) => {\n    const nativeAudioBufferSourceNode = nativeContext.createBufferSource();\n    const nativeAudioBuffer = nativeContext.createBuffer(1, 1, 44100);\n\n    nativeAudioBufferSourceNode.buffer = nativeAudioBuffer;\n\n    try {\n        nativeAudioBufferSourceNode.start(0, 1);\n    } catch {\n        return false;\n    }\n\n    return true;\n};\n", "import { TNativeContext } from '../types';\n\nexport const testAudioBufferSourceNodeStopMethodNullifiedBufferSupport = (nativeContext: TNativeContext) => {\n    const nativeAudioBufferSourceNode = nativeContext.createBufferSource();\n\n    nativeAudioBufferSourceNode.start();\n\n    try {\n        nativeAudioBufferSourceNode.stop();\n    } catch {\n        return false;\n    }\n\n    return true;\n};\n", "import { TNativeContext } from '../types';\n\nexport const testAudioScheduledSourceNodeStartMethodNegativeParametersSupport = (nativeContext: TNativeContext) => {\n    const nativeAudioBufferSourceNode = nativeContext.createOscillator();\n\n    try {\n        nativeAudioBufferSourceNode.start(-1);\n    } catch (err) {\n        return err instanceof RangeError;\n    }\n\n    return false;\n};\n", "import { TNativeContext } from '../types';\n\nexport const testAudioScheduledSourceNodeStopMethodConsecutiveCallsSupport = (nativeContext: TNativeContext) => {\n    const nativeAudioBuffer = nativeContext.createBuffer(1, 1, 44100);\n    const nativeAudioBufferSourceNode = nativeContext.createBufferSource();\n\n    nativeAudioBufferSourceNode.buffer = nativeAudioBuffer;\n    nativeAudioBufferSourceNode.start();\n    nativeAudioBufferSourceNode.stop();\n\n    try {\n        nativeAudioBufferSourceNode.stop();\n\n        return true;\n    } catch {\n        return false;\n    }\n};\n", "import { TNativeContext } from '../types';\n\nexport const testAudioScheduledSourceNodeStopMethodNegativeParametersSupport = (nativeContext: TNativeContext) => {\n    const nativeAudioBufferSourceNode = nativeContext.createOscillator();\n\n    try {\n        nativeAudioBufferSourceNode.stop(-1);\n    } catch (err) {\n        return err instanceof RangeError;\n    }\n\n    return false;\n};\n", "import { TTestAudioWorkletNodeOptionsClonabilityFunction } from '../types';\n\nexport const testAudioWorkletNodeOptionsClonability: TTestAudioWorkletNodeOptionsClonabilityFunction = (audioWorkletNodeOptions) => {\n    const { port1, port2 } = new MessageChannel();\n\n    try {\n        // This will throw an error if the audioWorkletNodeOptions are not clonable.\n        port1.postMessage(audioWorkletNodeOptions);\n    } finally {\n        port1.close();\n        port2.close();\n    }\n};\n", "/*\n * Bug #122: Edge up to version v18 did not allow to construct a DOMException'. It also had a couple more bugs but since this is easy to\n * test it's used here as a placeholder.\n *\n * Bug #27: Edge up to version v18 did reject an invalid arrayBuffer passed to decodeAudioData() with a DOMException.\n *\n * Bug #50: Edge up to version v18 did not allow to create AudioNodes on a closed context.\n *\n * Bug #57: Edge up to version v18 did not throw an error when assigning the type of an OscillatorNode to 'custom'.\n *\n * Bug #63: Edge up to version v18 did not expose the mediaElement property of a MediaElementAudioSourceNode.\n *\n * Bug #64: Edge up to version v18 did not support the MediaStreamAudioDestinationNode.\n *\n * Bug #71: Edge up to version v18 did not allow to set the buffer of an AudioBufferSourceNode to null.\n *\n * Bug #93: Edge up to version v18 did set the sampleRate of an AudioContext to zero when it was closed.\n *\n * Bug #101: Edge up to version v18 refused to execute decodeAudioData() on a closed context.\n *\n * Bug #106: Edge up to version v18 did not expose the maxValue and minValue properties of the pan AudioParam of a StereoPannerNode.\n *\n * Bug #110: Edge up to version v18 did not expose the maxValue and minValue properties of the attack, knee, ratio, release and threshold AudioParams of a DynamicsCompressorNode.\n *\n * Bug #123: Edge up to version v18 did not support HRTF as the panningModel for a PannerNode.\n *\n * Bug #145: Edge up to version v18 did throw an IndexSizeError when an OfflineAudioContext was created with a sampleRate of zero.\n *\n * Bug #161: Edge up to version v18 did not expose the maxValue and minValue properties of the delayTime AudioParam of a DelayNode.\n */\nexport const testDomExceptionConstructorSupport = () => {\n    try {\n        new DOMException(); // tslint:disable-line:no-unused-expression\n    } catch {\n        return false;\n    }\n\n    return true;\n};\n", "// Safari at version 11 did not support transferables.\nexport const testTransferablesSupport = () =>\n    new Promise<boolean>((resolve) => {\n        const arrayBuffer = new ArrayBuffer(0);\n        const { port1, port2 } = new MessageChannel();\n\n        port1.onmessage = ({ data }) => resolve(data !== null);\n        port2.postMessage(arrayBuffer, [arrayBuffer]);\n    });\n", "import { TNativeAudioBufferSourceNode } from '../types';\n\nexport const wrapAudioBufferSourceNodeStartMethodOffsetClamping = (nativeAudioBufferSourceNode: TNativeAudioBufferSourceNode): void => {\n    nativeAudioBufferSourceNode.start = ((start) => {\n        return (when = 0, offset = 0, duration?: number) => {\n            const buffer = nativeAudioBufferSourceNode.buffer;\n            // Bug #154: Safari does not clamp the offset if it is equal to or greater than the duration of the buffer.\n            const clampedOffset = buffer === null ? offset : Math.min(buffer.duration, offset);\n\n            // Bug #155: Safari does not handle the offset correctly if it would cause the buffer to be not be played at all.\n            if (buffer !== null && clampedOffset > buffer.duration - 0.5 / nativeAudioBufferSourceNode.context.sampleRate) {\n                start.call(nativeAudioBufferSourceNode, when, 0, 0);\n            } else {\n                start.call(nativeAudioBufferSourceNode, when, clampedOffset, duration);\n            }\n        };\n    })(nativeAudioBufferSourceNode.start);\n};\n", "import { TNativeAudioNode, TWrapAudioScheduledSourceNodeStopMethodConsecutiveCallsFunction } from '../types';\nimport { interceptConnections } from './intercept-connections';\n\nexport const wrapAudioScheduledSourceNodeStopMethodConsecutiveCalls: TWrapAudioScheduledSourceNodeStopMethodConsecutiveCallsFunction = (\n    nativeAudioScheduledSourceNode,\n    nativeContext\n) => {\n    const nativeGainNode = nativeContext.createGain();\n\n    nativeAudioScheduledSourceNode.connect(nativeGainNode);\n\n    const disconnectGainNode = ((disconnect) => {\n        return () => {\n            // @todo TypeScript cannot infer the overloaded signature with 1 argument yet.\n            (<(destinaton: TNativeAudioNode) => void>disconnect).call(nativeAudioScheduledSourceNode, nativeGainNode);\n            nativeAudioScheduledSourceNode.removeEventListener('ended', disconnectGainNode);\n        };\n    })(nativeAudioScheduledSourceNode.disconnect);\n\n    nativeAudioScheduledSourceNode.addEventListener('ended', disconnectGainNode);\n\n    interceptConnections(nativeAudioScheduledSourceNode, nativeGainNode);\n\n    nativeAudioScheduledSourceNode.stop = ((stop) => {\n        let isStopped = false;\n\n        return (when = 0) => {\n            if (isStopped) {\n                try {\n                    stop.call(nativeAudioScheduledSourceNode, when);\n                } catch {\n                    nativeGainNode.gain.setValueAtTime(0, when);\n                }\n            } else {\n                stop.call(nativeAudioScheduledSourceNode, when);\n\n                isStopped = true;\n            }\n        };\n    })(nativeAudioScheduledSourceNode.stop);\n};\n", "import { TWrapEventListenerFunction } from '../types';\n\nexport const wrapEventListener: TWrapEventListenerFunction = (target, eventListener) => {\n    return (event) => {\n        const descriptor = { value: target };\n\n        Object.defineProperties(event, {\n            currentTarget: descriptor,\n            target: descriptor\n        });\n\n        if (typeof eventListener === 'function') {\n            return eventListener.call(target, event);\n        }\n\n        return eventListener.handleEvent.call(target, event);\n    };\n};\n", "export {};\n//# sourceMappingURL=analyser-node.js.map", "export {};\n//# sourceMappingURL=analyser-options.js.map", "export {};\n//# sourceMappingURL=audio-buffer.js.map", "export {};\n//# sourceMappingURL=audio-buffer-options.js.map", "export {};\n//# sourceMappingURL=audio-buffer-source-node.js.map", "export {};\n//# sourceMappingURL=audio-buffer-source-node-renderer.js.map", "export {};\n//# sourceMappingURL=audio-buffer-source-options.js.map", "export {};\n//# sourceMappingURL=audio-context.js.map", "export {};\n//# sourceMappingURL=audio-context-options.js.map", "export {};\n//# sourceMappingURL=audio-destination-node.js.map", "export {};\n//# sourceMappingURL=audio-listener.js.map", "export {};\n//# sourceMappingURL=audio-node.js.map", "export {};\n//# sourceMappingURL=audio-node-options.js.map", "export {};\n//# sourceMappingURL=audio-node-renderer.js.map", "export {};\n//# sourceMappingURL=audio-param.js.map", "export {};\n//# sourceMappingURL=audio-param-descriptor.js.map", "export {};\n//# sourceMappingURL=audio-param-renderer.js.map", "export {};\n//# sourceMappingURL=audio-scheduled-source-node.js.map", "export {};\n//# sourceMappingURL=audio-scheduled-source-node-event-map.js.map", "export {};\n//# sourceMappingURL=audio-worklet.js.map", "export {};\n//# sourceMappingURL=audio-worklet-node.js.map", "export {};\n//# sourceMappingURL=audio-worklet-node-event-map.js.map", "export {};\n//# sourceMappingURL=audio-worklet-node-options.js.map", "export {};\n//# sourceMappingURL=audio-worklet-processor.js.map", "export {};\n//# sourceMappingURL=audio-worklet-processor-constructor.js.map", "export {};\n//# sourceMappingURL=automation.js.map", "export {};\n//# sourceMappingURL=base-audio-context.js.map", "export {};\n//# sourceMappingURL=biquad-filter-node.js.map", "export {};\n//# sourceMappingURL=biquad-filter-options.js.map", "export {};\n//# sourceMappingURL=channel-merger-options.js.map", "export {};\n//# sourceMappingURL=channel-splitter-options.js.map", "export {};\n//# sourceMappingURL=common-audio-context.js.map", "export {};\n//# sourceMappingURL=common-offline-audio-context.js.map", "export {};\n//# sourceMappingURL=constant-source-node.js.map", "export {};\n//# sourceMappingURL=constant-source-node-renderer.js.map", "export {};\n//# sourceMappingURL=constant-source-options.js.map", "export {};\n//# sourceMappingURL=convolver-node.js.map", "export {};\n//# sourceMappingURL=convolver-options.js.map", "export {};\n//# sourceMappingURL=delay-node.js.map", "export {};\n//# sourceMappingURL=delay-options.js.map", "export {};\n//# sourceMappingURL=dynamics-compressor-node.js.map", "export {};\n//# sourceMappingURL=dynamics-compressor-options.js.map", "export {};\n//# sourceMappingURL=event-target.js.map", "export {};\n//# sourceMappingURL=gain-node.js.map", "export {};\n//# sourceMappingURL=gain-options.js.map", "export {};\n//# sourceMappingURL=iir-filter-node.js.map", "export {};\n//# sourceMappingURL=iir-filter-options.js.map", "export {};\n//# sourceMappingURL=media-element-audio-source-node.js.map", "export {};\n//# sourceMappingURL=media-element-audio-source-options.js.map", "export {};\n//# sourceMappingURL=media-stream-audio-destination-node.js.map", "export {};\n//# sourceMappingURL=media-stream-audio-source-node.js.map", "export {};\n//# sourceMappingURL=media-stream-audio-source-options.js.map", "export {};\n//# sourceMappingURL=media-stream-track-audio-source-node.js.map", "export {};\n//# sourceMappingURL=media-stream-track-audio-source-options.js.map", "export {};\n//# sourceMappingURL=minimal-audio-context.js.map", "export {};\n//# sourceMappingURL=minimal-base-audio-context.js.map", "export {};\n//# sourceMappingURL=minimal-base-audio-context-event-map.js.map", "export {};\n//# sourceMappingURL=minimal-offline-audio-context.js.map", "export {};\n//# sourceMappingURL=native-audio-node-faker.js.map", "export {};\n//# sourceMappingURL=native-audio-worklet-node-faker.js.map", "export {};\n//# sourceMappingURL=native-constant-source-node-faker.js.map", "export {};\n//# sourceMappingURL=native-convolver-node-faker.js.map", "export {};\n//# sourceMappingURL=native-iir-filter-node-faker.js.map", "export {};\n//# sourceMappingURL=native-panner-node-faker.js.map", "export {};\n//# sourceMappingURL=native-stereo-panner-node-faker.js.map", "export {};\n//# sourceMappingURL=native-wave-shaper-node-faker.js.map", "export {};\n//# sourceMappingURL=offline-audio-completion-event.js.map", "export {};\n//# sourceMappingURL=offline-audio-context.js.map", "export {};\n//# sourceMappingURL=offline-audio-context-constructor.js.map", "export {};\n//# sourceMappingURL=offline-audio-context-options.js.map", "export {};\n//# sourceMappingURL=oscillator-node.js.map", "export {};\n//# sourceMappingURL=oscillator-node-renderer.js.map", "export {};\n//# sourceMappingURL=oscillator-options.js.map", "export {};\n//# sourceMappingURL=panner-node.js.map", "export {};\n//# sourceMappingURL=panner-options.js.map", "export {};\n//# sourceMappingURL=periodic-wave.js.map", "export {};\n//# sourceMappingURL=periodic-wave-constraints.js.map", "export {};\n//# sourceMappingURL=periodic-wave-options.js.map", "export {};\n//# sourceMappingURL=read-only-map.js.map", "export {};\n//# sourceMappingURL=stereo-panner-node.js.map", "export {};\n//# sourceMappingURL=stereo-panner-options.js.map", "export {};\n//# sourceMappingURL=wave-shaper-node.js.map", "export {};\n//# sourceMappingURL=wave-shaper-options.js.map", "// @todo This is currently named IWorkletOptions and not IAudioWorkletOptions because it defines the options of a generic Worklet.\n\nexport interface IWorkletOptions {\n    credentials: 'include' | 'omit' | 'same-origin';\n}\n", "export * from './analyser-node';\nexport * from './analyser-options';\nexport * from './audio-buffer';\nexport * from './audio-buffer-options';\nexport * from './audio-buffer-source-node';\nexport * from './audio-buffer-source-node-renderer';\nexport * from './audio-buffer-source-options';\nexport * from './audio-context';\nexport * from './audio-context-options';\nexport * from './audio-destination-node';\nexport * from './audio-listener';\nexport * from './audio-node';\nexport * from './audio-node-options';\nexport * from './audio-node-renderer';\nexport * from './audio-param';\nexport * from './audio-param-descriptor';\nexport * from './audio-param-renderer';\nexport * from './audio-scheduled-source-node';\nexport * from './audio-scheduled-source-node-event-map';\nexport * from './audio-worklet';\nexport * from './audio-worklet-node';\nexport * from './audio-worklet-node-event-map';\nexport * from './audio-worklet-node-options';\nexport * from './audio-worklet-processor';\nexport * from './audio-worklet-processor-constructor';\nexport * from './automation';\nexport * from './base-audio-context';\nexport * from './biquad-filter-node';\nexport * from './biquad-filter-options';\nexport * from './channel-merger-options';\nexport * from './channel-splitter-options';\nexport * from './common-audio-context';\nexport * from './common-offline-audio-context';\nexport * from './constant-source-node';\nexport * from './constant-source-node-renderer';\nexport * from './constant-source-options';\nexport * from './convolver-node';\nexport * from './convolver-options';\nexport * from './delay-node';\nexport * from './delay-options';\nexport * from './dynamics-compressor-node';\nexport * from './dynamics-compressor-options';\nexport * from './event-target';\nexport * from './gain-node';\nexport * from './gain-options';\nexport * from './iir-filter-node';\nexport * from './iir-filter-options';\nexport * from './media-element-audio-source-node';\nexport * from './media-element-audio-source-options';\nexport * from './media-stream-audio-destination-node';\nexport * from './media-stream-audio-source-node';\nexport * from './media-stream-audio-source-options';\nexport * from './media-stream-track-audio-source-node';\nexport * from './media-stream-track-audio-source-options';\nexport * from './minimal-audio-context';\nexport * from './minimal-base-audio-context';\nexport * from './minimal-base-audio-context-event-map';\nexport * from './minimal-offline-audio-context';\nexport * from './native-audio-node-faker';\nexport * from './native-audio-worklet-node-faker';\nexport * from './native-constant-source-node-faker';\nexport * from './native-convolver-node-faker';\nexport * from './native-iir-filter-node-faker';\nexport * from './native-panner-node-faker';\nexport * from './native-stereo-panner-node-faker';\nexport * from './native-wave-shaper-node-faker';\nexport * from './offline-audio-completion-event';\nexport * from './offline-audio-context';\nexport * from './offline-audio-context-constructor';\nexport * from './offline-audio-context-options';\nexport * from './oscillator-node';\nexport * from './oscillator-node-renderer';\nexport * from './oscillator-options';\nexport * from './panner-node';\nexport * from './panner-options';\nexport * from './periodic-wave';\nexport * from './periodic-wave-constraints';\nexport * from './periodic-wave-options';\nexport * from './read-only-map';\nexport * from './stereo-panner-node';\nexport * from './stereo-panner-options';\nexport * from './wave-shaper-node';\nexport * from './wave-shaper-options';\nexport * from './worklet-options';\n", "export {};\n//# sourceMappingURL=abort-error-factory.js.map", "export {};\n//# sourceMappingURL=active-audio-worklet-node-inputs-store.js.map", "export {};\n//# sourceMappingURL=active-input-connection.js.map", "export {};\n//# sourceMappingURL=add-active-input-connection-to-audio-node-factory.js.map", "export {};\n//# sourceMappingURL=add-active-input-connection-to-audio-node-function.js.map", "export {};\n//# sourceMappingURL=add-audio-node-connections-factory.js.map", "export {};\n//# sourceMappingURL=add-audio-node-connections-function.js.map", "export {};\n//# sourceMappingURL=add-audio-param-connections-factory.js.map", "export {};\n//# sourceMappingURL=add-audio-param-connections-function.js.map", "export {};\n//# sourceMappingURL=add-audio-worklet-module-factory.js.map", "export {};\n//# sourceMappingURL=add-audio-worklet-module-function.js.map", "export {};\n//# sourceMappingURL=add-connection-to-audio-node-factory.js.map", "export {};\n//# sourceMappingURL=add-connection-to-audio-node-function.js.map", "export {};\n//# sourceMappingURL=add-passive-input-connection-to-audio-node-factory.js.map", "export {};\n//# sourceMappingURL=add-passive-input-connection-to-audio-node-function.js.map", "export {};\n//# sourceMappingURL=add-silent-connection-factory.js.map", "export {};\n//# sourceMappingURL=add-silent-connection-function.js.map", "export {};\n//# sourceMappingURL=add-unrendered-audio-worklet-node-factory.js.map", "export {};\n//# sourceMappingURL=add-unrendered-audio-worklet-node-function.js.map", "export {};\n//# sourceMappingURL=analyser-node-constructor.js.map", "export {};\n//# sourceMappingURL=analyser-node-constructor-factory.js.map", "export {};\n//# sourceMappingURL=analyser-node-renderer-factory.js.map", "export {};\n//# sourceMappingURL=analyser-node-renderer-factory-factory.js.map", "export {};\n//# sourceMappingURL=any-audio-buffer.js.map", "export {};\n//# sourceMappingURL=any-context.js.map", "export {};\n//# sourceMappingURL=audio-buffer-constructor.js.map", "export {};\n//# sourceMappingURL=audio-buffer-constructor-factory.js.map", "export {};\n//# sourceMappingURL=audio-buffer-source-node-constructor.js.map", "export {};\n//# sourceMappingURL=audio-buffer-source-node-constructor-factory.js.map", "export {};\n//# sourceMappingURL=audio-buffer-source-node-renderer.js.map", "export {};\n//# sourceMappingURL=audio-buffer-source-node-renderer-factory.js.map", "export {};\n//# sourceMappingURL=audio-buffer-source-node-renderer-factory-factory.js.map", "export {};\n//# sourceMappingURL=audio-buffer-store.js.map", "export {};\n//# sourceMappingURL=audio-context-constructor.js.map", "export {};\n//# sourceMappingURL=audio-context-constructor-factory.js.map", "export {};\n//# sourceMappingURL=audio-context-latency-category.js.map", "export {};\n//# sourceMappingURL=audio-context-state.js.map", "export {};\n//# sourceMappingURL=audio-destination-node-constructor.js.map", "export {};\n//# sourceMappingURL=audio-destination-node-constructor-factory.js.map", "export {};\n//# sourceMappingURL=audio-destination-node-renderer-factory.js.map", "export {};\n//# sourceMappingURL=audio-listener-factory.js.map", "export {};\n//# sourceMappingURL=audio-listener-factory-factory.js.map", "export {};\n//# sourceMappingURL=audio-node-connections.js.map", "export {};\n//# sourceMappingURL=audio-node-connections-store.js.map", "export {};\n//# sourceMappingURL=audio-node-constructor.js.map", "export {};\n//# sourceMappingURL=audio-node-constructor-factory.js.map", "export {};\n//# sourceMappingURL=audio-node-output-connection.js.map", "export {};\n//# sourceMappingURL=audio-node-renderer.js.map", "export {};\n//# sourceMappingURL=audio-node-store.js.map", "export {};\n//# sourceMappingURL=audio-node-tail-time-store.js.map", "export {};\n//# sourceMappingURL=audio-param-audio-node-store.js.map", "export {};\n//# sourceMappingURL=audio-param-connections.js.map", "export {};\n//# sourceMappingURL=audio-param-connections-store.js.map", "export {};\n//# sourceMappingURL=audio-param-factory.js.map", "export {};\n//# sourceMappingURL=audio-param-factory-factory.js.map", "export {};\n//# sourceMappingURL=audio-param-map.js.map", "export {};\n//# sourceMappingURL=audio-param-output-connection.js.map", "export {};\n//# sourceMappingURL=audio-param-renderer-factory.js.map", "export {};\n//# sourceMappingURL=audio-param-store.js.map", "export {};\n//# sourceMappingURL=audio-worklet-node-constructor.js.map", "export {};\n//# sourceMappingURL=audio-worklet-node-constructor-factory.js.map", "export {};\n//# sourceMappingURL=audio-worklet-node-renderer-factory.js.map", "export {};\n//# sourceMappingURL=audio-worklet-node-renderer-factory-factory.js.map", "export {};\n//# sourceMappingURL=backup-offline-audio-context-store.js.map", "export {};\n//# sourceMappingURL=base-audio-context-constructor.js.map", "export {};\n//# sourceMappingURL=base-audio-context-constructor-factory.js.map", "export {};\n//# sourceMappingURL=biquad-filter-node-constructor.js.map", "export {};\n//# sourceMappingURL=biquad-filter-node-constructor-factory.js.map", "export {};\n//# sourceMappingURL=biquad-filter-node-renderer-factory.js.map", "export {};\n//# sourceMappingURL=biquad-filter-node-renderer-factory-factory.js.map", "export {};\n//# sourceMappingURL=biquad-filter-type.js.map", "export {};\n//# sourceMappingURL=channel-count-mode.js.map", "export {};\n//# sourceMappingURL=channel-interpretation.js.map", "export {};\n//# sourceMappingURL=channel-merger-node-constructor.js.map", "export {};\n//# sourceMappingURL=channel-merger-node-constructor-factory.js.map", "export {};\n//# sourceMappingURL=channel-merger-node-renderer-factory.js.map", "export {};\n//# sourceMappingURL=channel-merger-node-renderer-factory-factory.js.map", "export {};\n//# sourceMappingURL=channel-splitter-node-constructor.js.map", "export {};\n//# sourceMappingURL=channel-splitter-node-constructor-factory.js.map", "export {};\n//# sourceMappingURL=channel-splitter-node-renderer-factory.js.map", "export {};\n//# sourceMappingURL=channel-splitter-node-renderer-factory-factory.js.map", "export {};\n//# sourceMappingURL=cache-test-result-factory.js.map", "export {};\n//# sourceMappingURL=cache-test-result-function.js.map", "export {};\n//# sourceMappingURL=connect-audio-param-factory.js.map", "export {};\n//# sourceMappingURL=connect-audio-param-function.js.map", "export {};\n//# sourceMappingURL=connect-multiple-outputs-factory.js.map", "export {};\n//# sourceMappingURL=connect-multiple-outputs-function.js.map", "export {};\n//# sourceMappingURL=connect-native-audio-node-to-native-audio-node-function.js.map", "export {};\n//# sourceMappingURL=connected-native-audio-buffer-source-node-factory.js.map", "export {};\n//# sourceMappingURL=connected-native-audio-buffer-source-node-factory-factory.js.map", "export {};\n//# sourceMappingURL=constant-source-node-constructor.js.map", "export {};\n//# sourceMappingURL=constant-source-node-constructor-factory.js.map", "export {};\n//# sourceMappingURL=constant-source-node-renderer.js.map", "export {};\n//# sourceMappingURL=constant-source-node-renderer-factory.js.map", "export {};\n//# sourceMappingURL=constant-source-node-renderer-factory-factory.js.map", "export {};\n//# sourceMappingURL=constructor.js.map", "export {};\n//# sourceMappingURL=context.js.map", "export {};\n//# sourceMappingURL=context-store.js.map", "export {};\n//# sourceMappingURL=convert-number-to-unsigned-long-factory.js.map", "export {};\n//# sourceMappingURL=convert-number-to-unsigned-long-function.js.map", "export {};\n//# sourceMappingURL=convolver-node-constructor.js.map", "export {};\n//# sourceMappingURL=convolver-node-constructor-factory.js.map", "export {};\n//# sourceMappingURL=convolver-node-renderer-factory.js.map", "export {};\n//# sourceMappingURL=convolver-node-renderer-factory-factory.js.map", "export {};\n//# sourceMappingURL=create-native-offline-audio-context-factory.js.map", "export {};\n//# sourceMappingURL=create-native-offline-audio-context-function.js.map", "export {};\n//# sourceMappingURL=cycle-counters.js.map", "export {};\n//# sourceMappingURL=data-clone-error-factory.js.map", "export {};\n//# sourceMappingURL=decode-audio-data-factory.js.map", "export {};\n//# sourceMappingURL=decode-audio-data-function.js.map", "export {};\n//# sourceMappingURL=decode-error-callback.js.map", "export {};\n//# sourceMappingURL=decode-success-callback.js.map", "export {};\n//# sourceMappingURL=decrement-cycle-counter-factory.js.map", "export {};\n//# sourceMappingURL=decrement-cycle-counter-function.js.map", "export {};\n//# sourceMappingURL=delay-node-constructor.js.map", "export {};\n//# sourceMappingURL=delay-node-constructor-factory.js.map", "export {};\n//# sourceMappingURL=delay-node-renderer-factory.js.map", "export {};\n//# sourceMappingURL=delay-node-renderer-factory-factory.js.map", "export {};\n//# sourceMappingURL=delete-active-input-connection-to-audio-node-factory.js.map", "export {};\n//# sourceMappingURL=delete-active-input-connection-to-audio-node-function.js.map", "export {};\n//# sourceMappingURL=delete-unrendered-audio-worklet-node-factory.js.map", "export {};\n//# sourceMappingURL=delete-unrendered-audio-worklet-node-function.js.map", "export {};\n//# sourceMappingURL=detect-cycles-factory.js.map", "export {};\n//# sourceMappingURL=detect-cycles-function.js.map", "export {};\n//# sourceMappingURL=disconnect-multiple-outputs-factory.js.map", "export {};\n//# sourceMappingURL=disconnect-multiple-outputs-function.js.map", "export {};\n//# sourceMappingURL=disconnect-native-audio-node-from-native-audio-node-function.js.map", "export {};\n//# sourceMappingURL=distance-model-type.js.map", "export {};\n//# sourceMappingURL=dynamics-compressor-node-constructor.js.map", "export {};\n//# sourceMappingURL=dynamics-compressor-node-constructor-factory.js.map", "export {};\n//# sourceMappingURL=dynamics-compressor-node-renderer-factory.js.map", "export {};\n//# sourceMappingURL=dynamics-compressor-node-renderer-factory-factory.js.map", "export {};\n//# sourceMappingURL=encoding-error-factory.js.map", "export {};\n//# sourceMappingURL=error-event-handler.js.map", "export {};\n//# sourceMappingURL=evaluate-audio-worklet-global-scope-function.js.map", "export {};\n//# sourceMappingURL=evaluate-source-factory.js.map", "export {};\n//# sourceMappingURL=evaluate-source-function.js.map", "export {};\n//# sourceMappingURL=event-handler.js.map", "export {};\n//# sourceMappingURL=event-target-constructor.js.map", "export {};\n//# sourceMappingURL=event-target-constructor-factory.js.map", "export {};\n//# sourceMappingURL=expose-current-frame-and-current-time-factory.js.map", "export {};\n//# sourceMappingURL=expose-current-frame-and-current-time-function.js.map", "export {};\n//# sourceMappingURL=fetch-source-factory.js.map", "export {};\n//# sourceMappingURL=fetch-source-function.js.map", "export {};\n//# sourceMappingURL=gain-node-constructor.js.map", "export {};\n//# sourceMappingURL=gain-node-constructor-factory.js.map", "export {};\n//# sourceMappingURL=gain-node-renderer-factory.js.map", "export {};\n//# sourceMappingURL=gain-node-renderer-factory-factory.js.map", "export {};\n//# sourceMappingURL=get-active-audio-worklet-node-inputs-factory.js.map", "export {};\n//# sourceMappingURL=get-active-audio-worklet-node-inputs-function.js.map", "export {};\n//# sourceMappingURL=get-audio-node-connections-function.js.map", "export {};\n//# sourceMappingURL=get-audio-node-renderer-factory.js.map", "export {};\n//# sourceMappingURL=get-audio-node-renderer-function.js.map", "export {};\n//# sourceMappingURL=get-audio-node-tail-time-factory.js.map", "export {};\n//# sourceMappingURL=get-audio-node-tail-time-function.js.map", "export {};\n//# sourceMappingURL=get-audio-param-connections-function.js.map", "export {};\n//# sourceMappingURL=get-audio-param-renderer-factory.js.map", "export {};\n//# sourceMappingURL=get-audio-param-renderer-function.js.map", "export {};\n//# sourceMappingURL=get-backup-offline-audio-context-factory.js.map", "export {};\n//# sourceMappingURL=get-backup-offline-audio-context-function.js.map", "export {};\n//# sourceMappingURL=get-event-listeners-of-audio-node-function.js.map", "export {};\n//# sourceMappingURL=get-first-sample-function.js.map", "export {};\n//# sourceMappingURL=get-native-audio-node-function.js.map", "export {};\n//# sourceMappingURL=get-native-audio-param-function.js.map", "export {};\n//# sourceMappingURL=get-native-context-factory.js.map", "export {};\n//# sourceMappingURL=get-native-context-function.js.map", "export {};\n//# sourceMappingURL=get-or-create-backup-offline-audio-context-factory.js.map", "export {};\n//# sourceMappingURL=get-or-create-backup-offline-audio-context-function.js.map", "export {};\n//# sourceMappingURL=get-unrendered-audio-worklet-nodes-factory.js.map", "export {};\n//# sourceMappingURL=get-unrendered-audio-worklet-nodes-function.js.map", "export {};\n//# sourceMappingURL=get-value-for-key-function.js.map", "export {};\n//# sourceMappingURL=iir-filter-node-constructor.js.map", "export {};\n//# sourceMappingURL=iir-filter-node-constructor-factory.js.map", "export {};\n//# sourceMappingURL=iir-filter-node-renderer-factory.js.map", "export {};\n//# sourceMappingURL=iir-filter-node-renderer-factory-factory.js.map", "export {};\n//# sourceMappingURL=increment-cycle-counter-factory.js.map", "export {};\n//# sourceMappingURL=increment-cycle-counter-factory-factory.js.map", "export {};\n//# sourceMappingURL=increment-cycle-counter-function.js.map", "export {};\n//# sourceMappingURL=index-size-error-factory.js.map", "export {};\n//# sourceMappingURL=insert-element-in-set-function.js.map", "export {};\n//# sourceMappingURL=internal-state-event-listener.js.map", "export {};\n//# sourceMappingURL=invalid-access-error-factory.js.map", "export {};\n//# sourceMappingURL=invalid-state-error-factory.js.map", "export {};\n//# sourceMappingURL=is-active-audio-node-function.js.map", "export {};\n//# sourceMappingURL=is-any-audio-context-factory.js.map", "export {};\n//# sourceMappingURL=is-any-audio-context-function.js.map", "export {};\n//# sourceMappingURL=is-any-audio-node-factory.js.map", "export {};\n//# sourceMappingURL=is-any-audio-node-function.js.map", "export {};\n//# sourceMappingURL=is-any-audio-param-factory.js.map", "export {};\n//# sourceMappingURL=is-any-audio-param-function.js.map", "export {};\n//# sourceMappingURL=is-any-offline-audio-context-factory.js.map", "export {};\n//# sourceMappingURL=is-any-offline-audio-context-function.js.map", "export {};\n//# sourceMappingURL=is-dc-curve-function.js.map", "export {};\n//# sourceMappingURL=is-native-audio-context-factory.js.map", "export {};\n//# sourceMappingURL=is-native-audio-context-function.js.map", "export {};\n//# sourceMappingURL=is-native-audio-node-factory.js.map", "export {};\n//# sourceMappingURL=is-native-audio-node-function.js.map", "export {};\n//# sourceMappingURL=is-native-audio-param-factory.js.map", "export {};\n//# sourceMappingURL=is-native-audio-param-function.js.map", "export {};\n//# sourceMappingURL=is-native-context-factory.js.map", "export {};\n//# sourceMappingURL=is-native-context-function.js.map", "export {};\n//# sourceMappingURL=is-native-offline-audio-context-factory.js.map", "export {};\n//# sourceMappingURL=is-native-offline-audio-context-function.js.map", "export {};\n//# sourceMappingURL=is-part-of-a-cycle-function.js.map", "export {};\n//# sourceMappingURL=is-passive-audio-node-function.js.map", "export {};\n//# sourceMappingURL=is-secure-context-factory.js.map", "export {};\n//# sourceMappingURL=is-supported-promise-factory.js.map", "export {};\n//# sourceMappingURL=media-element-audio-source-node-constructor.js.map", "export {};\n//# sourceMappingURL=media-element-audio-source-node-constructor-factory.js.map", "export {};\n//# sourceMappingURL=media-stream-audio-destination-node-constructor.js.map", "export {};\n//# sourceMappingURL=media-stream-audio-destination-node-constructor-factory.js.map", "export {};\n//# sourceMappingURL=media-stream-audio-source-node-constructor.js.map", "export {};\n//# sourceMappingURL=media-stream-audio-source-node-constructor-factory.js.map", "export {};\n//# sourceMappingURL=media-stream-track-audio-source-node-constructor.js.map", "export {};\n//# sourceMappingURL=media-stream-track-audio-source-node-constructor-factory.js.map", "export {};\n//# sourceMappingURL=minimal-audio-context-constructor.js.map", "export {};\n//# sourceMappingURL=minimal-audio-context-constructor-factory.js.map", "export {};\n//# sourceMappingURL=minimal-base-audio-context-constructor.js.map", "export {};\n//# sourceMappingURL=minimal-base-audio-context-constructor-factory.js.map", "export {};\n//# sourceMappingURL=minimal-offline-audio-context-constructor.js.map", "export {};\n//# sourceMappingURL=minimal-offline-audio-context-constructor-factory.js.map", "export {};\n//# sourceMappingURL=monitor-connections-factory.js.map", "export {};\n//# sourceMappingURL=monitor-connections-function.js.map", "export {};\n//# sourceMappingURL=native-analyser-node.js.map", "export {};\n//# sourceMappingURL=native-analyser-node-factory.js.map", "export {};\n//# sourceMappingURL=native-analyser-node-factory-factory.js.map", "export {};\n//# sourceMappingURL=native-audio-buffer.js.map", "export {};\n//# sourceMappingURL=native-audio-buffer-constructor.js.map", "export {};\n//# sourceMappingURL=native-audio-buffer-constructor-factory.js.map", "export {};\n//# sourceMappingURL=native-audio-buffer-source-node.js.map", "export {};\n//# sourceMappingURL=native-audio-buffer-source-node-factory.js.map", "export {};\n//# sourceMappingURL=native-audio-buffer-source-node-factory-factory.js.map", "export {};\n//# sourceMappingURL=native-audio-context.js.map", "export {};\n//# sourceMappingURL=native-audio-context-constructor.js.map", "export {};\n//# sourceMappingURL=native-audio-context-constructor-factory.js.map", "export {};\n//# sourceMappingURL=native-audio-destination-node.js.map", "export {};\n//# sourceMappingURL=native-audio-destination-node-factory.js.map", "export {};\n//# sourceMappingURL=native-audio-destination-node-factory-factory.js.map", "export {};\n//# sourceMappingURL=native-audio-listener.js.map", "export {};\n//# sourceMappingURL=native-audio-node.js.map", "export {};\n//# sourceMappingURL=native-audio-param.js.map", "export {};\n//# sourceMappingURL=native-audio-param-map.js.map", "export {};\n//# sourceMappingURL=native-audio-worklet.js.map", "export {};\n//# sourceMappingURL=native-audio-worklet-node.js.map", "export {};\n//# sourceMappingURL=native-audio-worklet-node-constructor.js.map", "export {};\n//# sourceMappingURL=native-audio-worklet-node-constructor-factory.js.map", "export {};\n//# sourceMappingURL=native-audio-worklet-node-factory.js.map", "export {};\n//# sourceMappingURL=native-audio-worklet-node-factory-factory.js.map", "export {};\n//# sourceMappingURL=native-audio-worklet-node-faker-factory.js.map", "export {};\n//# sourceMappingURL=native-audio-worklet-node-faker-factory-factory.js.map", "export {};\n//# sourceMappingURL=native-audio-worklet-node-options.js.map", "export {};\n//# sourceMappingURL=native-biquad-filter-node.js.map", "export {};\n//# sourceMappingURL=native-biquad-filter-node-factory.js.map", "export {};\n//# sourceMappingURL=native-channel-merger-node.js.map", "export {};\n//# sourceMappingURL=native-channel-merger-node-factory.js.map", "export {};\n//# sourceMappingURL=native-channel-merger-node-factory-factory.js.map", "export {};\n//# sourceMappingURL=native-channel-splitter-node.js.map", "export {};\n//# sourceMappingURL=native-channel-splitter-node-factory.js.map", "export {};\n//# sourceMappingURL=native-constant-source-node.js.map", "export {};\n//# sourceMappingURL=native-constant-source-node-factory.js.map", "export {};\n//# sourceMappingURL=native-constant-source-node-factory-factory.js.map", "export {};\n//# sourceMappingURL=native-constant-source-node-faker-factory.js.map", "export {};\n//# sourceMappingURL=native-constant-source-node-faker-factory-factory.js.map", "export {};\n//# sourceMappingURL=native-context.js.map", "export {};\n//# sourceMappingURL=native-convolver-node.js.map", "export {};\n//# sourceMappingURL=native-convolver-node-factory.js.map", "export {};\n//# sourceMappingURL=native-convolver-node-factory-factory.js.map", "export {};\n//# sourceMappingURL=native-delay-node-factory.js.map", "export {};\n//# sourceMappingURL=native-delay-node.js.map", "export {};\n//# sourceMappingURL=native-dynamics-compressor-node.js.map", "export {};\n//# sourceMappingURL=native-dynamics-compressor-node-factory.js.map", "export {};\n//# sourceMappingURL=native-dynamics-compressor-node-factory-factory.js.map", "export {};\n//# sourceMappingURL=native-event-target.js.map", "export {};\n//# sourceMappingURL=native-gain-node.js.map", "export {};\n//# sourceMappingURL=native-gain-node-factory.js.map", "export {};\n//# sourceMappingURL=native-iir-filter-node.js.map", "export {};\n//# sourceMappingURL=native-iir-filter-node-factory.js.map", "export {};\n//# sourceMappingURL=native-iir-filter-node-factory-factory.js.map", "export {};\n//# sourceMappingURL=native-iir-filter-node-faker-factory.js.map", "export {};\n//# sourceMappingURL=native-iir-filter-node-faker-factory-factory.js.map", "export {};\n//# sourceMappingURL=native-media-element-audio-source-node.js.map", "export {};\n//# sourceMappingURL=native-media-element-audio-source-node-factory.js.map", "export {};\n//# sourceMappingURL=native-media-stream-audio-destination-node.js.map", "export {};\n//# sourceMappingURL=native-media-stream-audio-destination-node-factory.js.map", "export {};\n//# sourceMappingURL=native-media-stream-audio-source-node.js.map", "export {};\n//# sourceMappingURL=native-media-stream-audio-source-node-factory.js.map", "export {};\n//# sourceMappingURL=native-media-stream-track-audio-source-node.js.map", "export {};\n//# sourceMappingURL=native-media-stream-track-audio-source-node-factory.js.map", "export {};\n//# sourceMappingURL=native-media-stream-track-audio-source-node-factory-factory.js.map", "export {};\n//# sourceMappingURL=native-offline-audio-context.js.map", "export {};\n//# sourceMappingURL=native-offline-audio-context-constructor.js.map", "export {};\n//# sourceMappingURL=native-offline-audio-context-constructor-factory.js.map", "export {};\n//# sourceMappingURL=native-oscillator-node.js.map", "export {};\n//# sourceMappingURL=native-oscillator-node-factory.js.map", "export {};\n//# sourceMappingURL=native-oscillator-node-factory-factory.js.map", "export {};\n//# sourceMappingURL=native-panner-node.js.map", "export {};\n//# sourceMappingURL=native-panner-node-factory.js.map", "export {};\n//# sourceMappingURL=native-panner-node-factory-factory.js.map", "export {};\n//# sourceMappingURL=native-panner-node-faker-factory.js.map", "export {};\n//# sourceMappingURL=native-panner-node-faker-factory-factory.js.map", "export {};\n//# sourceMappingURL=native-periodic-wave.js.map", "export {};\n//# sourceMappingURL=native-periodic-wave-factory.js.map", "export {};\n//# sourceMappingURL=native-periodic-wave-factory-factory.js.map", "export {};\n//# sourceMappingURL=native-script-processor-node.js.map", "export {};\n//# sourceMappingURL=native-script-processor-node-factory.js.map", "export {};\n//# sourceMappingURL=native-stereo-panner-node.js.map", "export {};\n//# sourceMappingURL=native-stereo-panner-node-factory.js.map", "export {};\n//# sourceMappingURL=native-stereo-panner-node-factory-factory.js.map", "export {};\n//# sourceMappingURL=native-stereo-panner-node-faker-factory.js.map", "export {};\n//# sourceMappingURL=native-stereo-panner-node-faker-factory-factory.js.map", "export {};\n//# sourceMappingURL=native-wave-shaper-node.js.map", "export {};\n//# sourceMappingURL=native-wave-shaper-node-factory.js.map", "export {};\n//# sourceMappingURL=native-wave-shaper-node-factory-factory.js.map", "export {};\n//# sourceMappingURL=native-wave-shaper-node-faker-factory.js.map", "export {};\n//# sourceMappingURL=native-wave-shaper-node-faker-factory-factory.js.map", "export {};\n//# sourceMappingURL=not-supported-error-factory.js.map", "export {};\n//# sourceMappingURL=offline-audio-context-constructor-factory.js.map", "export {};\n//# sourceMappingURL=oscillator-node-constructor.js.map", "export {};\n//# sourceMappingURL=oscillator-node-constructor-factory.js.map", "export {};\n//# sourceMappingURL=oscillator-node-renderer.js.map", "export {};\n//# sourceMappingURL=oscillator-node-renderer-factory.js.map", "export {};\n//# sourceMappingURL=oscillator-node-renderer-factory-factory.js.map", "export {};\n//# sourceMappingURL=oscillator-type.js.map", "export {};\n//# sourceMappingURL=output-connection.js.map", "export {};\n//# sourceMappingURL=over-sample-type.js.map", "export {};\n//# sourceMappingURL=overwrite-accessors-function.js.map", "export {};\n//# sourceMappingURL=panner-node-constructor.js.map", "export {};\n//# sourceMappingURL=panner-node-constructor-factory.js.map", "export {};\n//# sourceMappingURL=panner-node-renderer-factory.js.map", "export {};\n//# sourceMappingURL=panner-node-renderer-factory-factory.js.map", "export {};\n//# sourceMappingURL=panning-model-type.js.map", "export {};\n//# sourceMappingURL=passive-audio-node-input-connection.js.map", "export {};\n//# sourceMappingURL=passive-audio-param-input-connection.js.map", "export {};\n//# sourceMappingURL=periodic-wave-constructor.js.map", "export {};\n//# sourceMappingURL=periodic-wave-constructor-factory.js.map", "export {};\n//# sourceMappingURL=pick-element-from-set-function.js.map", "export {};\n//# sourceMappingURL=render-automation-factory.js.map", "export {};\n//# sourceMappingURL=render-automation-function.js.map", "export {};\n//# sourceMappingURL=render-inputs-of-audio-node-factory.js.map", "export {};\n//# sourceMappingURL=render-inputs-of-audio-node-function.js.map", "export {};\n//# sourceMappingURL=render-inputs-of-audio-param-factory.js.map", "export {};\n//# sourceMappingURL=render-inputs-of-audio-param-function.js.map", "export {};\n//# sourceMappingURL=render-native-offline-audio-context-factory.js.map", "export {};\n//# sourceMappingURL=render-native-offline-audio-context-function.js.map", "export {};\n//# sourceMappingURL=sanitize-audio-worklet-node-options-function.js.map", "export {};\n//# sourceMappingURL=sanitize-channel-splitter-options-function.js.map", "export {};\n//# sourceMappingURL=sanitize-periodic-wave-options-function.js.map", "export {};\n//# sourceMappingURL=set-active-audio-worklet-node-inputs-factory.js.map", "export {};\n//# sourceMappingURL=set-active-audio-worklet-node-inputs-function.js.map", "export {};\n//# sourceMappingURL=set-audio-node-tail-time-factory.js.map", "export {};\n//# sourceMappingURL=set-audio-node-tail-time-function.js.map", "export {};\n//# sourceMappingURL=set-value-at-time-until-possible-function.js.map", "export {};\n//# sourceMappingURL=start-rendering-factory.js.map", "export {};\n//# sourceMappingURL=start-rendering-function.js.map", "export {};\n//# sourceMappingURL=stereo-panner-node-constructor.js.map", "export {};\n//# sourceMappingURL=stereo-panner-node-constructor-factory.js.map", "export {};\n//# sourceMappingURL=stereo-panner-node-renderer-factory-factory.js.map", "export {};\n//# sourceMappingURL=stereo-panner-node-renderer-factory.js.map", "export {};\n//# sourceMappingURL=test-audio-buffer-copy-channel-methods-subarray-support-factory.js.map", "export {};\n//# sourceMappingURL=test-audio-buffer-constructor-support-factory.js.map", "export {};\n//# sourceMappingURL=test-audio-context-close-method-support-factory.js.map", "export {};\n//# sourceMappingURL=test-audio-context-decode-audio-data-method-type-error-support-factory.js.map", "export {};\n//# sourceMappingURL=test-audio-context-options-support-factory.js.map", "export {};\n//# sourceMappingURL=test-audio-node-connect-method-support-factory.js.map", "export {};\n//# sourceMappingURL=test-audio-worklet-node-options-clonability-function.js.map", "export {};\n//# sourceMappingURL=test-audio-worklet-processor-no-outputs-support-factory.js.map", "export {};\n//# sourceMappingURL=test-audio-worklet-processor-post-message-support-factory.js.map", "export {};\n//# sourceMappingURL=test-channel-merger-node-channel-count-support-factory.js.map", "export {};\n//# sourceMappingURL=test-constant-source-node-accurate-scheduling-support-factory.js.map", "export {};\n//# sourceMappingURL=test-convolver-node-buffer-reassignability-support-factory.js.map", "export {};\n//# sourceMappingURL=test-convolver-node-channel-count-support-factory.js.map", "export {};\n//# sourceMappingURL=test-is-secure-context-support-factory.js.map", "export {};\n//# sourceMappingURL=test-media-stream-audio-source-node-media-stream-without-audio-track-support.js.map", "export {};\n//# sourceMappingURL=test-offline-audio-context-current-time-support-factory.js.map", "export {};\n//# sourceMappingURL=test-stereo-panner-node-default-value-support-factory.js.map", "export {};\n//# sourceMappingURL=unknown-error-factory.js.map", "export {};\n//# sourceMappingURL=unrendered-audio-worklet-node-store.js.map", "export {};\n//# sourceMappingURL=unrendered-audio-worklet-nodes.js.map", "export {};\n//# sourceMappingURL=wave-shaper-node-constructor.js.map", "export {};\n//# sourceMappingURL=wave-shaper-node-constructor-factory.js.map", "export {};\n//# sourceMappingURL=wave-shaper-node-renderer-factory-factory.js.map", "export {};\n//# sourceMappingURL=wave-shaper-node-renderer-factory.js.map", "export {};\n//# sourceMappingURL=window.js.map", "export {};\n//# sourceMappingURL=window-factory.js.map", "export {};\n//# sourceMappingURL=wrap-audio-buffer-copy-channel-methods-factory.js.map", "export {};\n//# sourceMappingURL=wrap-audio-buffer-copy-channel-methods-function.js.map", "export {};\n//# sourceMappingURL=wrap-audio-buffer-copy-channel-methods-out-of-bounds-factory.js.map", "export {};\n//# sourceMappingURL=wrap-audio-buffer-copy-channel-methods-out-of-bounds-function.js.map", "export {};\n//# sourceMappingURL=wrap-audio-buffer-source-node-start-method-offset-clamping-function.js.map", "export {};\n//# sourceMappingURL=wrap-audio-buffer-source-node-stop-method-nullified-buffer-factory.js.map", "export {};\n//# sourceMappingURL=wrap-audio-buffer-source-node-stop-method-nullified-buffer-function.js.map", "export {};\n//# sourceMappingURL=wrap-audio-scheduled-source-node-stop-method-consecutive-calls-function.js.map", "export {};\n//# sourceMappingURL=wrap-channel-merger-node-factory.js.map", "export {};\n//# sourceMappingURL=wrap-channel-merger-node-function.js.map", "export {};\n//# sourceMappingURL=wrap-event-listener-function.js.map", "export * from './abort-error-factory';\nexport * from './active-audio-worklet-node-inputs-store';\nexport * from './active-input-connection';\nexport * from './add-active-input-connection-to-audio-node-factory';\nexport * from './add-active-input-connection-to-audio-node-function';\nexport * from './add-audio-node-connections-factory';\nexport * from './add-audio-node-connections-function';\nexport * from './add-audio-param-connections-factory';\nexport * from './add-audio-param-connections-function';\nexport * from './add-audio-worklet-module-factory';\nexport * from './add-audio-worklet-module-function';\nexport * from './add-connection-to-audio-node-factory';\nexport * from './add-connection-to-audio-node-function';\nexport * from './add-passive-input-connection-to-audio-node-factory';\nexport * from './add-passive-input-connection-to-audio-node-function';\nexport * from './add-silent-connection-factory';\nexport * from './add-silent-connection-function';\nexport * from './add-unrendered-audio-worklet-node-factory';\nexport * from './add-unrendered-audio-worklet-node-function';\nexport * from './analyser-node-constructor';\nexport * from './analyser-node-constructor-factory';\nexport * from './analyser-node-renderer-factory';\nexport * from './analyser-node-renderer-factory-factory';\nexport * from './any-audio-buffer';\nexport * from './any-context';\nexport * from './audio-buffer-constructor';\nexport * from './audio-buffer-constructor-factory';\nexport * from './audio-buffer-source-node-constructor';\nexport * from './audio-buffer-source-node-constructor-factory';\nexport * from './audio-buffer-source-node-renderer';\nexport * from './audio-buffer-source-node-renderer-factory';\nexport * from './audio-buffer-source-node-renderer-factory-factory';\nexport * from './audio-buffer-store';\nexport * from './audio-context-constructor';\nexport * from './audio-context-constructor-factory';\nexport * from './audio-context-latency-category';\nexport * from './audio-context-state';\nexport * from './audio-destination-node-constructor';\nexport * from './audio-destination-node-constructor-factory';\nexport * from './audio-destination-node-renderer-factory';\nexport * from './audio-listener-factory';\nexport * from './audio-listener-factory-factory';\nexport * from './audio-node-connections';\nexport * from './audio-node-connections-store';\nexport * from './audio-node-constructor';\nexport * from './audio-node-constructor-factory';\nexport * from './audio-node-output-connection';\nexport * from './audio-node-renderer';\nexport * from './audio-node-store';\nexport * from './audio-node-tail-time-store';\nexport * from './audio-param-audio-node-store';\nexport * from './audio-param-connections';\nexport * from './audio-param-connections-store';\nexport * from './audio-param-factory';\nexport * from './audio-param-factory-factory';\nexport * from './audio-param-map';\nexport * from './audio-param-output-connection';\nexport * from './audio-param-renderer-factory';\nexport * from './audio-param-store';\nexport * from './audio-worklet-node-constructor';\nexport * from './audio-worklet-node-constructor-factory';\nexport * from './audio-worklet-node-renderer-factory';\nexport * from './audio-worklet-node-renderer-factory-factory';\nexport * from './backup-offline-audio-context-store';\nexport * from './base-audio-context-constructor';\nexport * from './base-audio-context-constructor-factory';\nexport * from './biquad-filter-node-constructor';\nexport * from './biquad-filter-node-constructor-factory';\nexport * from './biquad-filter-node-renderer-factory';\nexport * from './biquad-filter-node-renderer-factory-factory';\nexport * from './biquad-filter-type';\nexport * from './channel-count-mode';\nexport * from './channel-interpretation';\nexport * from './channel-merger-node-constructor';\nexport * from './channel-merger-node-constructor-factory';\nexport * from './channel-merger-node-renderer-factory';\nexport * from './channel-merger-node-renderer-factory-factory';\nexport * from './channel-splitter-node-constructor';\nexport * from './channel-splitter-node-constructor-factory';\nexport * from './channel-splitter-node-renderer-factory';\nexport * from './channel-splitter-node-renderer-factory-factory';\nexport * from './cache-test-result-factory';\nexport * from './cache-test-result-function';\nexport * from './connect-audio-param-factory';\nexport * from './connect-audio-param-function';\nexport * from './connect-multiple-outputs-factory';\nexport * from './connect-multiple-outputs-function';\nexport * from './connect-native-audio-node-to-native-audio-node-function';\nexport * from './connected-native-audio-buffer-source-node-factory';\nexport * from './connected-native-audio-buffer-source-node-factory-factory';\nexport * from './constant-source-node-constructor';\nexport * from './constant-source-node-constructor-factory';\nexport * from './constant-source-node-renderer';\nexport * from './constant-source-node-renderer-factory';\nexport * from './constant-source-node-renderer-factory-factory';\nexport * from './constructor';\nexport * from './context';\nexport * from './context-store';\nexport * from './convert-number-to-unsigned-long-factory';\nexport * from './convert-number-to-unsigned-long-function';\nexport * from './convolver-node-constructor';\nexport * from './convolver-node-constructor-factory';\nexport * from './convolver-node-renderer-factory';\nexport * from './convolver-node-renderer-factory-factory';\nexport * from './create-native-offline-audio-context-factory';\nexport * from './create-native-offline-audio-context-function';\nexport * from './cycle-counters';\nexport * from './data-clone-error-factory';\nexport * from './decode-audio-data-factory';\nexport * from './decode-audio-data-function';\nexport * from './decode-error-callback';\nexport * from './decode-success-callback';\nexport * from './decrement-cycle-counter-factory';\nexport * from './decrement-cycle-counter-function';\nexport * from './delay-node-constructor';\nexport * from './delay-node-constructor-factory';\nexport * from './delay-node-renderer-factory';\nexport * from './delay-node-renderer-factory-factory';\nexport * from './delete-active-input-connection-to-audio-node-factory';\nexport * from './delete-active-input-connection-to-audio-node-function';\nexport * from './delete-unrendered-audio-worklet-node-factory';\nexport * from './delete-unrendered-audio-worklet-node-function';\nexport * from './detect-cycles-factory';\nexport * from './detect-cycles-function';\nexport * from './disconnect-multiple-outputs-factory';\nexport * from './disconnect-multiple-outputs-function';\nexport * from './disconnect-native-audio-node-from-native-audio-node-function';\nexport * from './distance-model-type';\nexport * from './dynamics-compressor-node-constructor';\nexport * from './dynamics-compressor-node-constructor-factory';\nexport * from './dynamics-compressor-node-renderer-factory';\nexport * from './dynamics-compressor-node-renderer-factory-factory';\nexport * from './encoding-error-factory';\nexport * from './error-event-handler';\nexport * from './evaluate-audio-worklet-global-scope-function';\nexport * from './evaluate-source-factory';\nexport * from './evaluate-source-function';\nexport * from './event-handler';\nexport * from './event-target-constructor';\nexport * from './event-target-constructor-factory';\nexport * from './expose-current-frame-and-current-time-factory';\nexport * from './expose-current-frame-and-current-time-function';\nexport * from './fetch-source-factory';\nexport * from './fetch-source-function';\nexport * from './gain-node-constructor';\nexport * from './gain-node-constructor-factory';\nexport * from './gain-node-renderer-factory';\nexport * from './gain-node-renderer-factory-factory';\nexport * from './get-active-audio-worklet-node-inputs-factory';\nexport * from './get-active-audio-worklet-node-inputs-function';\nexport * from './get-audio-node-connections-function';\nexport * from './get-audio-node-renderer-factory';\nexport * from './get-audio-node-renderer-function';\nexport * from './get-audio-node-tail-time-factory';\nexport * from './get-audio-node-tail-time-function';\nexport * from './get-audio-param-connections-function';\nexport * from './get-audio-param-renderer-factory';\nexport * from './get-audio-param-renderer-function';\nexport * from './get-backup-offline-audio-context-factory';\nexport * from './get-backup-offline-audio-context-function';\nexport * from './get-event-listeners-of-audio-node-function';\nexport * from './get-first-sample-function';\nexport * from './get-native-audio-node-function';\nexport * from './get-native-audio-param-function';\nexport * from './get-native-context-factory';\nexport * from './get-native-context-function';\nexport * from './get-or-create-backup-offline-audio-context-factory';\nexport * from './get-or-create-backup-offline-audio-context-function';\nexport * from './get-unrendered-audio-worklet-nodes-factory';\nexport * from './get-unrendered-audio-worklet-nodes-function';\nexport * from './get-value-for-key-function';\nexport * from './iir-filter-node-constructor';\nexport * from './iir-filter-node-constructor-factory';\nexport * from './iir-filter-node-renderer-factory';\nexport * from './iir-filter-node-renderer-factory-factory';\nexport * from './increment-cycle-counter-factory';\nexport * from './increment-cycle-counter-factory-factory';\nexport * from './increment-cycle-counter-function';\nexport * from './index-size-error-factory';\nexport * from './insert-element-in-set-function';\nexport * from './internal-state-event-listener';\nexport * from './invalid-access-error-factory';\nexport * from './invalid-state-error-factory';\nexport * from './is-active-audio-node-function';\nexport * from './is-any-audio-context-factory';\nexport * from './is-any-audio-context-function';\nexport * from './is-any-audio-node-factory';\nexport * from './is-any-audio-node-function';\nexport * from './is-any-audio-param-factory';\nexport * from './is-any-audio-param-function';\nexport * from './is-any-offline-audio-context-factory';\nexport * from './is-any-offline-audio-context-function';\nexport * from './is-dc-curve-function';\nexport * from './is-native-audio-context-factory';\nexport * from './is-native-audio-context-function';\nexport * from './is-native-audio-node-factory';\nexport * from './is-native-audio-node-function';\nexport * from './is-native-audio-param-factory';\nexport * from './is-native-audio-param-function';\nexport * from './is-native-context-factory';\nexport * from './is-native-context-function';\nexport * from './is-native-offline-audio-context-factory';\nexport * from './is-native-offline-audio-context-function';\nexport * from './is-part-of-a-cycle-function';\nexport * from './is-passive-audio-node-function';\nexport * from './is-secure-context-factory';\nexport * from './is-supported-promise-factory';\nexport * from './media-element-audio-source-node-constructor';\nexport * from './media-element-audio-source-node-constructor-factory';\nexport * from './media-stream-audio-destination-node-constructor';\nexport * from './media-stream-audio-destination-node-constructor-factory';\nexport * from './media-stream-audio-source-node-constructor';\nexport * from './media-stream-audio-source-node-constructor-factory';\nexport * from './media-stream-track-audio-source-node-constructor';\nexport * from './media-stream-track-audio-source-node-constructor-factory';\nexport * from './minimal-audio-context-constructor';\nexport * from './minimal-audio-context-constructor-factory';\nexport * from './minimal-base-audio-context-constructor';\nexport * from './minimal-base-audio-context-constructor-factory';\nexport * from './minimal-offline-audio-context-constructor';\nexport * from './minimal-offline-audio-context-constructor-factory';\nexport * from './monitor-connections-factory';\nexport * from './monitor-connections-function';\nexport * from './native-analyser-node';\nexport * from './native-analyser-node-factory';\nexport * from './native-analyser-node-factory-factory';\nexport * from './native-audio-buffer';\nexport * from './native-audio-buffer-constructor';\nexport * from './native-audio-buffer-constructor-factory';\nexport * from './native-audio-buffer-source-node';\nexport * from './native-audio-buffer-source-node-factory';\nexport * from './native-audio-buffer-source-node-factory-factory';\nexport * from './native-audio-context';\nexport * from './native-audio-context-constructor';\nexport * from './native-audio-context-constructor-factory';\nexport * from './native-audio-destination-node';\nexport * from './native-audio-destination-node-factory';\nexport * from './native-audio-destination-node-factory-factory';\nexport * from './native-audio-listener';\nexport * from './native-audio-node';\nexport * from './native-audio-param';\nexport * from './native-audio-param-map';\nexport * from './native-audio-worklet';\nexport * from './native-audio-worklet-node';\nexport * from './native-audio-worklet-node-constructor';\nexport * from './native-audio-worklet-node-constructor-factory';\nexport * from './native-audio-worklet-node-factory';\nexport * from './native-audio-worklet-node-factory-factory';\nexport * from './native-audio-worklet-node-faker-factory';\nexport * from './native-audio-worklet-node-faker-factory-factory';\nexport * from './native-audio-worklet-node-options';\nexport * from './native-biquad-filter-node';\nexport * from './native-biquad-filter-node-factory';\nexport * from './native-channel-merger-node';\nexport * from './native-channel-merger-node-factory';\nexport * from './native-channel-merger-node-factory-factory';\nexport * from './native-channel-splitter-node';\nexport * from './native-channel-splitter-node-factory';\nexport * from './native-constant-source-node';\nexport * from './native-constant-source-node-factory';\nexport * from './native-constant-source-node-factory-factory';\nexport * from './native-constant-source-node-faker-factory';\nexport * from './native-constant-source-node-faker-factory-factory';\nexport * from './native-context';\nexport * from './native-convolver-node';\nexport * from './native-convolver-node-factory';\nexport * from './native-convolver-node-factory-factory';\nexport * from './native-delay-node-factory';\nexport * from './native-delay-node';\nexport * from './native-dynamics-compressor-node';\nexport * from './native-dynamics-compressor-node-factory';\nexport * from './native-dynamics-compressor-node-factory-factory';\nexport * from './native-event-target';\nexport * from './native-gain-node';\nexport * from './native-gain-node-factory';\nexport * from './native-iir-filter-node';\nexport * from './native-iir-filter-node-factory';\nexport * from './native-iir-filter-node-factory-factory';\nexport * from './native-iir-filter-node-faker-factory';\nexport * from './native-iir-filter-node-faker-factory-factory';\nexport * from './native-media-element-audio-source-node';\nexport * from './native-media-element-audio-source-node-factory';\nexport * from './native-media-stream-audio-destination-node';\nexport * from './native-media-stream-audio-destination-node-factory';\nexport * from './native-media-stream-audio-source-node';\nexport * from './native-media-stream-audio-source-node-factory';\nexport * from './native-media-stream-track-audio-source-node';\nexport * from './native-media-stream-track-audio-source-node-factory';\nexport * from './native-media-stream-track-audio-source-node-factory-factory';\nexport * from './native-offline-audio-context';\nexport * from './native-offline-audio-context-constructor';\nexport * from './native-offline-audio-context-constructor-factory';\nexport * from './native-oscillator-node';\nexport * from './native-oscillator-node-factory';\nexport * from './native-oscillator-node-factory-factory';\nexport * from './native-panner-node';\nexport * from './native-panner-node-factory';\nexport * from './native-panner-node-factory-factory';\nexport * from './native-panner-node-faker-factory';\nexport * from './native-panner-node-faker-factory-factory';\nexport * from './native-periodic-wave';\nexport * from './native-periodic-wave-factory';\nexport * from './native-periodic-wave-factory-factory';\nexport * from './native-script-processor-node';\nexport * from './native-script-processor-node-factory';\nexport * from './native-stereo-panner-node';\nexport * from './native-stereo-panner-node-factory';\nexport * from './native-stereo-panner-node-factory-factory';\nexport * from './native-stereo-panner-node-faker-factory';\nexport * from './native-stereo-panner-node-faker-factory-factory';\nexport * from './native-wave-shaper-node';\nexport * from './native-wave-shaper-node-factory';\nexport * from './native-wave-shaper-node-factory-factory';\nexport * from './native-wave-shaper-node-faker-factory';\nexport * from './native-wave-shaper-node-faker-factory-factory';\nexport * from './not-supported-error-factory';\nexport * from './offline-audio-context-constructor-factory';\nexport * from './oscillator-node-constructor';\nexport * from './oscillator-node-constructor-factory';\nexport * from './oscillator-node-renderer';\nexport * from './oscillator-node-renderer-factory';\nexport * from './oscillator-node-renderer-factory-factory';\nexport * from './oscillator-type';\nexport * from './output-connection';\nexport * from './over-sample-type';\nexport * from './overwrite-accessors-function';\nexport * from './panner-node-constructor';\nexport * from './panner-node-constructor-factory';\nexport * from './panner-node-renderer-factory';\nexport * from './panner-node-renderer-factory-factory';\nexport * from './panning-model-type';\nexport * from './passive-audio-node-input-connection';\nexport * from './passive-audio-param-input-connection';\nexport * from './periodic-wave-constructor';\nexport * from './periodic-wave-constructor-factory';\nexport * from './pick-element-from-set-function';\nexport * from './render-automation-factory';\nexport * from './render-automation-function';\nexport * from './render-inputs-of-audio-node-factory';\nexport * from './render-inputs-of-audio-node-function';\nexport * from './render-inputs-of-audio-param-factory';\nexport * from './render-inputs-of-audio-param-function';\nexport * from './render-native-offline-audio-context-factory';\nexport * from './render-native-offline-audio-context-function';\nexport * from './sanitize-audio-worklet-node-options-function';\nexport * from './sanitize-channel-splitter-options-function';\nexport * from './sanitize-periodic-wave-options-function';\nexport * from './set-active-audio-worklet-node-inputs-factory';\nexport * from './set-active-audio-worklet-node-inputs-function';\nexport * from './set-audio-node-tail-time-factory';\nexport * from './set-audio-node-tail-time-function';\nexport * from './set-value-at-time-until-possible-function';\nexport * from './start-rendering-factory';\nexport * from './start-rendering-function';\nexport * from './stereo-panner-node-constructor';\nexport * from './stereo-panner-node-constructor-factory';\nexport * from './stereo-panner-node-renderer-factory-factory';\nexport * from './stereo-panner-node-renderer-factory';\nexport * from './test-audio-buffer-copy-channel-methods-subarray-support-factory';\nexport * from './test-audio-buffer-constructor-support-factory';\nexport * from './test-audio-context-close-method-support-factory';\nexport * from './test-audio-context-decode-audio-data-method-type-error-support-factory';\nexport * from './test-audio-context-options-support-factory';\nexport * from './test-audio-node-connect-method-support-factory';\nexport * from './test-audio-worklet-node-options-clonability-function';\nexport * from './test-audio-worklet-processor-no-outputs-support-factory';\nexport * from './test-audio-worklet-processor-post-message-support-factory';\nexport * from './test-channel-merger-node-channel-count-support-factory';\nexport * from './test-constant-source-node-accurate-scheduling-support-factory';\nexport * from './test-convolver-node-buffer-reassignability-support-factory';\nexport * from './test-convolver-node-channel-count-support-factory';\nexport * from './test-is-secure-context-support-factory';\nexport * from './test-media-stream-audio-source-node-media-stream-without-audio-track-support';\nexport * from './test-offline-audio-context-current-time-support-factory';\nexport * from './test-stereo-panner-node-default-value-support-factory';\nexport * from './unknown-error-factory';\nexport * from './unrendered-audio-worklet-node-store';\nexport * from './unrendered-audio-worklet-nodes';\nexport * from './wave-shaper-node-constructor';\nexport * from './wave-shaper-node-constructor-factory';\nexport * from './wave-shaper-node-renderer-factory-factory';\nexport * from './wave-shaper-node-renderer-factory';\nexport * from './window';\nexport * from './window-factory';\nexport * from './wrap-audio-buffer-copy-channel-methods-factory';\nexport * from './wrap-audio-buffer-copy-channel-methods-function';\nexport * from './wrap-audio-buffer-copy-channel-methods-out-of-bounds-factory';\nexport * from './wrap-audio-buffer-copy-channel-methods-out-of-bounds-function';\nexport * from './wrap-audio-buffer-source-node-start-method-offset-clamping-function';\nexport * from './wrap-audio-buffer-source-node-stop-method-nullified-buffer-factory';\nexport * from './wrap-audio-buffer-source-node-stop-method-nullified-buffer-function';\nexport * from './wrap-audio-scheduled-source-node-stop-method-consecutive-calls-function';\nexport * from './wrap-channel-merger-node-factory';\nexport * from './wrap-channel-merger-node-function';\nexport * from './wrap-event-listener-function';\n", "import {\n    createCancelAndHoldAutomationEvent,\n    createCancelScheduledValuesAutomationEvent,\n    createExponentialRampToValueAutomationEvent,\n    createLinearRampToValueAutomationEvent,\n    createSetTargetAutomationEvent,\n    createSetValueAutomationEvent,\n    createSetValueCurveAutomationEvent\n} from 'automation-events';\nimport { createAbortError } from './factories/abort-error';\nimport { createAddActiveInputConnectionToAudioNode } from './factories/add-active-input-connection-to-audio-node';\nimport { createAddAudioNodeConnections } from './factories/add-audio-node-connections';\nimport { createAddAudioParamConnections } from './factories/add-audio-param-connections';\nimport { createAddAudioWorkletModule } from './factories/add-audio-worklet-module';\nimport { createAddConnectionToAudioNode } from './factories/add-connection-to-audio-node';\nimport { createAddPassiveInputConnectionToAudioNode } from './factories/add-passive-input-connection-to-audio-node';\nimport { createAddSilentConnection } from './factories/add-silent-connection';\nimport { createAddUnrenderedAudioWorkletNode } from './factories/add-unrendered-audio-worklet-node';\nimport { createAnalyserNodeConstructor } from './factories/analyser-node-constructor';\nimport { createAnalyserNodeRendererFactory } from './factories/analyser-node-renderer-factory';\nimport { createAudioBufferConstructor } from './factories/audio-buffer-constructor';\nimport { createAudioBufferSourceNodeConstructor } from './factories/audio-buffer-source-node-constructor';\nimport { createAudioBufferSourceNodeRendererFactory } from './factories/audio-buffer-source-node-renderer-factory';\nimport { createAudioContextConstructor } from './factories/audio-context-constructor';\nimport { createAudioDestinationNodeConstructor } from './factories/audio-destination-node-constructor';\nimport { createAudioDestinationNodeRenderer } from './factories/audio-destination-node-renderer-factory';\nimport { createAudioListenerFactory } from './factories/audio-listener-factory';\nimport { createAudioNodeConstructor } from './factories/audio-node-constructor';\nimport { createAudioParamFactory } from './factories/audio-param-factory';\nimport { createAudioParamRenderer } from './factories/audio-param-renderer';\nimport { createAudioWorkletNodeConstructor } from './factories/audio-worklet-node-constructor';\nimport { createAudioWorkletNodeRendererFactory } from './factories/audio-worklet-node-renderer-factory';\nimport { createBaseAudioContextConstructor } from './factories/base-audio-context-constructor';\nimport { createBiquadFilterNodeConstructor } from './factories/biquad-filter-node-constructor';\nimport { createBiquadFilterNodeRendererFactory } from './factories/biquad-filter-node-renderer-factory';\nimport { createCacheTestResult } from './factories/cache-test-result';\nimport { createChannelMergerNodeConstructor } from './factories/channel-merger-node-constructor';\nimport { createChannelMergerNodeRendererFactory } from './factories/channel-merger-node-renderer-factory';\nimport { createChannelSplitterNodeConstructor } from './factories/channel-splitter-node-constructor';\nimport { createChannelSplitterNodeRendererFactory } from './factories/channel-splitter-node-renderer-factory';\nimport { createConnectAudioParam } from './factories/connect-audio-param';\nimport { createConnectMultipleOutputs } from './factories/connect-multiple-outputs';\nimport { createConnectedNativeAudioBufferSourceNodeFactory } from './factories/connected-native-audio-buffer-source-node-factory';\nimport { createConstantSourceNodeConstructor } from './factories/constant-source-node-constructor';\nimport { createConstantSourceNodeRendererFactory } from './factories/constant-source-node-renderer-factory';\nimport { createConvertNumberToUnsignedLong } from './factories/convert-number-to-unsigned-long';\nimport { createConvolverNodeConstructor } from './factories/convolver-node-constructor';\nimport { createConvolverNodeRendererFactory } from './factories/convolver-node-renderer-factory';\nimport { createCreateNativeOfflineAudioContext } from './factories/create-native-offline-audio-context';\nimport { createDataCloneError } from './factories/data-clone-error';\nimport { createDecodeAudioData } from './factories/decode-audio-data';\nimport { createDecrementCycleCounter } from './factories/decrement-cycle-counter';\nimport { createDelayNodeConstructor } from './factories/delay-node-constructor';\nimport { createDelayNodeRendererFactory } from './factories/delay-node-renderer-factory';\nimport { createDeleteActiveInputConnectionToAudioNode } from './factories/delete-active-input-connection-to-audio-node';\nimport { createDeleteUnrenderedAudioWorkletNode } from './factories/delete-unrendered-audio-worklet-node';\nimport { createDetectCycles } from './factories/detect-cycles';\nimport { createDisconnectMultipleOutputs } from './factories/disconnect-multiple-outputs';\nimport { createDynamicsCompressorNodeConstructor } from './factories/dynamics-compressor-node-constructor';\nimport { createDynamicsCompressorNodeRendererFactory } from './factories/dynamics-compressor-node-renderer-factory';\nimport { createEncodingError } from './factories/encoding-error';\nimport { createEvaluateSource } from './factories/evaluate-source';\nimport { createEventTargetConstructor } from './factories/event-target-constructor';\nimport { createExposeCurrentFrameAndCurrentTime } from './factories/expose-current-frame-and-current-time';\nimport { createFetchSource } from './factories/fetch-source';\nimport { createGainNodeConstructor } from './factories/gain-node-constructor';\nimport { createGainNodeRendererFactory } from './factories/gain-node-renderer-factory';\nimport { createGetActiveAudioWorkletNodeInputs } from './factories/get-active-audio-worklet-node-inputs';\nimport { createGetAudioNodeRenderer } from './factories/get-audio-node-renderer';\nimport { createGetAudioNodeTailTime } from './factories/get-audio-node-tail-time';\nimport { createGetAudioParamRenderer } from './factories/get-audio-param-renderer';\nimport { createGetBackupOfflineAudioContext } from './factories/get-backup-offline-audio-context';\nimport { createGetNativeContext } from './factories/get-native-context';\nimport { createGetOrCreateBackupOfflineAudioContext } from './factories/get-or-create-backup-offline-audio-context';\nimport { createGetUnrenderedAudioWorkletNodes } from './factories/get-unrendered-audio-worklet-nodes';\nimport { createIIRFilterNodeConstructor } from './factories/iir-filter-node-constructor';\nimport { createIIRFilterNodeRendererFactory } from './factories/iir-filter-node-renderer-factory';\nimport { createIncrementCycleCounterFactory } from './factories/increment-cycle-counter-factory';\nimport { createIndexSizeError } from './factories/index-size-error';\nimport { createInvalidAccessError } from './factories/invalid-access-error';\nimport { createInvalidStateError } from './factories/invalid-state-error';\nimport { createIsAnyAudioContext } from './factories/is-any-audio-context';\nimport { createIsAnyAudioNode } from './factories/is-any-audio-node';\nimport { createIsAnyAudioParam } from './factories/is-any-audio-param';\nimport { createIsAnyOfflineAudioContext } from './factories/is-any-offline-audio-context';\nimport { createIsNativeAudioContext } from './factories/is-native-audio-context';\nimport { createIsNativeAudioNode } from './factories/is-native-audio-node';\nimport { createIsNativeAudioParam } from './factories/is-native-audio-param';\nimport { createIsNativeContext } from './factories/is-native-context';\nimport { createIsNativeOfflineAudioContext } from './factories/is-native-offline-audio-context';\nimport { createIsSecureContext } from './factories/is-secure-context';\nimport { createIsSupportedPromise } from './factories/is-supported-promise';\nimport { createMediaElementAudioSourceNodeConstructor } from './factories/media-element-audio-source-node-constructor';\nimport { createMediaStreamAudioDestinationNodeConstructor } from './factories/media-stream-audio-destination-node-constructor';\nimport { createMediaStreamAudioSourceNodeConstructor } from './factories/media-stream-audio-source-node-constructor';\nimport { createMediaStreamTrackAudioSourceNodeConstructor } from './factories/media-stream-track-audio-source-node-constructor';\nimport { createMinimalAudioContextConstructor } from './factories/minimal-audio-context-constructor';\nimport { createMinimalBaseAudioContextConstructor } from './factories/minimal-base-audio-context-constructor';\nimport { createMinimalOfflineAudioContextConstructor } from './factories/minimal-offline-audio-context-constructor';\nimport { createMonitorConnections } from './factories/monitor-connections';\nimport { createNativeAnalyserNodeFactory } from './factories/native-analyser-node-factory';\nimport { createNativeAudioBufferConstructor } from './factories/native-audio-buffer-constructor';\nimport { createNativeAudioBufferSourceNodeFactory } from './factories/native-audio-buffer-source-node-factory';\nimport { createNativeAudioContextConstructor } from './factories/native-audio-context-constructor';\nimport { createNativeAudioDestinationNodeFactory } from './factories/native-audio-destination-node';\nimport { createNativeAudioWorkletNodeConstructor } from './factories/native-audio-worklet-node-constructor';\nimport { createNativeAudioWorkletNodeFactory } from './factories/native-audio-worklet-node-factory';\nimport { createNativeAudioWorkletNodeFakerFactory } from './factories/native-audio-worklet-node-faker-factory';\nimport { createNativeBiquadFilterNode } from './factories/native-biquad-filter-node';\nimport { createNativeChannelMergerNodeFactory } from './factories/native-channel-merger-node-factory';\nimport { createNativeChannelSplitterNode } from './factories/native-channel-splitter-node';\nimport { createNativeConstantSourceNodeFactory } from './factories/native-constant-source-node-factory';\nimport { createNativeConstantSourceNodeFakerFactory } from './factories/native-constant-source-node-faker-factory';\nimport { createNativeConvolverNodeFactory } from './factories/native-convolver-node-factory';\nimport { createNativeDelayNode } from './factories/native-delay-node';\nimport { createNativeDynamicsCompressorNodeFactory } from './factories/native-dynamics-compressor-node-factory';\nimport { createNativeGainNode } from './factories/native-gain-node';\nimport { createNativeIIRFilterNodeFactory } from './factories/native-iir-filter-node-factory';\nimport { createNativeIIRFilterNodeFakerFactory } from './factories/native-iir-filter-node-faker-factory';\nimport { createNativeMediaElementAudioSourceNode } from './factories/native-media-element-audio-source-node';\nimport { createNativeMediaStreamAudioDestinationNode } from './factories/native-media-stream-audio-destination-node';\nimport { createNativeMediaStreamAudioSourceNode } from './factories/native-media-stream-audio-source-node';\nimport { createNativeMediaStreamTrackAudioSourceNodeFactory } from './factories/native-media-stream-track-audio-source-node-factory';\nimport { createNativeOfflineAudioContextConstructor } from './factories/native-offline-audio-context-constructor';\nimport { createNativeOscillatorNodeFactory } from './factories/native-oscillator-node-factory';\nimport { createNativePannerNodeFactory } from './factories/native-panner-node-factory';\nimport { createNativePannerNodeFakerFactory } from './factories/native-panner-node-faker-factory';\nimport { createNativePeriodicWaveFactory } from './factories/native-periodic-wave-factory';\nimport { createNativeScriptProcessorNode } from './factories/native-script-processor-node';\nimport { createNativeStereoPannerNodeFactory } from './factories/native-stereo-panner-node-factory';\nimport { createNativeStereoPannerNodeFakerFactory } from './factories/native-stereo-panner-node-faker-factory';\nimport { createNativeWaveShaperNodeFactory } from './factories/native-wave-shaper-node-factory';\nimport { createNativeWaveShaperNodeFakerFactory } from './factories/native-wave-shaper-node-faker-factory';\nimport { createNotSupportedError } from './factories/not-supported-error';\nimport { createOfflineAudioContextConstructor } from './factories/offline-audio-context-constructor';\nimport { createOscillatorNodeConstructor } from './factories/oscillator-node-constructor';\nimport { createOscillatorNodeRendererFactory } from './factories/oscillator-node-renderer-factory';\nimport { createPannerNodeConstructor } from './factories/panner-node-constructor';\nimport { createPannerNodeRendererFactory } from './factories/panner-node-renderer-factory';\nimport { createPeriodicWaveConstructor } from './factories/periodic-wave-constructor';\nimport { createRenderAutomation } from './factories/render-automation';\nimport { createRenderInputsOfAudioNode } from './factories/render-inputs-of-audio-node';\nimport { createRenderInputsOfAudioParam } from './factories/render-inputs-of-audio-param';\nimport { createRenderNativeOfflineAudioContext } from './factories/render-native-offline-audio-context';\nimport { createSetActiveAudioWorkletNodeInputs } from './factories/set-active-audio-worklet-node-inputs';\nimport { createSetAudioNodeTailTime } from './factories/set-audio-node-tail-time';\nimport { createStartRendering } from './factories/start-rendering';\nimport { createStereoPannerNodeConstructor } from './factories/stereo-panner-node-constructor';\nimport { createStereoPannerNodeRendererFactory } from './factories/stereo-panner-node-renderer-factory';\nimport { createTestAudioBufferConstructorSupport } from './factories/test-audio-buffer-constructor-support';\nimport { createTestAudioBufferCopyChannelMethodsSubarraySupport } from './factories/test-audio-buffer-copy-channel-methods-subarray-support';\nimport { createTestAudioContextCloseMethodSupport } from './factories/test-audio-context-close-method-support';\nimport { createTestAudioContextDecodeAudioDataMethodTypeErrorSupport } from './factories/test-audio-context-decode-audio-data-method-type-error-support';\nimport { createTestAudioContextOptionsSupport } from './factories/test-audio-context-options-support';\nimport { createTestAudioNodeConnectMethodSupport } from './factories/test-audio-node-connect-method-support';\nimport { createTestAudioWorkletProcessorNoOutputsSupport } from './factories/test-audio-worklet-processor-no-outputs-support';\nimport { createTestAudioWorkletProcessorPostMessageSupport } from './factories/test-audio-worklet-processor-post-message-support';\nimport { createTestChannelMergerNodeChannelCountSupport } from './factories/test-channel-merger-node-channel-count-support';\nimport { createTestConstantSourceNodeAccurateSchedulingSupport } from './factories/test-constant-source-node-accurate-scheduling-support';\nimport { createTestConvolverNodeBufferReassignabilitySupport } from './factories/test-convolver-node-buffer-reassignability-support';\nimport { createTestConvolverNodeChannelCountSupport } from './factories/test-convolver-node-channel-count-support';\nimport { createTestIsSecureContextSupport } from './factories/test-is-secure-context-support';\nimport { createTestMediaStreamAudioSourceNodeMediaStreamWithoutAudioTrackSupport } from './factories/test-media-stream-audio-source-node-media-stream-without-audio-track-support';\nimport { createTestOfflineAudioContextCurrentTimeSupport } from './factories/test-offline-audio-context-current-time-support';\nimport { createTestStereoPannerNodeDefaultValueSupport } from './factories/test-stereo-panner-node-default-value-support';\nimport { createUnknownError } from './factories/unknown-error';\nimport { createWaveShaperNodeConstructor } from './factories/wave-shaper-node-constructor';\nimport { createWaveShaperNodeRendererFactory } from './factories/wave-shaper-node-renderer-factory';\nimport { createWindow } from './factories/window';\nimport { createWrapAudioBufferCopyChannelMethods } from './factories/wrap-audio-buffer-copy-channel-methods';\nimport { createWrapAudioBufferCopyChannelMethodsOutOfBounds } from './factories/wrap-audio-buffer-copy-channel-methods-out-of-bounds';\nimport { createWrapAudioBufferSourceNodeStopMethodNullifiedBuffer } from './factories/wrap-audio-buffer-source-node-stop-method-nullified-buffer';\nimport { createWrapChannelMergerNode } from './factories/wrap-channel-merger-node';\nimport {\n    AUDIO_NODE_CONNECTIONS_STORE,\n    AUDIO_NODE_STORE,\n    AUDIO_PARAM_CONNECTIONS_STORE,\n    AUDIO_PARAM_STORE,\n    CONTEXT_STORE,\n    CYCLE_COUNTERS\n} from './globals';\nimport { connectNativeAudioNodeToNativeAudioNode } from './helpers/connect-native-audio-node-to-native-audio-node';\nimport { disconnectNativeAudioNodeFromNativeAudioNode } from './helpers/disconnect-native-audio-node-from-native-audio-node';\nimport { getAudioNodeConnections } from './helpers/get-audio-node-connections';\nimport { getAudioParamConnections } from './helpers/get-audio-param-connections';\nimport { getEventListenersOfAudioNode } from './helpers/get-event-listeners-of-audio-node';\nimport { getFirstSample } from './helpers/get-first-sample';\nimport { getNativeAudioNode } from './helpers/get-native-audio-node';\nimport { getNativeAudioParam } from './helpers/get-native-audio-param';\nimport { getValueForKey } from './helpers/get-value-for-key';\nimport { insertElementInSet } from './helpers/insert-element-in-set';\nimport { isActiveAudioNode } from './helpers/is-active-audio-node';\nimport { isDCCurve } from './helpers/is-dc-curve';\nimport { isPartOfACycle } from './helpers/is-part-of-a-cycle';\nimport { isPassiveAudioNode } from './helpers/is-passive-audio-node';\nimport { overwriteAccessors } from './helpers/overwrite-accessors';\nimport { pickElementFromSet } from './helpers/pick-element-from-set';\nimport { sanitizeAudioWorkletNodeOptions } from './helpers/sanitize-audio-worklet-node-options';\nimport { sanitizeChannelSplitterOptions } from './helpers/sanitize-channel-splitter-options';\nimport { sanitizePeriodicWaveOptions } from './helpers/sanitize-periodic-wave-options';\nimport { setValueAtTimeUntilPossible } from './helpers/set-value-at-time-until-possible';\nimport { testAudioBufferCopyChannelMethodsOutOfBoundsSupport } from './helpers/test-audio-buffer-copy-channel-methods-out-of-bounds-support';\nimport { testAudioBufferSourceNodeStartMethodConsecutiveCallsSupport } from './helpers/test-audio-buffer-source-node-start-method-consecutive-calls-support';\nimport { testAudioBufferSourceNodeStartMethodOffsetClampingSupport } from './helpers/test-audio-buffer-source-node-start-method-offset-clamping-support';\nimport { testAudioBufferSourceNodeStopMethodNullifiedBufferSupport } from './helpers/test-audio-buffer-source-node-stop-method-nullified-buffer-support';\nimport { testAudioScheduledSourceNodeStartMethodNegativeParametersSupport } from './helpers/test-audio-scheduled-source-node-start-method-negative-parameters-support';\nimport { testAudioScheduledSourceNodeStopMethodConsecutiveCallsSupport } from './helpers/test-audio-scheduled-source-node-stop-method-consecutive-calls-support';\nimport { testAudioScheduledSourceNodeStopMethodNegativeParametersSupport } from './helpers/test-audio-scheduled-source-node-stop-method-negative-parameters-support';\nimport { testAudioWorkletNodeOptionsClonability } from './helpers/test-audio-worklet-node-options-clonability';\nimport { testDomExceptionConstructorSupport } from './helpers/test-dom-exception-constructor-support';\nimport { testPromiseSupport } from './helpers/test-promise-support';\nimport { testTransferablesSupport } from './helpers/test-transferables-support';\nimport { wrapAudioBufferSourceNodeStartMethodOffsetClamping } from './helpers/wrap-audio-buffer-source-node-start-method-offset-clamping';\nimport { wrapAudioScheduledSourceNodeStopMethodConsecutiveCalls } from './helpers/wrap-audio-scheduled-source-node-stop-method-consecutive-calls';\nimport { wrapEventListener } from './helpers/wrap-event-listener';\nimport {\n    IAnalyserNode,\n    IAudioBuffer,\n    IAudioBufferSourceNode,\n    IAudioContext,\n    IAudioNode,\n    IAudioWorkletNode,\n    IBiquadFilterNode,\n    IConstantSourceNode,\n    IConvolverNode,\n    IDelayNode,\n    IDynamicsCompressorNode,\n    IGainNode,\n    IIIRFilterNode,\n    IMediaElementAudioSourceNode,\n    IMediaStreamAudioDestinationNode,\n    IMediaStreamAudioSourceNode,\n    IMediaStreamTrackAudioSourceNode,\n    IMinimalAudioContext,\n    IMinimalOfflineAudioContext,\n    IOfflineAudioContext,\n    IOfflineAudioContextConstructor,\n    IOscillatorNode,\n    IPannerNode,\n    IPeriodicWave,\n    IStereoPannerNode,\n    IWaveShaperNode\n} from './interfaces';\nimport {\n    TActiveAudioWorkletNodeInputsStore,\n    TAddAudioWorkletModuleFunction,\n    TAnalyserNodeConstructor,\n    TAudioBufferConstructor,\n    TAudioBufferSourceNodeConstructor,\n    TAudioBufferStore,\n    TAudioContextConstructor,\n    TAudioParamAudioNodeStore,\n    TAudioWorkletNodeConstructor,\n    TBackupOfflineAudioContextStore,\n    TBiquadFilterNodeConstructor,\n    TChannelMergerNodeConstructor,\n    TChannelSplitterNodeConstructor,\n    TConstantSourceNodeConstructor,\n    TContext,\n    TConvolverNodeConstructor,\n    TDecodeAudioDataFunction,\n    TDelayNodeConstructor,\n    TDynamicsCompressorNodeConstructor,\n    TGainNodeConstructor,\n    TIIRFilterNodeConstructor,\n    TMediaElementAudioSourceNodeConstructor,\n    TMediaStreamAudioDestinationNodeConstructor,\n    TMediaStreamAudioSourceNodeConstructor,\n    TMediaStreamTrackAudioSourceNodeConstructor,\n    TMinimalAudioContextConstructor,\n    TMinimalOfflineAudioContextConstructor,\n    TOscillatorNodeConstructor,\n    TPannerNodeConstructor,\n    TPeriodicWaveConstructor,\n    TStereoPannerNodeConstructor,\n    TUnrenderedAudioWorkletNodeStore,\n    TWaveShaperNodeConstructor\n} from './types';\n\n/*\n * @todo Explicitly referencing the barrel file seems to be necessary when enabling the\n * isolatedModules compiler option.\n */\nexport * from './interfaces/index';\nexport * from './types/index';\n\nconst addActiveInputConnectionToAudioNode = createAddActiveInputConnectionToAudioNode(insertElementInSet);\nconst addPassiveInputConnectionToAudioNode = createAddPassiveInputConnectionToAudioNode(insertElementInSet);\nconst deleteActiveInputConnectionToAudioNode = createDeleteActiveInputConnectionToAudioNode(pickElementFromSet);\nconst audioNodeTailTimeStore = new WeakMap();\nconst getAudioNodeTailTime = createGetAudioNodeTailTime(audioNodeTailTimeStore);\nconst cacheTestResult = createCacheTestResult(new Map(), new WeakMap());\nconst window = createWindow();\nconst createNativeAnalyserNode = createNativeAnalyserNodeFactory(cacheTestResult, createIndexSizeError);\nconst getAudioNodeRenderer = createGetAudioNodeRenderer(getAudioNodeConnections);\nconst renderInputsOfAudioNode = createRenderInputsOfAudioNode(getAudioNodeConnections, getAudioNodeRenderer, isPartOfACycle);\nconst createAnalyserNodeRenderer = createAnalyserNodeRendererFactory(createNativeAnalyserNode, getNativeAudioNode, renderInputsOfAudioNode);\nconst getNativeContext = createGetNativeContext(CONTEXT_STORE);\nconst nativeOfflineAudioContextConstructor = createNativeOfflineAudioContextConstructor(window);\nconst isNativeOfflineAudioContext = createIsNativeOfflineAudioContext(nativeOfflineAudioContextConstructor);\nconst audioParamAudioNodeStore: TAudioParamAudioNodeStore = new WeakMap();\nconst eventTargetConstructor = createEventTargetConstructor(wrapEventListener);\nconst nativeAudioContextConstructor = createNativeAudioContextConstructor(window);\nconst isNativeAudioContext = createIsNativeAudioContext(nativeAudioContextConstructor);\nconst isNativeAudioNode = createIsNativeAudioNode(window);\nconst isNativeAudioParam = createIsNativeAudioParam(window);\nconst nativeAudioWorkletNodeConstructor = createNativeAudioWorkletNodeConstructor(window);\nconst audioNodeConstructor = createAudioNodeConstructor(\n    createAddAudioNodeConnections(AUDIO_NODE_CONNECTIONS_STORE),\n    createAddConnectionToAudioNode(\n        addActiveInputConnectionToAudioNode,\n        addPassiveInputConnectionToAudioNode,\n        connectNativeAudioNodeToNativeAudioNode,\n        deleteActiveInputConnectionToAudioNode,\n        disconnectNativeAudioNodeFromNativeAudioNode,\n        getAudioNodeConnections,\n        getAudioNodeTailTime,\n        getEventListenersOfAudioNode,\n        getNativeAudioNode,\n        insertElementInSet,\n        isActiveAudioNode,\n        isPartOfACycle,\n        isPassiveAudioNode\n    ),\n    cacheTestResult,\n    createIncrementCycleCounterFactory(\n        CYCLE_COUNTERS,\n        disconnectNativeAudioNodeFromNativeAudioNode,\n        getAudioNodeConnections,\n        getNativeAudioNode,\n        getNativeAudioParam,\n        isActiveAudioNode\n    ),\n    createIndexSizeError,\n    createInvalidAccessError,\n    createNotSupportedError,\n    createDecrementCycleCounter(\n        connectNativeAudioNodeToNativeAudioNode,\n        CYCLE_COUNTERS,\n        getAudioNodeConnections,\n        getNativeAudioNode,\n        getNativeAudioParam,\n        getNativeContext,\n        isActiveAudioNode,\n        isNativeOfflineAudioContext\n    ),\n    createDetectCycles(audioParamAudioNodeStore, getAudioNodeConnections, getValueForKey),\n    eventTargetConstructor,\n    getNativeContext,\n    isNativeAudioContext,\n    isNativeAudioNode,\n    isNativeAudioParam,\n    isNativeOfflineAudioContext,\n    nativeAudioWorkletNodeConstructor\n);\nconst analyserNodeConstructor: TAnalyserNodeConstructor = createAnalyserNodeConstructor(\n    audioNodeConstructor,\n    createAnalyserNodeRenderer,\n    createIndexSizeError,\n    createNativeAnalyserNode,\n    getNativeContext,\n    isNativeOfflineAudioContext\n);\n\ntype analyserNodeConstructor<T extends TContext> = IAnalyserNode<T>;\n\nexport { analyserNodeConstructor as AnalyserNode };\n\nconst audioBufferStore: TAudioBufferStore = new WeakSet();\nconst nativeAudioBufferConstructor = createNativeAudioBufferConstructor(window);\nconst convertNumberToUnsignedLong = createConvertNumberToUnsignedLong(new Uint32Array(1));\nconst wrapAudioBufferCopyChannelMethods = createWrapAudioBufferCopyChannelMethods(convertNumberToUnsignedLong, createIndexSizeError);\nconst wrapAudioBufferCopyChannelMethodsOutOfBounds = createWrapAudioBufferCopyChannelMethodsOutOfBounds(convertNumberToUnsignedLong);\nconst audioBufferConstructor: TAudioBufferConstructor = createAudioBufferConstructor(\n    audioBufferStore,\n    cacheTestResult,\n    createNotSupportedError,\n    nativeAudioBufferConstructor,\n    nativeOfflineAudioContextConstructor,\n    createTestAudioBufferConstructorSupport(nativeAudioBufferConstructor),\n    wrapAudioBufferCopyChannelMethods,\n    wrapAudioBufferCopyChannelMethodsOutOfBounds\n);\n\ntype audioBufferConstructor = IAudioBuffer;\n\nexport { audioBufferConstructor as AudioBuffer };\n\nconst addSilentConnection = createAddSilentConnection(createNativeGainNode);\nconst renderInputsOfAudioParam = createRenderInputsOfAudioParam(getAudioNodeRenderer, getAudioParamConnections, isPartOfACycle);\nconst connectAudioParam = createConnectAudioParam(renderInputsOfAudioParam);\nconst createNativeAudioBufferSourceNode = createNativeAudioBufferSourceNodeFactory(\n    addSilentConnection,\n    cacheTestResult,\n    testAudioBufferSourceNodeStartMethodConsecutiveCallsSupport,\n    testAudioBufferSourceNodeStartMethodOffsetClampingSupport,\n    testAudioBufferSourceNodeStopMethodNullifiedBufferSupport,\n    testAudioScheduledSourceNodeStartMethodNegativeParametersSupport,\n    testAudioScheduledSourceNodeStopMethodConsecutiveCallsSupport,\n    testAudioScheduledSourceNodeStopMethodNegativeParametersSupport,\n    wrapAudioBufferSourceNodeStartMethodOffsetClamping,\n    createWrapAudioBufferSourceNodeStopMethodNullifiedBuffer(overwriteAccessors),\n    wrapAudioScheduledSourceNodeStopMethodConsecutiveCalls\n);\nconst renderAutomation = createRenderAutomation(createGetAudioParamRenderer(getAudioParamConnections), renderInputsOfAudioParam);\nconst createAudioBufferSourceNodeRenderer = createAudioBufferSourceNodeRendererFactory(\n    connectAudioParam,\n    createNativeAudioBufferSourceNode,\n    getNativeAudioNode,\n    renderAutomation,\n    renderInputsOfAudioNode\n);\nconst createAudioParam = createAudioParamFactory(\n    createAddAudioParamConnections(AUDIO_PARAM_CONNECTIONS_STORE),\n    audioParamAudioNodeStore,\n    AUDIO_PARAM_STORE,\n    createAudioParamRenderer,\n    createCancelAndHoldAutomationEvent,\n    createCancelScheduledValuesAutomationEvent,\n    createExponentialRampToValueAutomationEvent,\n    createLinearRampToValueAutomationEvent,\n    createSetTargetAutomationEvent,\n    createSetValueAutomationEvent,\n    createSetValueCurveAutomationEvent,\n    nativeAudioContextConstructor,\n    setValueAtTimeUntilPossible\n);\nconst audioBufferSourceNodeConstructor: TAudioBufferSourceNodeConstructor = createAudioBufferSourceNodeConstructor(\n    audioNodeConstructor,\n    createAudioBufferSourceNodeRenderer,\n    createAudioParam,\n    createInvalidStateError,\n    createNativeAudioBufferSourceNode,\n    getNativeContext,\n    isNativeOfflineAudioContext,\n    wrapEventListener\n);\n\ntype audioBufferSourceNodeConstructor<T extends TContext> = IAudioBufferSourceNode<T>;\n\nexport { audioBufferSourceNodeConstructor as AudioBufferSourceNode };\n\nconst audioDestinationNodeConstructor = createAudioDestinationNodeConstructor(\n    audioNodeConstructor,\n    createAudioDestinationNodeRenderer,\n    createIndexSizeError,\n    createInvalidStateError,\n    createNativeAudioDestinationNodeFactory(createNativeGainNode, overwriteAccessors),\n    getNativeContext,\n    isNativeOfflineAudioContext,\n    renderInputsOfAudioNode\n);\nconst createBiquadFilterNodeRenderer = createBiquadFilterNodeRendererFactory(\n    connectAudioParam,\n    createNativeBiquadFilterNode,\n    getNativeAudioNode,\n    renderAutomation,\n    renderInputsOfAudioNode\n);\nconst setAudioNodeTailTime = createSetAudioNodeTailTime(audioNodeTailTimeStore);\nconst biquadFilterNodeConstructor: TBiquadFilterNodeConstructor = createBiquadFilterNodeConstructor(\n    audioNodeConstructor,\n    createAudioParam,\n    createBiquadFilterNodeRenderer,\n    createInvalidAccessError,\n    createNativeBiquadFilterNode,\n    getNativeContext,\n    isNativeOfflineAudioContext,\n    setAudioNodeTailTime\n);\nconst monitorConnections = createMonitorConnections(insertElementInSet, isNativeAudioNode);\nconst wrapChannelMergerNode = createWrapChannelMergerNode(createInvalidStateError, monitorConnections);\nconst createNativeChannelMergerNode = createNativeChannelMergerNodeFactory(nativeAudioContextConstructor, wrapChannelMergerNode);\nconst createChannelMergerNodeRenderer = createChannelMergerNodeRendererFactory(\n    createNativeChannelMergerNode,\n    getNativeAudioNode,\n    renderInputsOfAudioNode\n);\nconst channelMergerNodeConstructor: TChannelMergerNodeConstructor = createChannelMergerNodeConstructor(\n    audioNodeConstructor,\n    createChannelMergerNodeRenderer,\n    createNativeChannelMergerNode,\n    getNativeContext,\n    isNativeOfflineAudioContext\n);\nconst createChannelSplitterNodeRenderer = createChannelSplitterNodeRendererFactory(\n    createNativeChannelSplitterNode,\n    getNativeAudioNode,\n    renderInputsOfAudioNode\n);\nconst channelSplitterNodeConstructor: TChannelSplitterNodeConstructor = createChannelSplitterNodeConstructor(\n    audioNodeConstructor,\n    createChannelSplitterNodeRenderer,\n    createNativeChannelSplitterNode,\n    getNativeContext,\n    isNativeOfflineAudioContext,\n    sanitizeChannelSplitterOptions\n);\nconst createNativeConstantSourceNodeFaker = createNativeConstantSourceNodeFakerFactory(\n    addSilentConnection,\n    createNativeAudioBufferSourceNode,\n    createNativeGainNode,\n    monitorConnections\n);\nconst createNativeConstantSourceNode = createNativeConstantSourceNodeFactory(\n    addSilentConnection,\n    cacheTestResult,\n    createNativeConstantSourceNodeFaker,\n    testAudioScheduledSourceNodeStartMethodNegativeParametersSupport,\n    testAudioScheduledSourceNodeStopMethodNegativeParametersSupport\n);\nconst createConstantSourceNodeRenderer = createConstantSourceNodeRendererFactory(\n    connectAudioParam,\n    createNativeConstantSourceNode,\n    getNativeAudioNode,\n    renderAutomation,\n    renderInputsOfAudioNode\n);\nconst constantSourceNodeConstructor: TConstantSourceNodeConstructor = createConstantSourceNodeConstructor(\n    audioNodeConstructor,\n    createAudioParam,\n    createConstantSourceNodeRenderer,\n    createNativeConstantSourceNode,\n    getNativeContext,\n    isNativeOfflineAudioContext,\n    wrapEventListener\n);\nconst createNativeConvolverNode = createNativeConvolverNodeFactory(createNotSupportedError, overwriteAccessors);\nconst createConvolverNodeRenderer = createConvolverNodeRendererFactory(\n    createNativeConvolverNode,\n    getNativeAudioNode,\n    renderInputsOfAudioNode\n);\nconst convolverNodeConstructor: TConvolverNodeConstructor = createConvolverNodeConstructor(\n    audioNodeConstructor,\n    createConvolverNodeRenderer,\n    createNativeConvolverNode,\n    getNativeContext,\n    isNativeOfflineAudioContext,\n    setAudioNodeTailTime\n);\nconst createDelayNodeRenderer = createDelayNodeRendererFactory(\n    connectAudioParam,\n    createNativeDelayNode,\n    getNativeAudioNode,\n    renderAutomation,\n    renderInputsOfAudioNode\n);\nconst delayNodeConstructor: TDelayNodeConstructor = createDelayNodeConstructor(\n    audioNodeConstructor,\n    createAudioParam,\n    createDelayNodeRenderer,\n    createNativeDelayNode,\n    getNativeContext,\n    isNativeOfflineAudioContext,\n    setAudioNodeTailTime\n);\nconst createNativeDynamicsCompressorNode = createNativeDynamicsCompressorNodeFactory(createNotSupportedError);\nconst createDynamicsCompressorNodeRenderer = createDynamicsCompressorNodeRendererFactory(\n    connectAudioParam,\n    createNativeDynamicsCompressorNode,\n    getNativeAudioNode,\n    renderAutomation,\n    renderInputsOfAudioNode\n);\nconst dynamicsCompressorNodeConstructor: TDynamicsCompressorNodeConstructor = createDynamicsCompressorNodeConstructor(\n    audioNodeConstructor,\n    createAudioParam,\n    createDynamicsCompressorNodeRenderer,\n    createNativeDynamicsCompressorNode,\n    createNotSupportedError,\n    getNativeContext,\n    isNativeOfflineAudioContext,\n    setAudioNodeTailTime\n);\nconst createGainNodeRenderer = createGainNodeRendererFactory(\n    connectAudioParam,\n    createNativeGainNode,\n    getNativeAudioNode,\n    renderAutomation,\n    renderInputsOfAudioNode\n);\nconst gainNodeConstructor: TGainNodeConstructor = createGainNodeConstructor(\n    audioNodeConstructor,\n    createAudioParam,\n    createGainNodeRenderer,\n    createNativeGainNode,\n    getNativeContext,\n    isNativeOfflineAudioContext\n);\nconst createNativeIIRFilterNodeFaker = createNativeIIRFilterNodeFakerFactory(\n    createInvalidAccessError,\n    createInvalidStateError,\n    createNativeScriptProcessorNode,\n    createNotSupportedError\n);\nconst renderNativeOfflineAudioContext = createRenderNativeOfflineAudioContext(\n    cacheTestResult,\n    createNativeGainNode,\n    createNativeScriptProcessorNode,\n    createTestOfflineAudioContextCurrentTimeSupport(createNativeGainNode, nativeOfflineAudioContextConstructor)\n);\nconst createIIRFilterNodeRenderer = createIIRFilterNodeRendererFactory(\n    createNativeAudioBufferSourceNode,\n    getNativeAudioNode,\n    nativeOfflineAudioContextConstructor,\n    renderInputsOfAudioNode,\n    renderNativeOfflineAudioContext\n);\nconst createNativeIIRFilterNode = createNativeIIRFilterNodeFactory(createNativeIIRFilterNodeFaker);\nconst iIRFilterNodeConstructor: TIIRFilterNodeConstructor = createIIRFilterNodeConstructor(\n    audioNodeConstructor,\n    createNativeIIRFilterNode,\n    createIIRFilterNodeRenderer,\n    getNativeContext,\n    isNativeOfflineAudioContext,\n    setAudioNodeTailTime\n);\nconst createAudioListener = createAudioListenerFactory(\n    createAudioParam,\n    createNativeChannelMergerNode,\n    createNativeConstantSourceNode,\n    createNativeScriptProcessorNode,\n    createNotSupportedError,\n    getFirstSample,\n    isNativeOfflineAudioContext,\n    overwriteAccessors\n);\nconst unrenderedAudioWorkletNodeStore: TUnrenderedAudioWorkletNodeStore = new WeakMap();\nconst minimalBaseAudioContextConstructor = createMinimalBaseAudioContextConstructor(\n    audioDestinationNodeConstructor,\n    createAudioListener,\n    eventTargetConstructor,\n    isNativeOfflineAudioContext,\n    unrenderedAudioWorkletNodeStore,\n    wrapEventListener\n);\nconst createNativeOscillatorNode = createNativeOscillatorNodeFactory(\n    addSilentConnection,\n    cacheTestResult,\n    testAudioScheduledSourceNodeStartMethodNegativeParametersSupport,\n    testAudioScheduledSourceNodeStopMethodConsecutiveCallsSupport,\n    testAudioScheduledSourceNodeStopMethodNegativeParametersSupport,\n    wrapAudioScheduledSourceNodeStopMethodConsecutiveCalls\n);\nconst createOscillatorNodeRenderer = createOscillatorNodeRendererFactory(\n    connectAudioParam,\n    createNativeOscillatorNode,\n    getNativeAudioNode,\n    renderAutomation,\n    renderInputsOfAudioNode\n);\nconst oscillatorNodeConstructor: TOscillatorNodeConstructor = createOscillatorNodeConstructor(\n    audioNodeConstructor,\n    createAudioParam,\n    createNativeOscillatorNode,\n    createOscillatorNodeRenderer,\n    getNativeContext,\n    isNativeOfflineAudioContext,\n    wrapEventListener\n);\nconst createConnectedNativeAudioBufferSourceNode = createConnectedNativeAudioBufferSourceNodeFactory(createNativeAudioBufferSourceNode);\nconst createNativeWaveShaperNodeFaker = createNativeWaveShaperNodeFakerFactory(\n    createConnectedNativeAudioBufferSourceNode,\n    createInvalidStateError,\n    createNativeGainNode,\n    isDCCurve,\n    monitorConnections\n);\nconst createNativeWaveShaperNode = createNativeWaveShaperNodeFactory(\n    createConnectedNativeAudioBufferSourceNode,\n    createInvalidStateError,\n    createNativeWaveShaperNodeFaker,\n    isDCCurve,\n    monitorConnections,\n    nativeAudioContextConstructor,\n    overwriteAccessors\n);\nconst createNativePannerNodeFaker = createNativePannerNodeFakerFactory(\n    connectNativeAudioNodeToNativeAudioNode,\n    createInvalidStateError,\n    createNativeChannelMergerNode,\n    createNativeGainNode,\n    createNativeScriptProcessorNode,\n    createNativeWaveShaperNode,\n    createNotSupportedError,\n    disconnectNativeAudioNodeFromNativeAudioNode,\n    getFirstSample,\n    monitorConnections\n);\nconst createNativePannerNode = createNativePannerNodeFactory(createNativePannerNodeFaker);\nconst createPannerNodeRenderer = createPannerNodeRendererFactory(\n    connectAudioParam,\n    createNativeChannelMergerNode,\n    createNativeConstantSourceNode,\n    createNativeGainNode,\n    createNativePannerNode,\n    getNativeAudioNode,\n    nativeOfflineAudioContextConstructor,\n    renderAutomation,\n    renderInputsOfAudioNode,\n    renderNativeOfflineAudioContext\n);\nconst pannerNodeConstructor: TPannerNodeConstructor = createPannerNodeConstructor(\n    audioNodeConstructor,\n    createAudioParam,\n    createNativePannerNode,\n    createPannerNodeRenderer,\n    getNativeContext,\n    isNativeOfflineAudioContext,\n    setAudioNodeTailTime\n);\nconst createNativePeriodicWave = createNativePeriodicWaveFactory(createIndexSizeError);\nconst periodicWaveConstructor: TPeriodicWaveConstructor = createPeriodicWaveConstructor(\n    createNativePeriodicWave,\n    getNativeContext,\n    new WeakSet(),\n    sanitizePeriodicWaveOptions\n);\nconst nativeStereoPannerNodeFakerFactory = createNativeStereoPannerNodeFakerFactory(\n    createNativeChannelMergerNode,\n    createNativeChannelSplitterNode,\n    createNativeGainNode,\n    createNativeWaveShaperNode,\n    createNotSupportedError,\n    monitorConnections\n);\nconst createNativeStereoPannerNode = createNativeStereoPannerNodeFactory(nativeStereoPannerNodeFakerFactory, createNotSupportedError);\nconst createStereoPannerNodeRenderer = createStereoPannerNodeRendererFactory(\n    connectAudioParam,\n    createNativeStereoPannerNode,\n    getNativeAudioNode,\n    renderAutomation,\n    renderInputsOfAudioNode\n);\nconst stereoPannerNodeConstructor: TStereoPannerNodeConstructor = createStereoPannerNodeConstructor(\n    audioNodeConstructor,\n    createAudioParam,\n    createNativeStereoPannerNode,\n    createStereoPannerNodeRenderer,\n    getNativeContext,\n    isNativeOfflineAudioContext\n);\nconst createWaveShaperNodeRenderer = createWaveShaperNodeRendererFactory(\n    createNativeWaveShaperNode,\n    getNativeAudioNode,\n    renderInputsOfAudioNode\n);\nconst waveShaperNodeConstructor: TWaveShaperNodeConstructor = createWaveShaperNodeConstructor(\n    audioNodeConstructor,\n    createInvalidStateError,\n    createNativeWaveShaperNode,\n    createWaveShaperNodeRenderer,\n    getNativeContext,\n    isNativeOfflineAudioContext,\n    setAudioNodeTailTime\n);\nconst isSecureContext = createIsSecureContext(window);\nconst exposeCurrentFrameAndCurrentTime = createExposeCurrentFrameAndCurrentTime(window);\nconst backupOfflineAudioContextStore: TBackupOfflineAudioContextStore = new WeakMap();\nconst getOrCreateBackupOfflineAudioContext = createGetOrCreateBackupOfflineAudioContext(\n    backupOfflineAudioContextStore,\n    nativeOfflineAudioContextConstructor\n);\n\n// The addAudioWorkletModule() function is only available in a SecureContext.\nexport const addAudioWorkletModule: undefined | TAddAudioWorkletModuleFunction = isSecureContext\n    ? createAddAudioWorkletModule(\n          cacheTestResult,\n          createNotSupportedError,\n          createEvaluateSource(window),\n          exposeCurrentFrameAndCurrentTime,\n          createFetchSource(createAbortError),\n          getNativeContext,\n          getOrCreateBackupOfflineAudioContext,\n          isNativeOfflineAudioContext,\n          nativeAudioWorkletNodeConstructor,\n          new WeakMap(),\n          new WeakMap(),\n          createTestAudioWorkletProcessorPostMessageSupport(nativeAudioWorkletNodeConstructor, nativeOfflineAudioContextConstructor),\n          // @todo window is guaranteed to be defined because isSecureContext checks that as well.\n          <NonNullable<typeof window>>window\n      )\n    : undefined;\n\nconst isNativeContext = createIsNativeContext(isNativeAudioContext, isNativeOfflineAudioContext);\n\nexport const decodeAudioData: TDecodeAudioDataFunction = createDecodeAudioData(\n    audioBufferStore,\n    cacheTestResult,\n    createDataCloneError,\n    createEncodingError,\n    new WeakSet(),\n    getNativeContext,\n    isNativeContext,\n    testAudioBufferCopyChannelMethodsOutOfBoundsSupport,\n    testPromiseSupport,\n    wrapAudioBufferCopyChannelMethods,\n    wrapAudioBufferCopyChannelMethodsOutOfBounds\n);\n\nconst baseAudioContextConstructor = createBaseAudioContextConstructor(\n    addAudioWorkletModule,\n    analyserNodeConstructor,\n    audioBufferConstructor,\n    audioBufferSourceNodeConstructor,\n    biquadFilterNodeConstructor,\n    channelMergerNodeConstructor,\n    channelSplitterNodeConstructor,\n    constantSourceNodeConstructor,\n    convolverNodeConstructor,\n    decodeAudioData,\n    delayNodeConstructor,\n    dynamicsCompressorNodeConstructor,\n    gainNodeConstructor,\n    iIRFilterNodeConstructor,\n    minimalBaseAudioContextConstructor,\n    oscillatorNodeConstructor,\n    pannerNodeConstructor,\n    periodicWaveConstructor,\n    stereoPannerNodeConstructor,\n    waveShaperNodeConstructor\n);\nconst mediaElementAudioSourceNodeConstructor: TMediaElementAudioSourceNodeConstructor = createMediaElementAudioSourceNodeConstructor(\n    audioNodeConstructor,\n    createNativeMediaElementAudioSourceNode,\n    getNativeContext,\n    isNativeOfflineAudioContext\n);\nconst mediaStreamAudioDestinationNodeConstructor: TMediaStreamAudioDestinationNodeConstructor =\n    createMediaStreamAudioDestinationNodeConstructor(\n        audioNodeConstructor,\n        createNativeMediaStreamAudioDestinationNode,\n        getNativeContext,\n        isNativeOfflineAudioContext\n    );\nconst mediaStreamAudioSourceNodeConstructor: TMediaStreamAudioSourceNodeConstructor = createMediaStreamAudioSourceNodeConstructor(\n    audioNodeConstructor,\n    createNativeMediaStreamAudioSourceNode,\n    getNativeContext,\n    isNativeOfflineAudioContext\n);\nconst createNativeMediaStreamTrackAudioSourceNode = createNativeMediaStreamTrackAudioSourceNodeFactory(\n    createInvalidStateError,\n    isNativeOfflineAudioContext\n);\nconst mediaStreamTrackAudioSourceNodeConstructor: TMediaStreamTrackAudioSourceNodeConstructor =\n    createMediaStreamTrackAudioSourceNodeConstructor(audioNodeConstructor, createNativeMediaStreamTrackAudioSourceNode, getNativeContext);\nconst audioContextConstructor: TAudioContextConstructor = createAudioContextConstructor(\n    baseAudioContextConstructor,\n    createInvalidStateError,\n    createNotSupportedError,\n    createUnknownError,\n    mediaElementAudioSourceNodeConstructor,\n    mediaStreamAudioDestinationNodeConstructor,\n    mediaStreamAudioSourceNodeConstructor,\n    mediaStreamTrackAudioSourceNodeConstructor,\n    nativeAudioContextConstructor\n);\n\ntype audioContextConstructor = IAudioContext;\n\nexport { audioContextConstructor as AudioContext };\n\nconst getUnrenderedAudioWorkletNodes = createGetUnrenderedAudioWorkletNodes(unrenderedAudioWorkletNodeStore);\nconst addUnrenderedAudioWorkletNode = createAddUnrenderedAudioWorkletNode(getUnrenderedAudioWorkletNodes);\nconst connectMultipleOutputs = createConnectMultipleOutputs(createIndexSizeError);\nconst deleteUnrenderedAudioWorkletNode = createDeleteUnrenderedAudioWorkletNode(getUnrenderedAudioWorkletNodes);\nconst disconnectMultipleOutputs = createDisconnectMultipleOutputs(createIndexSizeError);\nconst activeAudioWorkletNodeInputsStore: TActiveAudioWorkletNodeInputsStore = new WeakMap();\nconst getActiveAudioWorkletNodeInputs = createGetActiveAudioWorkletNodeInputs(activeAudioWorkletNodeInputsStore, getValueForKey);\nconst createNativeAudioWorkletNodeFaker = createNativeAudioWorkletNodeFakerFactory(\n    connectMultipleOutputs,\n    createIndexSizeError,\n    createInvalidStateError,\n    createNativeChannelMergerNode,\n    createNativeChannelSplitterNode,\n    createNativeConstantSourceNode,\n    createNativeGainNode,\n    createNativeScriptProcessorNode,\n    createNotSupportedError,\n    disconnectMultipleOutputs,\n    exposeCurrentFrameAndCurrentTime,\n    getActiveAudioWorkletNodeInputs,\n    monitorConnections\n);\nconst createNativeAudioWorkletNode = createNativeAudioWorkletNodeFactory(\n    createInvalidStateError,\n    createNativeAudioWorkletNodeFaker,\n    createNativeGainNode,\n    createNotSupportedError,\n    monitorConnections\n);\nconst createAudioWorkletNodeRenderer = createAudioWorkletNodeRendererFactory(\n    connectAudioParam,\n    connectMultipleOutputs,\n    createNativeAudioBufferSourceNode,\n    createNativeChannelMergerNode,\n    createNativeChannelSplitterNode,\n    createNativeConstantSourceNode,\n    createNativeGainNode,\n    deleteUnrenderedAudioWorkletNode,\n    disconnectMultipleOutputs,\n    exposeCurrentFrameAndCurrentTime,\n    getNativeAudioNode,\n    nativeAudioWorkletNodeConstructor,\n    nativeOfflineAudioContextConstructor,\n    renderAutomation,\n    renderInputsOfAudioNode,\n    renderNativeOfflineAudioContext\n);\nconst getBackupOfflineAudioContext = createGetBackupOfflineAudioContext(backupOfflineAudioContextStore);\nconst setActiveAudioWorkletNodeInputs = createSetActiveAudioWorkletNodeInputs(activeAudioWorkletNodeInputsStore);\n\n// The AudioWorkletNode constructor is only available in a SecureContext.\nconst audioWorkletNodeConstructor: undefined | TAudioWorkletNodeConstructor = isSecureContext\n    ? createAudioWorkletNodeConstructor(\n          addUnrenderedAudioWorkletNode,\n          audioNodeConstructor,\n          createAudioParam,\n          createAudioWorkletNodeRenderer,\n          createNativeAudioWorkletNode,\n          getAudioNodeConnections,\n          getBackupOfflineAudioContext,\n          getNativeContext,\n          isNativeOfflineAudioContext,\n          nativeAudioWorkletNodeConstructor,\n          sanitizeAudioWorkletNodeOptions,\n          setActiveAudioWorkletNodeInputs,\n          testAudioWorkletNodeOptionsClonability,\n          wrapEventListener\n      )\n    : undefined;\n\ntype audioWorkletNodeConstructor<T extends TContext> = undefined | IAudioWorkletNode<T>;\n\nexport { audioWorkletNodeConstructor as AudioWorkletNode };\n\ntype biquadFilterNodeConstructor<T extends TContext> = IBiquadFilterNode<T>;\n\nexport { biquadFilterNodeConstructor as BiquadFilterNode };\n\ntype channelMergerNodeConstructor<T extends TContext> = IAudioNode<T>;\n\nexport { channelMergerNodeConstructor as ChannelMergerNode };\n\ntype channelSplitterNodeConstructor<T extends TContext> = IAudioNode<T>;\n\nexport { channelSplitterNodeConstructor as ChannelSplitterNode };\n\ntype constantSourceNodeConstructor<T extends TContext> = IConstantSourceNode<T>;\n\nexport { convolverNodeConstructor as ConvolverNode };\n\ntype convolverNodeConstructor<T extends TContext> = IConvolverNode<T>;\n\nexport { constantSourceNodeConstructor as ConstantSourceNode };\n\ntype delayNodeConstructor<T extends TContext> = IDelayNode<T>;\n\nexport { delayNodeConstructor as DelayNode };\n\ntype dynamicsCompressorNodeConstructor<T extends TContext> = IDynamicsCompressorNode<T>;\n\nexport { dynamicsCompressorNodeConstructor as DynamicsCompressorNode };\n\ntype gainNodeConstructor<T extends TContext> = IGainNode<T>;\n\nexport { gainNodeConstructor as GainNode };\n\ntype iIRFilterNodeConstructor<T extends TContext> = IIIRFilterNode<T>;\n\nexport { iIRFilterNodeConstructor as IIRFilterNode };\n\ntype mediaElementAudioSourceNodeConstructor<T extends IAudioContext | IMinimalAudioContext> = IMediaElementAudioSourceNode<T>;\n\nexport { mediaElementAudioSourceNodeConstructor as MediaElementAudioSourceNode };\n\ntype mediaStreamAudioDestinationNodeConstructor<T extends IAudioContext | IMinimalAudioContext> = IMediaStreamAudioDestinationNode<T>;\n\nexport { mediaStreamAudioDestinationNodeConstructor as MediaStreamAudioDestinationNode };\n\ntype mediaStreamAudioSourceNodeConstructor<T extends IAudioContext | IMinimalAudioContext> = IMediaStreamAudioSourceNode<T>;\n\nexport { mediaStreamAudioSourceNodeConstructor as MediaStreamAudioSourceNode };\n\ntype mediaStreamTrackAudioSourceNodeConstructor<T extends IAudioContext | IMinimalAudioContext> = IMediaStreamTrackAudioSourceNode<T>;\n\nexport { mediaStreamTrackAudioSourceNodeConstructor as MediaStreamTrackAudioSourceNode };\n\nconst minimalAudioContextConstructor: TMinimalAudioContextConstructor = createMinimalAudioContextConstructor(\n    createInvalidStateError,\n    createNotSupportedError,\n    createUnknownError,\n    minimalBaseAudioContextConstructor,\n    nativeAudioContextConstructor\n);\n\ntype minimalAudioContextConstructor = IMinimalAudioContext;\n\nexport { minimalAudioContextConstructor as MinimalAudioContext };\n\nconst createNativeOfflineAudioContext = createCreateNativeOfflineAudioContext(\n    createNotSupportedError,\n    nativeOfflineAudioContextConstructor\n);\nconst startRendering = createStartRendering(\n    audioBufferStore,\n    cacheTestResult,\n    getAudioNodeRenderer,\n    getUnrenderedAudioWorkletNodes,\n    renderNativeOfflineAudioContext,\n    testAudioBufferCopyChannelMethodsOutOfBoundsSupport,\n    wrapAudioBufferCopyChannelMethods,\n    wrapAudioBufferCopyChannelMethodsOutOfBounds\n);\nconst minimalOfflineAudioContextConstructor: TMinimalOfflineAudioContextConstructor = createMinimalOfflineAudioContextConstructor(\n    cacheTestResult,\n    createInvalidStateError,\n    createNativeOfflineAudioContext,\n    minimalBaseAudioContextConstructor,\n    startRendering\n);\n\ntype minimalOfflineAudioContextConstructor = IMinimalOfflineAudioContext;\n\nexport { minimalOfflineAudioContextConstructor as MinimalOfflineAudioContext };\n\nconst offlineAudioContextConstructor: IOfflineAudioContextConstructor = createOfflineAudioContextConstructor(\n    baseAudioContextConstructor,\n    cacheTestResult,\n    createInvalidStateError,\n    createNativeOfflineAudioContext,\n    startRendering\n);\n\ntype offlineAudioContextConstructor = IOfflineAudioContext;\n\nexport { offlineAudioContextConstructor as OfflineAudioContext };\n\ntype oscillatorNodeConstructor<T extends TContext> = IOscillatorNode<T>;\n\nexport { oscillatorNodeConstructor as OscillatorNode };\n\ntype pannerNodeConstructor<T extends TContext> = IPannerNode<T>;\n\nexport { pannerNodeConstructor as PannerNode };\n\ntype periodicWaveConstructor = IPeriodicWave;\n\nexport { periodicWaveConstructor as PeriodicWave };\n\ntype stereoPannerNodeConstructor<T extends TContext> = IStereoPannerNode<T>;\n\nexport { stereoPannerNodeConstructor as StereoPannerNode };\n\ntype waveShaperNodeConstructor<T extends TContext> = IWaveShaperNode<T>;\n\nexport { waveShaperNodeConstructor as WaveShaperNode };\n\nexport const isAnyAudioContext = createIsAnyAudioContext(CONTEXT_STORE, isNativeAudioContext);\n\nexport const isAnyAudioNode = createIsAnyAudioNode(AUDIO_NODE_STORE, isNativeAudioNode);\n\nexport const isAnyAudioParam = createIsAnyAudioParam(AUDIO_PARAM_STORE, isNativeAudioParam);\n\nexport const isAnyOfflineAudioContext = createIsAnyOfflineAudioContext(CONTEXT_STORE, isNativeOfflineAudioContext);\n\nexport const isSupported = () =>\n    createIsSupportedPromise(\n        cacheTestResult,\n        createTestAudioBufferCopyChannelMethodsSubarraySupport(nativeOfflineAudioContextConstructor),\n        createTestAudioContextCloseMethodSupport(nativeAudioContextConstructor),\n        createTestAudioContextDecodeAudioDataMethodTypeErrorSupport(nativeOfflineAudioContextConstructor),\n        createTestAudioContextOptionsSupport(nativeAudioContextConstructor),\n        createTestAudioNodeConnectMethodSupport(nativeOfflineAudioContextConstructor),\n        createTestAudioWorkletProcessorNoOutputsSupport(nativeAudioWorkletNodeConstructor, nativeOfflineAudioContextConstructor),\n        createTestChannelMergerNodeChannelCountSupport(nativeOfflineAudioContextConstructor),\n        createTestConstantSourceNodeAccurateSchedulingSupport(nativeOfflineAudioContextConstructor),\n        createTestConvolverNodeBufferReassignabilitySupport(nativeOfflineAudioContextConstructor),\n        createTestConvolverNodeChannelCountSupport(nativeOfflineAudioContextConstructor),\n        testDomExceptionConstructorSupport,\n        createTestIsSecureContextSupport(window),\n        createTestMediaStreamAudioSourceNodeMediaStreamWithoutAudioTrackSupport(nativeAudioContextConstructor),\n        createTestStereoPannerNodeDefaultValueSupport(nativeOfflineAudioContextConstructor),\n        testTransferablesSupport\n    );\n", "import { encode, instantiate } from 'media-encoder-host';\nimport { addRecorderAudioWorkletModule, createRecorderAudioWorkletNode } from 'recorder-audio-worklet';\nimport {\n    AudioBuffer,\n    AudioBufferSourceNode,\n    AudioWorkletNode,\n    ConstantSourceNode,\n    IAudioBuffer,\n    IMinimalAudioContext,\n    MediaStreamAudioSourceNode,\n    MinimalAudioContext,\n    addAudioWorkletModule\n} from 'standardized-audio-context';\nimport { IAudioNodesAndEncoderId } from '../interfaces';\nimport { TRecordingState, TWebAudioMediaRecorderFactoryFactory } from '../types';\n\nconst ERROR_MESSAGE = 'Missing AudioWorklet support. Maybe this is not running in a secure context.';\n\n// @todo This should live in a separate file.\nconst createPromisedAudioNodesEncoderIdAndPort = async (\n    audioBuffer: IAudioBuffer,\n    audioContext: IMinimalAudioContext,\n    channelCount: number,\n    mediaStream: MediaStream,\n    mimeType: string\n) => {\n    const { encoderId, port } = await instantiate(mimeType, audioContext.sampleRate);\n\n    if (AudioWorkletNode === undefined) {\n        throw new Error(ERROR_MESSAGE);\n    }\n\n    const audioBufferSourceNode = new AudioBufferSourceNode(audioContext, { buffer: audioBuffer });\n    const mediaStreamAudioSourceNode = new MediaStreamAudioSourceNode(audioContext, { mediaStream });\n    const recorderAudioWorkletNode = createRecorderAudioWorkletNode(AudioWorkletNode, audioContext, { channelCount });\n\n    return { audioBufferSourceNode, encoderId, mediaStreamAudioSourceNode, port, recorderAudioWorkletNode };\n};\n\nexport const createWebAudioMediaRecorderFactory: TWebAudioMediaRecorderFactoryFactory = (\n    createBlobEvent,\n    createInvalidModificationError,\n    createInvalidStateError,\n    createNotSupportedError\n) => {\n    return (eventTarget, mediaStream, mimeType) => {\n        const sampleRate = mediaStream.getAudioTracks()[0]?.getSettings().sampleRate;\n        const audioContext = new MinimalAudioContext({ latencyHint: 'playback', sampleRate });\n        const length = Math.max(1024, Math.ceil(audioContext.baseLatency * audioContext.sampleRate));\n        const audioBuffer = new AudioBuffer({ length, sampleRate: audioContext.sampleRate });\n        const bufferedArrayBuffers: ArrayBuffer[] = [];\n        const promisedAudioWorkletModule = addRecorderAudioWorkletModule((url: string) => {\n            if (addAudioWorkletModule === undefined) {\n                throw new Error(ERROR_MESSAGE);\n            }\n\n            return addAudioWorkletModule(audioContext, url);\n        });\n\n        let abortRecording: null | (() => void) = null;\n        let intervalId: null | number = null;\n        let promisedAudioNodesAndEncoderId: null | Promise<IAudioNodesAndEncoderId> = null;\n        let promisedPartialRecording: null | Promise<void> = null;\n        let isAudioContextRunning = true;\n\n        const dispatchDataAvailableEvent = (arrayBuffers: ArrayBuffer[]): void => {\n            eventTarget.dispatchEvent(createBlobEvent('dataavailable', { data: new Blob(arrayBuffers, { type: mimeType }) }));\n        };\n\n        const requestNextPartialRecording = async (encoderId: number, timeslice: number): Promise<void> => {\n            const arrayBuffers = await encode(encoderId, timeslice);\n\n            if (promisedAudioNodesAndEncoderId === null) {\n                bufferedArrayBuffers.push(...arrayBuffers);\n            } else {\n                dispatchDataAvailableEvent(arrayBuffers);\n\n                promisedPartialRecording = requestNextPartialRecording(encoderId, timeslice);\n            }\n        };\n\n        const resume = (): Promise<void> => {\n            isAudioContextRunning = true;\n\n            return audioContext.resume();\n        };\n\n        const stop = (): void => {\n            if (promisedAudioNodesAndEncoderId === null) {\n                return;\n            }\n\n            if (abortRecording !== null) {\n                mediaStream.removeEventListener('addtrack', abortRecording);\n                mediaStream.removeEventListener('removetrack', abortRecording);\n            }\n\n            if (intervalId !== null) {\n                clearTimeout(intervalId);\n            }\n\n            promisedAudioNodesAndEncoderId.then(\n                async ({ constantSourceNode, encoderId, mediaStreamAudioSourceNode, recorderAudioWorkletNode }) => {\n                    if (promisedPartialRecording !== null) {\n                        promisedPartialRecording.catch(() => {\n                            /* @todo Only catch the errors caused by a duplicate call to encode. */\n                        });\n                        promisedPartialRecording = null;\n                    }\n\n                    await recorderAudioWorkletNode.stop();\n\n                    mediaStreamAudioSourceNode.disconnect(recorderAudioWorkletNode);\n                    constantSourceNode.stop();\n\n                    const arrayBuffers = await encode(encoderId, null);\n\n                    if (promisedAudioNodesAndEncoderId === null) {\n                        await suspend();\n                    }\n\n                    dispatchDataAvailableEvent([...bufferedArrayBuffers, ...arrayBuffers]);\n\n                    bufferedArrayBuffers.length = 0;\n\n                    eventTarget.dispatchEvent(new Event('stop'));\n                }\n            );\n\n            promisedAudioNodesAndEncoderId = null;\n        };\n\n        const suspend = (): Promise<void> => {\n            isAudioContextRunning = false;\n\n            return audioContext.suspend();\n        };\n\n        suspend();\n\n        return {\n            get mimeType(): string {\n                return mimeType;\n            },\n\n            get state(): TRecordingState {\n                return promisedAudioNodesAndEncoderId === null ? 'inactive' : isAudioContextRunning ? 'recording' : 'paused';\n            },\n\n            pause(): void {\n                if (promisedAudioNodesAndEncoderId === null) {\n                    throw createInvalidStateError();\n                }\n\n                if (isAudioContextRunning) {\n                    suspend();\n                    eventTarget.dispatchEvent(new Event('pause'));\n                }\n            },\n\n            resume(): void {\n                if (promisedAudioNodesAndEncoderId === null) {\n                    throw createInvalidStateError();\n                }\n\n                if (!isAudioContextRunning) {\n                    resume();\n                    eventTarget.dispatchEvent(new Event('resume'));\n                }\n            },\n\n            start(timeslice?: number): void {\n                if (promisedAudioNodesAndEncoderId !== null) {\n                    throw createInvalidStateError();\n                }\n\n                if (mediaStream.getVideoTracks().length > 0) {\n                    throw createNotSupportedError();\n                }\n\n                eventTarget.dispatchEvent(new Event('start'));\n\n                const audioTracks = mediaStream.getAudioTracks();\n                // @todo TypeScript v4.4.2 removed the channelCount property from the MediaTrackSettings interface.\n                const channelCount =\n                    audioTracks.length === 0\n                        ? 2\n                        : (<MediaTrackSettings & { channelCount?: number }>audioTracks[0].getSettings()).channelCount ?? 2;\n\n                promisedAudioNodesAndEncoderId = Promise.all([\n                    resume(),\n                    promisedAudioWorkletModule.then(() =>\n                        createPromisedAudioNodesEncoderIdAndPort(audioBuffer, audioContext, channelCount, mediaStream, mimeType)\n                    )\n                ]).then(async ([, { audioBufferSourceNode, encoderId, mediaStreamAudioSourceNode, port, recorderAudioWorkletNode }]) => {\n                    mediaStreamAudioSourceNode.connect(recorderAudioWorkletNode);\n\n                    await new Promise((resolve) => {\n                        audioBufferSourceNode.onended = resolve;\n                        audioBufferSourceNode.connect(recorderAudioWorkletNode);\n                        audioBufferSourceNode.start(audioContext.currentTime + length / audioContext.sampleRate);\n                    });\n\n                    audioBufferSourceNode.disconnect(recorderAudioWorkletNode);\n\n                    // Bug #17: Safari does throttle the processing on hidden tabs if there is no active audio output.\n                    const constantSourceNode = new ConstantSourceNode(audioContext, { offset: 0 });\n\n                    constantSourceNode.onended = () => constantSourceNode.disconnect();\n                    constantSourceNode.connect(audioContext.destination);\n                    constantSourceNode.start();\n\n                    await recorderAudioWorkletNode.record(port);\n\n                    if (timeslice !== undefined) {\n                        promisedPartialRecording = requestNextPartialRecording(encoderId, timeslice);\n                    }\n\n                    return { constantSourceNode, encoderId, mediaStreamAudioSourceNode, recorderAudioWorkletNode };\n                });\n\n                const tracks = mediaStream.getTracks();\n\n                abortRecording = () => {\n                    stop();\n                    eventTarget.dispatchEvent(new ErrorEvent('error', { error: createInvalidModificationError() }));\n                };\n\n                mediaStream.addEventListener('addtrack', abortRecording);\n                mediaStream.addEventListener('removetrack', abortRecording);\n\n                intervalId = setInterval(() => {\n                    const currentTracks = mediaStream.getTracks();\n\n                    if (\n                        (currentTracks.length !== tracks.length || currentTracks.some((track, index) => track !== tracks[index])) &&\n                        abortRecording !== null\n                    ) {\n                        abortRecording();\n                    }\n                }, 1000);\n            },\n\n            stop\n        };\n    };\n};\n", "export class MultiBufferDataView\n    implements Omit<DataView, 'buffer' | 'getBigInt64' | 'getBigUint64' | 'setBigInt64' | 'setBigUint64' | symbol>\n{\n    private _buffers: ArrayBuffer[];\n\n    private _byteLength: number;\n\n    private _byteOffset: number;\n\n    private _dataViews: DataView[];\n\n    private _internalBuffer: DataView;\n\n    constructor(buffers: ArrayBuffer[], byteOffset = 0, byteLength?: number) {\n        if (byteOffset < 0 || (byteLength !== undefined && byteLength < 0)) {\n            throw new RangeError();\n        }\n\n        const availableBytes = buffers.reduce((length, buffer) => length + buffer.byteLength, 0);\n\n        if (byteOffset > availableBytes || (byteLength !== undefined && byteOffset + byteLength > availableBytes)) {\n            throw new RangeError();\n        }\n\n        const dataViews = [];\n        const effectiveByteLength = byteLength === undefined ? availableBytes - byteOffset : byteLength;\n        const truncatedBuffers = [];\n\n        let consumedByteLength = 0;\n        let truncatedByteOffset = byteOffset;\n\n        for (const buffer of buffers) {\n            if (truncatedBuffers.length === 0) {\n                if (buffer.byteLength > truncatedByteOffset) {\n                    consumedByteLength = buffer.byteLength - truncatedByteOffset;\n\n                    const byteLengthOfDataView = consumedByteLength > effectiveByteLength ? effectiveByteLength : consumedByteLength;\n\n                    dataViews.push(new DataView(buffer, truncatedByteOffset, byteLengthOfDataView));\n                    truncatedBuffers.push(buffer);\n                } else {\n                    truncatedByteOffset -= buffer.byteLength;\n                }\n            } else if (consumedByteLength < effectiveByteLength) {\n                consumedByteLength += buffer.byteLength;\n\n                const byteLengthOfDataView =\n                    consumedByteLength > effectiveByteLength\n                        ? buffer.byteLength - consumedByteLength + effectiveByteLength\n                        : buffer.byteLength;\n\n                dataViews.push(new DataView(buffer, 0, byteLengthOfDataView));\n                truncatedBuffers.push(buffer);\n            }\n        }\n\n        this._buffers = truncatedBuffers;\n        this._byteLength = effectiveByteLength;\n        this._byteOffset = truncatedByteOffset;\n        this._dataViews = dataViews;\n        this._internalBuffer = new DataView(new ArrayBuffer(8));\n    }\n\n    get buffers(): ArrayBuffer[] {\n        return this._buffers;\n    }\n\n    get byteLength(): number {\n        return this._byteLength;\n    }\n\n    get byteOffset(): number {\n        return this._byteOffset;\n    }\n\n    public getFloat32(byteOffset: number, littleEndian?: boolean): number {\n        this._internalBuffer.setUint8(0, this.getUint8(byteOffset + 0));\n        this._internalBuffer.setUint8(1, this.getUint8(byteOffset + 1));\n        this._internalBuffer.setUint8(2, this.getUint8(byteOffset + 2));\n        this._internalBuffer.setUint8(3, this.getUint8(byteOffset + 3));\n\n        return this._internalBuffer.getFloat32(0, littleEndian);\n    }\n\n    public getFloat64(byteOffset: number, littleEndian?: boolean): number {\n        this._internalBuffer.setUint8(0, this.getUint8(byteOffset + 0));\n        this._internalBuffer.setUint8(1, this.getUint8(byteOffset + 1));\n        this._internalBuffer.setUint8(2, this.getUint8(byteOffset + 2));\n        this._internalBuffer.setUint8(3, this.getUint8(byteOffset + 3));\n        this._internalBuffer.setUint8(4, this.getUint8(byteOffset + 4));\n        this._internalBuffer.setUint8(5, this.getUint8(byteOffset + 5));\n        this._internalBuffer.setUint8(6, this.getUint8(byteOffset + 6));\n        this._internalBuffer.setUint8(7, this.getUint8(byteOffset + 7));\n\n        return this._internalBuffer.getFloat64(0, littleEndian);\n    }\n\n    public getInt16(byteOffset: number, littleEndian?: boolean): number {\n        this._internalBuffer.setUint8(0, this.getUint8(byteOffset + 0));\n        this._internalBuffer.setUint8(1, this.getUint8(byteOffset + 1));\n\n        return this._internalBuffer.getInt16(0, littleEndian);\n    }\n\n    public getInt32(byteOffset: number, littleEndian?: boolean): number {\n        this._internalBuffer.setUint8(0, this.getUint8(byteOffset + 0));\n        this._internalBuffer.setUint8(1, this.getUint8(byteOffset + 1));\n        this._internalBuffer.setUint8(2, this.getUint8(byteOffset + 2));\n        this._internalBuffer.setUint8(3, this.getUint8(byteOffset + 3));\n\n        return this._internalBuffer.getInt32(0, littleEndian);\n    }\n\n    public getInt8(byteOffset: number): number {\n        const [dataView, byteOffsetOfDataView] = this._findDataViewWithOffset(byteOffset);\n\n        return dataView.getInt8(byteOffset - byteOffsetOfDataView);\n    }\n\n    public getUint16(byteOffset: number, littleEndian?: boolean): number {\n        this._internalBuffer.setUint8(0, this.getUint8(byteOffset + 0));\n        this._internalBuffer.setUint8(1, this.getUint8(byteOffset + 1));\n\n        return this._internalBuffer.getUint16(0, littleEndian);\n    }\n\n    public getUint32(byteOffset: number, littleEndian?: boolean): number {\n        this._internalBuffer.setUint8(0, this.getUint8(byteOffset + 0));\n        this._internalBuffer.setUint8(1, this.getUint8(byteOffset + 1));\n        this._internalBuffer.setUint8(2, this.getUint8(byteOffset + 2));\n        this._internalBuffer.setUint8(3, this.getUint8(byteOffset + 3));\n\n        return this._internalBuffer.getUint32(0, littleEndian);\n    }\n\n    public getUint8(byteOffset: number): number {\n        const [dataView, byteOffsetOfDataView] = this._findDataViewWithOffset(byteOffset);\n\n        return dataView.getUint8(byteOffset - byteOffsetOfDataView);\n    }\n\n    public setFloat32(byteOffset: number, value: number, littleEndian?: boolean): void {\n        this._internalBuffer.setFloat32(0, value, littleEndian);\n\n        this.setUint8(byteOffset, this._internalBuffer.getUint8(0));\n        this.setUint8(byteOffset + 1, this._internalBuffer.getUint8(1));\n        this.setUint8(byteOffset + 2, this._internalBuffer.getUint8(2));\n        this.setUint8(byteOffset + 3, this._internalBuffer.getUint8(3));\n    }\n\n    public setFloat64(byteOffset: number, value: number, littleEndian?: boolean): void {\n        this._internalBuffer.setFloat64(0, value, littleEndian);\n\n        this.setUint8(byteOffset, this._internalBuffer.getUint8(0));\n        this.setUint8(byteOffset + 1, this._internalBuffer.getUint8(1));\n        this.setUint8(byteOffset + 2, this._internalBuffer.getUint8(2));\n        this.setUint8(byteOffset + 3, this._internalBuffer.getUint8(3));\n        this.setUint8(byteOffset + 4, this._internalBuffer.getUint8(4));\n        this.setUint8(byteOffset + 5, this._internalBuffer.getUint8(5));\n        this.setUint8(byteOffset + 6, this._internalBuffer.getUint8(6));\n        this.setUint8(byteOffset + 7, this._internalBuffer.getUint8(7));\n    }\n\n    public setInt16(byteOffset: number, value: number, littleEndian?: boolean): void {\n        this._internalBuffer.setInt16(0, value, littleEndian);\n\n        this.setUint8(byteOffset, this._internalBuffer.getUint8(0));\n        this.setUint8(byteOffset + 1, this._internalBuffer.getUint8(1));\n    }\n\n    public setInt32(byteOffset: number, value: number, littleEndian?: boolean): void {\n        this._internalBuffer.setInt32(0, value, littleEndian);\n\n        this.setUint8(byteOffset, this._internalBuffer.getUint8(0));\n        this.setUint8(byteOffset + 1, this._internalBuffer.getUint8(1));\n        this.setUint8(byteOffset + 2, this._internalBuffer.getUint8(2));\n        this.setUint8(byteOffset + 3, this._internalBuffer.getUint8(3));\n    }\n\n    public setInt8(byteOffset: number, value: number): void {\n        const [dataView, byteOffsetOfDataView] = this._findDataViewWithOffset(byteOffset);\n\n        dataView.setInt8(byteOffset - byteOffsetOfDataView, value);\n    }\n\n    public setUint16(byteOffset: number, value: number, littleEndian?: boolean): void {\n        this._internalBuffer.setUint16(0, value, littleEndian);\n\n        this.setUint8(byteOffset, this._internalBuffer.getUint8(0));\n        this.setUint8(byteOffset + 1, this._internalBuffer.getUint8(1));\n    }\n\n    public setUint32(byteOffset: number, value: number, littleEndian?: boolean): void {\n        this._internalBuffer.setUint32(0, value, littleEndian);\n\n        this.setUint8(byteOffset, this._internalBuffer.getUint8(0));\n        this.setUint8(byteOffset + 1, this._internalBuffer.getUint8(1));\n        this.setUint8(byteOffset + 2, this._internalBuffer.getUint8(2));\n        this.setUint8(byteOffset + 3, this._internalBuffer.getUint8(3));\n    }\n\n    public setUint8(byteOffset: number, value: number): void {\n        const [dataView, byteOffsetOfDataView] = this._findDataViewWithOffset(byteOffset);\n\n        dataView.setUint8(byteOffset - byteOffsetOfDataView, value);\n    }\n\n    private _findDataViewWithOffset(byteOffset: number): [DataView, number] {\n        let byteOffsetOfDataView = 0;\n\n        for (const dataView of this._dataViews) {\n            const byteOffsetOfNextDataView = byteOffsetOfDataView + dataView.byteLength;\n\n            if (byteOffset >= byteOffsetOfDataView && byteOffset < byteOffsetOfNextDataView) {\n                return [dataView, byteOffsetOfDataView];\n            }\n\n            byteOffsetOfDataView = byteOffsetOfNextDataView;\n        }\n\n        throw new RangeError();\n    }\n}\n", "export { MultiBufferDataView } from './classes/multi-buffer-data-view';\n", "import { encode, instantiate } from 'media-encoder-host';\nimport { MultiBufferDataView } from 'multi-buffer-data-view';\nimport { on } from 'subscribable-things';\nimport { TPromisedDataViewElementTypeEncoderIdAndPort, TRecordingState, TWebmPcmMediaRecorderFactoryFactory } from '../types';\n\nexport const createWebmPcmMediaRecorderFactory: TWebmPcmMediaRecorderFactoryFactory = (\n    createBlobEvent,\n    createInvalidModificationError,\n    createNotSupportedError,\n    decodeWebMChunk,\n    readVariableSizeInteger\n) => {\n    return (eventTarget, nativeMediaRecorderConstructor, mediaStream, mimeType) => {\n        const audioTracks = mediaStream.getAudioTracks();\n        const bufferedArrayBuffers: ArrayBuffer[] = [];\n        // @todo TypeScript v4.4.2 removed the channelCount property from the MediaTrackSettings interface.\n        const channelCount =\n            audioTracks.length === 0\n                ? undefined\n                : (<MediaTrackSettings & { channelCount?: number }>audioTracks[0].getSettings()).channelCount;\n        const nativeMediaRecorder = new nativeMediaRecorderConstructor(mediaStream, { mimeType: 'audio/webm;codecs=pcm' });\n        const sampleRate = audioTracks.length === 0 ? undefined : audioTracks[0].getSettings().sampleRate;\n\n        let promisedPartialRecording: null | Promise<void> = null;\n        let stopRecording = () => {}; // tslint:disable-line:no-empty\n\n        const dispatchDataAvailableEvent = (arrayBuffers: ArrayBuffer[]): void => {\n            eventTarget.dispatchEvent(createBlobEvent('dataavailable', { data: new Blob(arrayBuffers, { type: mimeType }) }));\n        };\n\n        const requestNextPartialRecording = async (encoderId: number, timeslice: number): Promise<void> => {\n            const arrayBuffers = await encode(encoderId, timeslice);\n\n            if (nativeMediaRecorder.state === 'inactive') {\n                bufferedArrayBuffers.push(...arrayBuffers);\n            } else {\n                dispatchDataAvailableEvent(arrayBuffers);\n\n                promisedPartialRecording = requestNextPartialRecording(encoderId, timeslice);\n            }\n        };\n\n        const stop = (): void => {\n            if (nativeMediaRecorder.state === 'inactive') {\n                return;\n            }\n\n            if (promisedPartialRecording !== null) {\n                promisedPartialRecording.catch(() => {\n                    /* @todo Only catch the errors caused by a duplicate call to encode. */\n                });\n                promisedPartialRecording = null;\n            }\n\n            stopRecording();\n            stopRecording = () => {}; // tslint:disable-line:no-empty\n\n            nativeMediaRecorder.stop();\n        };\n\n        nativeMediaRecorder.addEventListener('error', () => {\n            stop();\n            // Bug #3 & #4: Chrome throws an error event without any error.\n            eventTarget.dispatchEvent(new ErrorEvent('error', { error: createInvalidModificationError() }));\n        });\n        nativeMediaRecorder.addEventListener('start', () => eventTarget.dispatchEvent(new Event('start')));\n\n        return {\n            get mimeType(): string {\n                return mimeType;\n            },\n\n            get state(): TRecordingState {\n                return nativeMediaRecorder.state;\n            },\n\n            pause(): void {\n                return nativeMediaRecorder.pause();\n            },\n\n            resume(): void {\n                return nativeMediaRecorder.resume();\n            },\n\n            start(timeslice?: number): void {\n                /*\n                 * Bug #6: Chrome will emit a blob without any data when asked to encode a MediaStream with a video track into an audio\n                 * codec.\n                 */\n                if (mediaStream.getVideoTracks().length > 0) {\n                    throw createNotSupportedError();\n                }\n\n                if (nativeMediaRecorder.state === 'inactive') {\n                    if (sampleRate === undefined) {\n                        throw new Error('The sampleRate is not defined.');\n                    }\n\n                    let isRecording = false;\n                    let isStopped = false;\n                    // Bug #9: Chrome sometimes fires more than one dataavailable event while being inactive.\n                    let pendingInvocations = 0;\n                    let promisedDataViewElementTypeEncoderIdAndPort: TPromisedDataViewElementTypeEncoderIdAndPort = instantiate(\n                        mimeType,\n                        sampleRate\n                    );\n\n                    stopRecording = () => {\n                        isStopped = true;\n                    };\n\n                    const removeEventListener = on(\n                        nativeMediaRecorder,\n                        'dataavailable'\n                    )(({ data }) => {\n                        pendingInvocations += 1;\n\n                        promisedDataViewElementTypeEncoderIdAndPort = promisedDataViewElementTypeEncoderIdAndPort.then(\n                            async ({ dataView = null, elementType = null, encoderId, port }) => {\n                                const arrayBuffer = await data.arrayBuffer();\n\n                                pendingInvocations -= 1;\n\n                                const currentDataView =\n                                    dataView === null\n                                        ? new MultiBufferDataView([arrayBuffer])\n                                        : new MultiBufferDataView([...dataView.buffers, arrayBuffer], dataView.byteOffset);\n\n                                if (!isRecording && nativeMediaRecorder.state === 'recording' && !isStopped) {\n                                    const lengthAndValue = readVariableSizeInteger(currentDataView, 0);\n\n                                    if (lengthAndValue === null) {\n                                        return { dataView: currentDataView, elementType, encoderId, port };\n                                    }\n\n                                    const { value } = lengthAndValue;\n\n                                    if (value !== 172351395) {\n                                        return { dataView, elementType, encoderId, port };\n                                    }\n\n                                    isRecording = true;\n                                }\n\n                                const { currentElementType, offset, contents } = decodeWebMChunk(\n                                    currentDataView,\n                                    elementType,\n                                    channelCount\n                                );\n                                const remainingDataView =\n                                    offset < currentDataView.byteLength\n                                        ? new MultiBufferDataView(currentDataView.buffers, currentDataView.byteOffset + offset)\n                                        : null;\n\n                                contents.forEach((content) =>\n                                    port.postMessage(\n                                        content,\n                                        content.map(({ buffer }) => buffer)\n                                    )\n                                );\n\n                                if (pendingInvocations === 0 && (nativeMediaRecorder.state === 'inactive' || isStopped)) {\n                                    encode(encoderId, null).then((arrayBuffers) => {\n                                        dispatchDataAvailableEvent([...bufferedArrayBuffers, ...arrayBuffers]);\n\n                                        bufferedArrayBuffers.length = 0;\n\n                                        eventTarget.dispatchEvent(new Event('stop'));\n                                    });\n\n                                    port.postMessage([]);\n                                    port.close();\n\n                                    removeEventListener();\n                                }\n\n                                return { dataView: remainingDataView, elementType: currentElementType, encoderId, port };\n                            }\n                        );\n                    });\n\n                    if (timeslice !== undefined) {\n                        promisedDataViewElementTypeEncoderIdAndPort.then(\n                            ({ encoderId }) => (promisedPartialRecording = requestNextPartialRecording(encoderId, timeslice))\n                        );\n                    }\n                }\n\n                nativeMediaRecorder.start(100);\n            },\n\n            stop\n        };\n    };\n};\n", "import { TWindow, TWindowFactory } from '../types';\n\nexport const createWindow: TWindowFactory = () => (typeof window === 'undefined' ? null : <TWindow>window);\n", "import { TReadVariableSizeIntegerLengthFunction } from '../types';\n\nexport const readVariableSizeIntegerLength: TReadVariableSizeIntegerLengthFunction = (dataView, offset) => {\n    if (offset >= dataView.byteLength) {\n        return null;\n    }\n\n    const byte = dataView.getUint8(offset);\n\n    if (byte > 127) {\n        return 1;\n    }\n\n    if (byte > 63) {\n        return 2;\n    }\n\n    if (byte > 31) {\n        return 3;\n    }\n\n    if (byte > 15) {\n        return 4;\n    }\n\n    if (byte > 7) {\n        return 5;\n    }\n\n    if (byte > 3) {\n        return 6;\n    }\n\n    if (byte > 1) {\n        return 7;\n    }\n\n    if (byte > 0) {\n        return 8;\n    }\n\n    const length = readVariableSizeIntegerLength(dataView, offset + 1);\n\n    return length === null ? null : length + 8;\n};\n", "import { TWrapEventListenerFunction } from '../types';\n\nexport const wrapEventListener: TWrapEventListenerFunction = (target, eventListener) => {\n    return (event) => {\n        const descriptor = { value: target };\n\n        Object.defineProperties(event, {\n            currentTarget: descriptor,\n            target: descriptor\n        });\n\n        if (typeof eventListener === 'function') {\n            return eventListener.call(target, event);\n        }\n\n        return eventListener.handleEvent.call(target, event);\n    };\n};\n", "export {};\n//# sourceMappingURL=audio-nodes-and-encoder-id.js.map", "export {};\n//# sourceMappingURL=blob-event.js.map", "export {};\n//# sourceMappingURL=blob-event-init.js.map", "export {};\n//# sourceMappingURL=event-target.js.map", "export {};\n//# sourceMappingURL=media-recorder.js.map", "export {};\n//# sourceMappingURL=media-recorder-constructor.js.map", "export {};\n//# sourceMappingURL=media-recorder-event-map.js.map", "export {};\n//# sourceMappingURL=media-recorder-options.js.map", "export * from './audio-nodes-and-encoder-id';\nexport * from './blob-event';\nexport * from './blob-event-init';\nexport * from './event-target';\nexport * from './media-recorder';\nexport * from './media-recorder-constructor';\nexport * from './media-recorder-event-map';\nexport * from './media-recorder-options';\n", "export {};\n//# sourceMappingURL=blob-event-constructor.js.map", "export {};\n//# sourceMappingURL=blob-event-handler.js.map", "export {};\n//# sourceMappingURL=blob-event-factory.js.map", "export {};\n//# sourceMappingURL=blob-event-factory-factory.js.map", "export {};\n//# sourceMappingURL=decode-web-m-chunk-factory.js.map", "export {};\n//# sourceMappingURL=decode-web-m-chunk-function.js.map", "export {};\n//# sourceMappingURL=element-type.js.map", "export {};\n//# sourceMappingURL=error-event-handler.js.map", "export {};\n//# sourceMappingURL=event-handler.js.map", "export {};\n//# sourceMappingURL=event-target-constructor.js.map", "export {};\n//# sourceMappingURL=event-target-constructor-factory.js.map", "export {};\n//# sourceMappingURL=event-target-factory.js.map", "export {};\n//# sourceMappingURL=event-target-factory-factory.js.map", "export {};\n//# sourceMappingURL=invalid-modification-error-factory.js.map", "export {};\n//# sourceMappingURL=invalid-state-error-factory.js.map", "export {};\n//# sourceMappingURL=is-supported-promise-factory.js.map", "export {};\n//# sourceMappingURL=media-recorder-constructor-factory.js.map", "export {};\n//# sourceMappingURL=native-blob-event-factory.js.map", "export {};\n//# sourceMappingURL=native-event-target.js.map", "export {};\n//# sourceMappingURL=native-media-recorder-constructor-factory.js.map", "export {};\n//# sourceMappingURL=native-media-recorder-factory.js.map", "export {};\n//# sourceMappingURL=native-media-recorder-factory-factory.js.map", "export {};\n//# sourceMappingURL=not-supported-error-factory.js.map", "export {};\n//# sourceMappingURL=promised-data-view-element-type-encoder-id-and-port.js.map", "export {};\n//# sourceMappingURL=read-element-content-factory.js.map", "export {};\n//# sourceMappingURL=read-element-content-function.js.map", "export {};\n//# sourceMappingURL=read-element-type-factory.js.map", "export {};\n//# sourceMappingURL=read-element-type-function.js.map", "export {};\n//# sourceMappingURL=read-variable-size-integer-factory.js.map", "export {};\n//# sourceMappingURL=read-variable-size-integer-function.js.map", "export {};\n//# sourceMappingURL=read-variable-size-integer-length-function.js.map", "export {};\n//# sourceMappingURL=recording-state.js.map", "export {};\n//# sourceMappingURL=web-audio-media-recorder-factory.js.map", "export {};\n//# sourceMappingURL=web-audio-media-recorder-factory-factory.js.map", "export {};\n//# sourceMappingURL=webm-pcm-media-recorder-factory.js.map", "export {};\n//# sourceMappingURL=webm-pcm-media-recorder-factory-factory.js.map", "export {};\n//# sourceMappingURL=window.js.map", "export {};\n//# sourceMappingURL=window-factory.js.map", "export {};\n//# sourceMappingURL=wrap-event-listener-function.js.map", "export * from './blob-event-constructor';\nexport * from './blob-event-handler';\nexport * from './blob-event-factory';\nexport * from './blob-event-factory-factory';\nexport * from './decode-web-m-chunk-factory';\nexport * from './decode-web-m-chunk-function';\nexport * from './element-type';\nexport * from './error-event-handler';\nexport * from './event-handler';\nexport * from './event-target-constructor';\nexport * from './event-target-constructor-factory';\nexport * from './event-target-factory';\nexport * from './event-target-factory-factory';\nexport * from './invalid-modification-error-factory';\nexport * from './invalid-state-error-factory';\nexport * from './is-supported-promise-factory';\nexport * from './media-recorder-constructor-factory';\nexport * from './native-blob-event-factory';\nexport * from './native-event-target';\nexport * from './native-media-recorder-constructor-factory';\nexport * from './native-media-recorder-factory';\nexport * from './native-media-recorder-factory-factory';\nexport * from './not-supported-error-factory';\nexport * from './promised-data-view-element-type-encoder-id-and-port';\nexport * from './read-element-content-factory';\nexport * from './read-element-content-function';\nexport * from './read-element-type-factory';\nexport * from './read-element-type-function';\nexport * from './read-variable-size-integer-factory';\nexport * from './read-variable-size-integer-function';\nexport * from './read-variable-size-integer-length-function';\nexport * from './recording-state';\nexport * from './web-audio-media-recorder-factory';\nexport * from './web-audio-media-recorder-factory-factory';\nexport * from './webm-pcm-media-recorder-factory';\nexport * from './webm-pcm-media-recorder-factory-factory';\nexport * from './window';\nexport * from './window-factory';\nexport * from './wrap-event-listener-function';\n", "import { register as rgstr } from 'media-encoder-host';\nimport { createBlobEventFactory } from './factories/blob-event-factory';\nimport { createDecodeWebMChunk } from './factories/decode-web-m-chunk';\nimport { createEventTargetConstructor } from './factories/event-target-constructor';\nimport { createEventTargetFactory } from './factories/event-target-factory';\nimport { createInvalidModificationError } from './factories/invalid-modification-error';\nimport { createInvalidStateError } from './factories/invalid-state-error';\nimport { createIsSupportedPromise } from './factories/is-supported-promise';\nimport { createMediaRecorderConstructor } from './factories/media-recorder-constructor';\nimport { createNativeBlobEventConstructor } from './factories/native-blob-event-constructor';\nimport { createNativeMediaRecorderFactory } from './factories/native-media-recorder';\nimport { createNativeMediaRecorderConstructor } from './factories/native-media-recorder-constructor';\nimport { createNotSupportedError } from './factories/not-supported-error';\nimport { createReadElementContent } from './factories/read-element-content';\nimport { createReadElementType } from './factories/read-element-type';\nimport { createReadVariableSizeInteger } from './factories/read-variable-size-integer';\nimport { createWebAudioMediaRecorderFactory } from './factories/web-audio-media-recorder';\nimport { createWebmPcmMediaRecorderFactory } from './factories/webm-pcm-media-recorder';\nimport { createWindow } from './factories/window';\nimport { readVariableSizeIntegerLength } from './functions/read-variable-size-integer-length';\nimport { wrapEventListener } from './functions/wrap-event-listener';\nimport { IMediaRecorderConstructor } from './interfaces';\n\n/*\n * @todo Explicitly referencing the barrel file seems to be necessary when enabling the\n * isolatedModules compiler option.\n */\nexport * from './interfaces/index';\nexport * from './types/index';\n\nconst encoderRegexes: RegExp[] = [];\n\nconst window = createWindow();\nconst nativeBlobEventConstructor = createNativeBlobEventConstructor(window);\nconst createBlobEvent = createBlobEventFactory(nativeBlobEventConstructor);\nconst createWebAudioMediaRecorder = createWebAudioMediaRecorderFactory(\n    createBlobEvent,\n    createInvalidModificationError,\n    createInvalidStateError,\n    createNotSupportedError\n);\nconst readVariableSizeInteger = createReadVariableSizeInteger(readVariableSizeIntegerLength);\nconst readElementContent = createReadElementContent(readVariableSizeInteger);\nconst readElementType = createReadElementType(readVariableSizeInteger);\nconst decodeWebMChunk = createDecodeWebMChunk(readElementContent, readElementType);\nconst createWebmPcmMediaRecorder = createWebmPcmMediaRecorderFactory(\n    createBlobEvent,\n    createInvalidModificationError,\n    createNotSupportedError,\n    decodeWebMChunk,\n    readVariableSizeInteger\n);\nconst createEventTarget = createEventTargetFactory(window);\nconst nativeMediaRecorderConstructor = createNativeMediaRecorderConstructor(window);\n\nconst createNativeMediaRecorder = createNativeMediaRecorderFactory(createInvalidModificationError, createNotSupportedError);\nconst mediaRecorderConstructor: IMediaRecorderConstructor = createMediaRecorderConstructor(\n    createNativeMediaRecorder,\n    createNotSupportedError,\n    createWebAudioMediaRecorder,\n    createWebmPcmMediaRecorder,\n    encoderRegexes,\n    createEventTargetConstructor(createEventTarget, wrapEventListener),\n    nativeMediaRecorderConstructor\n);\n\nexport { mediaRecorderConstructor as MediaRecorder };\n\nexport const isSupported = () => createIsSupportedPromise(window);\n\nexport const register = async (port: MessagePort): Promise<void> => {\n    encoderRegexes.push(await rgstr(port));\n};\n", "export {};\n//# sourceMappingURL=extendable-media-recorder-wav-encoder-broker-definition.js.map", "export * from './extendable-media-recorder-wav-encoder-broker-definition';\n", "export {};\n//# sourceMappingURL=extendable-media-recorder-wav-encoder-broker-loader.js.map", "export {};\n//# sourceMappingURL=extendable-media-recorder-wav-encoder-broker-wrapper.js.map", "export {};\n//# sourceMappingURL=typed-array.js.map", "export * from './extendable-media-recorder-wav-encoder-broker-loader';\nexport * from './extendable-media-recorder-wav-encoder-broker-wrapper';\nexport * from './typed-array';\n", "import { createBroker } from 'broker-factory';\nimport { TExtendableMediaRecorderWavEncoderWorkerDefinition } from 'extendable-media-recorder-wav-encoder-worker';\nimport { IExtendableMediaRecorderWavEncoderBrokerDefinition } from './interfaces';\nimport { TExtendableMediaRecorderWavEncoderBrokerLoader, TExtendableMediaRecorderWavEncoderBrokerWrapper } from './types';\n\n/*\n * @todo Explicitly referencing the barrel file seems to be necessary when enabling the\n * isolatedModules compiler option.\n */\nexport * from './interfaces/index';\nexport * from './types/index';\n\nexport const wrap: TExtendableMediaRecorderWavEncoderBrokerWrapper = createBroker<\n    IExtendableMediaRecorderWavEncoderBrokerDefinition,\n    TExtendableMediaRecorderWavEncoderWorkerDefinition\n>({\n    characterize: ({ call }) => {\n        return () => call('characterize');\n    },\n    encode: ({ call }) => {\n        return (recordingId, timeslice) => {\n            return call('encode', { recordingId, timeslice });\n        };\n    },\n    record: ({ call }) => {\n        return async (recordingId, sampleRate, typedArrays) => {\n            await call(\n                'record',\n                { recordingId, sampleRate, typedArrays },\n                typedArrays.map(({ buffer }) => buffer)\n            );\n        };\n    }\n});\n\nexport const load: TExtendableMediaRecorderWavEncoderBrokerLoader = (url: string) => {\n    const worker = new Worker(url);\n\n    return wrap(worker);\n};\n", "// This is the minified and stringified code of the extendable-media-recorder-wav-encoder-worker package.\nexport const worker = `(()=>{var e={455:function(e,t){!function(e){\"use strict\";var t=function(e){return function(t){var r=e(t);return t.add(r),r}},r=function(e){return function(t,r){return e.set(t,r),r}},n=void 0===Number.MAX_SAFE_INTEGER?9007199254740991:Number.MAX_SAFE_INTEGER,s=536870912,a=2*s,o=function(e,t){return function(r){var o=t.get(r),i=void 0===o?r.size:o<a?o+1:0;if(!r.has(i))return e(r,i);if(r.size<s){for(;r.has(i);)i=Math.floor(Math.random()*a);return e(r,i)}if(r.size>n)throw new Error(\"Congratulations, you created a collection of unique numbers which uses all available integers!\");for(;r.has(i);)i=Math.floor(Math.random()*n);return e(r,i)}},i=new WeakMap,l=r(i),c=o(l,i),u=t(c);e.addUniqueNumber=u,e.generateUniqueNumber=c}(t)}},t={};function r(n){var s=t[n];if(void 0!==s)return s.exports;var a=t[n]={exports:{}};return e[n].call(a.exports,a,a.exports,r),a.exports}(()=>{\"use strict\";const e=-32603,t=-32602,n=-32601,s=(e,t)=>Object.assign(new Error(e),{status:t}),a=t=>s('The handler of the method called \"'.concat(t,'\" returned an unexpected result.'),e),o=(t,r)=>async o=>{let{data:{id:i,method:l,params:c}}=o;const u=r[l];try{if(void 0===u)throw(e=>s('The requested method called \"'.concat(e,'\" is not supported.'),n))(l);const r=void 0===c?u():u(c);if(void 0===r)throw(t=>s('The handler of the method called \"'.concat(t,'\" returned no required result.'),e))(l);const o=r instanceof Promise?await r:r;if(null===i){if(void 0!==o.result)throw a(l)}else{if(void 0===o.result)throw a(l);const{result:e,transferables:r=[]}=o;t.postMessage({id:i,result:e},r)}}catch(e){const{message:r,status:n=-32603}=e;t.postMessage({error:{code:n,message:r},id:i})}};var i=r(455);const l=new Map,c=(e,r,n)=>({...r,connect:t=>{let{port:n}=t;n.start();const s=e(n,r),a=(0,i.generateUniqueNumber)(l);return l.set(a,(()=>{s(),n.close(),l.delete(a)})),{result:a}},disconnect:e=>{let{portId:r}=e;const n=l.get(r);if(void 0===n)throw(e=>s('The specified parameter called \"portId\" with the given value \"'.concat(e,'\" does not identify a port connected to this worker.'),t))(r);return n(),{result:null}},isSupported:async()=>{if(await new Promise((e=>{const t=new ArrayBuffer(0),{port1:r,port2:n}=new MessageChannel;r.onmessage=t=>{let{data:r}=t;return e(null!==r)},n.postMessage(t,[t])}))){const e=n();return{result:e instanceof Promise?await e:e}}return{result:!1}}}),u=function(e,t){const r=c(u,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:()=>!0),n=o(e,r);return e.addEventListener(\"message\",n),()=>e.removeEventListener(\"message\",n)},d=e=>e.reduce(((e,t)=>e+t.length),0),h=(e,t)=>{const r=[];let n=0;e:for(;n<t;){const t=e.length;for(let s=0;s<t;s+=1){const t=e[s];void 0===r[s]&&(r[s]=[]);const a=t.shift();if(void 0===a)break e;r[s].push(a),0===s&&(n+=a.length)}}if(n>t){const s=n-t;r.forEach(((t,r)=>{const n=t.pop(),a=n.length-s;t.push(n.subarray(0,a)),e[r].unshift(n.subarray(a))}))}return r},f=new Map,m=(e=>(t,r,n)=>{const s=e.get(t);if(void 0===s){const s={channelDataArrays:n.map((e=>[e])),isComplete:!0,sampleRate:r};return e.set(t,s),s}return s.channelDataArrays.forEach(((e,t)=>e.push(n[t]))),s})(f),p=((e,t)=>(r,n,s,a)=>{const o=s>>3,i=\"subsequent\"===n?0:44,l=r.length,c=e(r[0]),u=new ArrayBuffer(c*l*o+i),d=new DataView(u);return\"subsequent\"!==n&&t(d,s,l,\"complete\"===n?c:Number.POSITIVE_INFINITY,a),r.forEach(((e,t)=>{let r=i+t*o;e.forEach((e=>{const t=e.length;for(let n=0;n<t;n+=1){const t=e[n];d.setInt16(r,t<0?32768*Math.max(-1,t):32767*Math.min(1,t),!0),r+=l*o}}))})),[u]})(d,((e,t,r,n,s)=>{const a=t>>3,o=Math.min(n*r*a,4294967251);e.setUint32(0,1380533830),e.setUint32(4,o+36,!0),e.setUint32(8,1463899717),e.setUint32(12,1718449184),e.setUint32(16,16,!0),e.setUint16(20,1,!0),e.setUint16(22,r,!0),e.setUint32(24,s,!0),e.setUint32(28,s*r*a,!0),e.setUint16(32,r*a,!0),e.setUint16(34,t,!0),e.setUint32(36,1684108385),e.setUint32(40,o,!0)})),v=new Map;u(self,{characterize:()=>({result:/^audio\\\\/wav$/}),encode:e=>{let{recordingId:t,timeslice:r}=e;const n=v.get(t);void 0!==n&&(v.delete(t),n.reject(new Error(\"Another request was made to initiate an encoding.\")));const s=f.get(t);if(null!==r){if(void 0===s||d(s.channelDataArrays[0])*(1e3/s.sampleRate)<r)return new Promise(((e,n)=>{v.set(t,{reject:n,resolve:e,timeslice:r})}));const e=h(s.channelDataArrays,Math.ceil(r*(s.sampleRate/1e3))),n=p(e,s.isComplete?\"initial\":\"subsequent\",16,s.sampleRate);return s.isComplete=!1,{result:n,transferables:n}}if(void 0!==s){const e=p(s.channelDataArrays,s.isComplete?\"complete\":\"subsequent\",16,s.sampleRate);return f.delete(t),{result:e,transferables:e}}return{result:[],transferables:[]}},record:e=>{let{recordingId:t,sampleRate:r,typedArrays:n}=e;const s=m(t,r,n),a=v.get(t);if(void 0!==a&&d(s.channelDataArrays[0])*(1e3/r)>=a.timeslice){const e=h(s.channelDataArrays,Math.ceil(a.timeslice*(r/1e3))),n=p(e,s.isComplete?\"initial\":\"subsequent\",16,r);s.isComplete=!1,v.delete(t),a.resolve({result:n,transferables:n})}return{result:null}}})})()})();`; // tslint:disable-line:max-line-length\n", "import { load } from 'extendable-media-recorder-wav-encoder-broker';\nimport { worker } from './worker/worker';\n\nconst blob: Blob = new Blob([worker], { type: 'application/javascript; charset=utf-8' });\n\nconst url: string = URL.createObjectURL(blob);\n\nconst extendableMediaRecorderWavEncoder = load(url);\n\nexport const characterize = extendableMediaRecorderWavEncoder.characterize;\n\nexport const connect = extendableMediaRecorderWavEncoder.connect;\n\nexport const disconnect = extendableMediaRecorderWavEncoder.disconnect;\n\nexport const encode = extendableMediaRecorderWavEncoder.encode;\n\nexport const isSupported = extendableMediaRecorderWavEncoder.isSupported;\n\nexport const record = extendableMediaRecorderWavEncoder.record;\n\nURL.revokeObjectURL(url);\n", "\"use strict\";var __awaiter=(this&&this.__awaiter)||function(thisArg,_arguments,P,generator){function adopt(value){return value instanceof P?value:new P(function(resolve){resolve(value);});}\nreturn new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value));}catch(e){reject(e);}}\nfunction rejected(value){try{step(generator[\"throw\"](value));}catch(e){reject(e);}}\nfunction step(result){result.done?resolve(result.value):adopt(result.value).then(fulfilled,rejected);}\nstep((generator=generator.apply(thisArg,_arguments||[])).next());});};var __generator=(this&&this.__generator)||function(thisArg,body){var _={label:0,sent:function(){if(t[0]&1)throw t[1];return t[1];},trys:[],ops:[]},f,y,t,g;return g={next:verb(0),\"throw\":verb(1),\"return\":verb(2)},typeof Symbol===\"function\"&&(g[Symbol.iterator]=function(){return this;}),g;function verb(n){return function(v){return step([n,v]);};}\nfunction step(op){if(f)throw new TypeError(\"Generator is already executing.\");while(_)try{if(f=1,y&&(t=op[0]&2?y[\"return\"]:op[0]?y[\"throw\"]||((t=y[\"return\"])&&t.call(y),0):y.next)&&!(t=t.call(y,op[1])).done)return t;if(y=0,t)op=[op[0]&2,t.value];switch(op[0]){case 0:case 1:t=op;break;case 4:_.label++;return{value:op[1],done:false};case 5:_.label++;y=op[1];op=[0];continue;case 7:op=_.ops.pop();_.trys.pop();continue;default:if(!(t=_.trys,t=t.length>0&&t[t.length-1])&&(op[0]===6||op[0]===2)){_=0;continue;}\nif(op[0]===3&&(!t||(op[1]>t[0]&&op[1]<t[3]))){_.label=op[1];break;}\nif(op[0]===6&&_.label<t[1]){_.label=t[1];t=op;break;}\nif(t&&_.label<t[2]){_.label=t[2];_.ops.push(op);break;}\nif(t[2])_.ops.pop();_.trys.pop();continue;}\nop=body.call(thisArg,_);}catch(e){op=[6,e];y=0;}finally{f=t=0;}\nif(op[0]&5)throw op[1];return{value:op[0]?op[1]:void 0,done:true};}};Object.defineProperty(exports,\"__esModule\",{value:true});exports.ReactMediaRecorder=exports.useReactMediaRecorder=exports.RecorderErrors=void 0;var extendable_media_recorder_1=require(\"extendable-media-recorder\");var react_1=require(\"react\");var extendable_media_recorder_wav_encoder_1=require(\"extendable-media-recorder-wav-encoder\");var RecorderErrors;(function(RecorderErrors){RecorderErrors[\"AbortError\"]=\"media_aborted\";RecorderErrors[\"NotAllowedError\"]=\"permission_denied\";RecorderErrors[\"NotFoundError\"]=\"no_specified_media_found\";RecorderErrors[\"NotReadableError\"]=\"media_in_use\";RecorderErrors[\"OverconstrainedError\"]=\"invalid_media_constraints\";RecorderErrors[\"TypeError\"]=\"no_constraints\";RecorderErrors[\"NONE\"]=\"\";RecorderErrors[\"NO_RECORDER\"]=\"recorder_error\";})(RecorderErrors=exports.RecorderErrors||(exports.RecorderErrors={}));function useReactMediaRecorder(_a){var _this=this;var _b=_a.audio,audio=_b===void 0?true:_b,_c=_a.video,video=_c===void 0?false:_c,_d=_a.onStop,onStop=_d===void 0?function(){return null;}:_d,_e=_a.onStart,onStart=_e===void 0?function(){return null;}:_e,blobPropertyBag=_a.blobPropertyBag,_f=_a.screen,screen=_f===void 0?false:_f,_g=_a.mediaRecorderOptions,mediaRecorderOptions=_g===void 0?undefined:_g,_h=_a.customMediaStream,customMediaStream=_h===void 0?null:_h,_j=_a.stopStreamsOnStop,stopStreamsOnStop=_j===void 0?true:_j,_k=_a.askPermissionOnMount,askPermissionOnMount=_k===void 0?false:_k;var mediaRecorder=(0,react_1.useRef)(null);var mediaChunks=(0,react_1.useRef)([]);var mediaStream=(0,react_1.useRef)(null);var _l=(0,react_1.useState)(\"idle\"),status=_l[0],setStatus=_l[1];var _m=(0,react_1.useState)(false),isAudioMuted=_m[0],setIsAudioMuted=_m[1];var _o=(0,react_1.useState)(undefined),mediaBlobUrl=_o[0],setMediaBlobUrl=_o[1];var _p=(0,react_1.useState)(\"NONE\"),error=_p[0],setError=_p[1];(0,react_1.useEffect)(function(){var setup=function(){return __awaiter(_this,void 0,void 0,function(){var _a;return __generator(this,function(_b){switch(_b.label){case 0:_a=extendable_media_recorder_1.register;return[4,(0,extendable_media_recorder_wav_encoder_1.connect)()];case 1:return[4,_a.apply(void 0,[_b.sent()])];case 2:_b.sent();return[2];}});});};setup();},[]);var getMediaStream=(0,react_1.useCallback)(function(){return __awaiter(_this,void 0,void 0,function(){var requiredMedia,stream_1,audioStream,stream,error_1;return __generator(this,function(_a){switch(_a.label){case 0:setStatus(\"acquiring_media\");requiredMedia={audio:typeof audio===\"boolean\"?!!audio:audio,video:typeof video===\"boolean\"?!!video:video,};_a.label=1;case 1:_a.trys.push([1,9,,10]);if(!customMediaStream)return[3,2];mediaStream.current=customMediaStream;return[3,8];case 2:if(!screen)return[3,6];return[4,window.navigator.mediaDevices.getDisplayMedia({video:video||true,})];case 3:stream_1=(_a.sent());stream_1.getVideoTracks()[0].addEventListener(\"ended\",function(){stopRecording();});if(!audio)return[3,5];return[4,window.navigator.mediaDevices.getUserMedia({audio:audio,})];case 4:audioStream=_a.sent();audioStream.getAudioTracks().forEach(function(audioTrack){return stream_1.addTrack(audioTrack);});_a.label=5;case 5:mediaStream.current=stream_1;return[3,8];case 6:return[4,window.navigator.mediaDevices.getUserMedia(requiredMedia)];case 7:stream=_a.sent();mediaStream.current=stream;_a.label=8;case 8:setStatus(\"idle\");return[3,10];case 9:error_1=_a.sent();setError(error_1.name);setStatus(\"idle\");return[3,10];case 10:return[2];}});});},[audio,video,screen]);(0,react_1.useEffect)(function(){if(!window.MediaRecorder){throw new Error(\"Unsupported Browser\");}\nif(screen){if(!window.navigator.mediaDevices.getDisplayMedia){throw new Error(\"This browser doesn\\'t support screen capturing\");}}\nvar checkConstraints=function(mediaType){var supportedMediaConstraints=navigator.mediaDevices.getSupportedConstraints();var unSupportedConstraints=Object.keys(mediaType).filter(function(constraint){return!supportedMediaConstraints[constraint];});if(unSupportedConstraints.length>0){console.error(\"The constraints \".concat(unSupportedConstraints.join(\",\"),\" doesn't support on this browser. Please check your ReactMediaRecorder component.\"));}};if(typeof audio===\"object\"){checkConstraints(audio);}\nif(typeof video===\"object\"){checkConstraints(video);}\nif(mediaRecorderOptions&&mediaRecorderOptions.mimeType){if(!MediaRecorder.isTypeSupported(mediaRecorderOptions.mimeType)){console.error(\"The specified MIME type you supplied for MediaRecorder doesn't support this browser\");}}\nif(!mediaStream.current&&askPermissionOnMount){getMediaStream();}\nreturn function(){if(mediaStream.current){var tracks=mediaStream.current.getTracks();tracks.forEach(function(track){return track.clone().stop();});}};},[audio,screen,video,getMediaStream,mediaRecorderOptions,askPermissionOnMount,]);var startRecording=function(){return __awaiter(_this,void 0,void 0,function(){var isStreamEnded;return __generator(this,function(_a){switch(_a.label){case 0:setError(\"NONE\");if(!!mediaStream.current)return[3,2];return[4,getMediaStream()];case 1:_a.sent();_a.label=2;case 2:if(!mediaStream.current)return[3,5];isStreamEnded=mediaStream.current.getTracks().some(function(track){return track.readyState===\"ended\";});if(!isStreamEnded)return[3,4];return[4,getMediaStream()];case 3:_a.sent();_a.label=4;case 4:if(!mediaStream.current.active){return[2];}\nmediaRecorder.current=new extendable_media_recorder_1.MediaRecorder(mediaStream.current,mediaRecorderOptions||undefined);mediaRecorder.current.ondataavailable=onRecordingActive;mediaRecorder.current.onstop=onRecordingStop;mediaRecorder.current.onstart=onRecordingStart;mediaRecorder.current.onerror=function(){setError(\"NO_RECORDER\");setStatus(\"idle\");};mediaRecorder.current.start();setStatus(\"recording\");_a.label=5;case 5:return[2];}});});};var onRecordingActive=function(_a){var data=_a.data;mediaChunks.current.push(data);};var onRecordingStart=function(){onStart();};var onRecordingStop=function(){var chunk=mediaChunks.current[0];var blobProperty=Object.assign({type:chunk.type},blobPropertyBag||(video?{type:\"video/mp4\"}:{type:\"audio/wav\"}));var blob=new Blob(mediaChunks.current,blobProperty);var url=URL.createObjectURL(blob);setStatus(\"stopped\");setMediaBlobUrl(url);onStop(url,blob);};var muteAudio=function(mute){setIsAudioMuted(mute);if(mediaStream.current){mediaStream.current.getAudioTracks().forEach(function(audioTrack){return(audioTrack.enabled=!mute);});}};var pauseRecording=function(){if(mediaRecorder.current&&mediaRecorder.current.state===\"recording\"){setStatus(\"paused\");mediaRecorder.current.pause();}};var resumeRecording=function(){if(mediaRecorder.current&&mediaRecorder.current.state===\"paused\"){setStatus(\"recording\");mediaRecorder.current.resume();}};var stopRecording=function(){if(mediaRecorder.current){if(mediaRecorder.current.state!==\"inactive\"){setStatus(\"stopping\");mediaRecorder.current.stop();if(stopStreamsOnStop){mediaStream.current&&mediaStream.current.getTracks().forEach(function(track){return track.stop();});}\nmediaChunks.current=[];}}};return{error:RecorderErrors[error],muteAudio:function(){return muteAudio(true);},unMuteAudio:function(){return muteAudio(false);},startRecording:startRecording,pauseRecording:pauseRecording,resumeRecording:resumeRecording,stopRecording:stopRecording,mediaBlobUrl:mediaBlobUrl,status:status,isAudioMuted:isAudioMuted,previewStream:mediaStream.current?new MediaStream(mediaStream.current.getVideoTracks()):null,previewAudioStream:mediaStream.current?new MediaStream(mediaStream.current.getAudioTracks()):null,clearBlobUrl:function(){if(mediaBlobUrl){URL.revokeObjectURL(mediaBlobUrl);}\nsetMediaBlobUrl(undefined);setStatus(\"idle\");},};}\nexports.useReactMediaRecorder=useReactMediaRecorder;var ReactMediaRecorder=function(props){return props.render(useReactMediaRecorder(props));};exports.ReactMediaRecorder=ReactMediaRecorder;", "module.exports = require(\"./lib\");\n"],
  "mappings": "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IAAAC,mBAAA;;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAAC;AACA;AACA;;;;;ACpBA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA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AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;;;ACAA,IAAAC,gCAAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;;;ACAA,IAAAC,0CAAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;;;ACAA,IAAAC,wBAAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;;;ACAA,IAAAC,sBAAA;AAAA;AAAA;AAAA;;;ACAA,IAAAC,2BAAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;;;ACAA;;;;;;ACAA,IAAAC,mBAAA;;;AACA;AACA;AACA;AACA,IAAAC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAAC;AACA;AACA;AACA;AACA;AACA,IAAAC;AACA;AACA;AACA;AACA,IAAAC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAAC;AACA;AACA;AACA;AACA;AACA;AACA,IAAAC;AACA;AACA;AACA;AACA;AACA,IAAAC;AACA;AACA;AACA;AACA;AACA,I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AAA;;;ACAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;;;ACAA,IAAAC,sBAAA;AAAA;AAAA;AAAA;;;ACAA,IAAAC,iCAAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;;;ACAA,IAAAC,8BAAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;;;ACAA,IAAAC,mCAAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;;;ACAA,IAAAC,oCAAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;;;ACAA,IAAAC,yCAAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;;;ACAA,IAAAC,wCAAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;;;ACAA,IAAAC,oDAAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;;;ACAA,IAAAC,wDAAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;;;ACAA,IAAAC,mDAAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;;;ACAA,IAAAC,yDAAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;;;ACAA,IAAAC,0CAAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;;;ACAA,IAAAC,+CAAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;;;ACAA,IAAAC,kDAAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;;;ACAA,IAAAC,qCAAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;;;ACAA,IAAAC,wCAAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;;;ACAA,IAAAC,gDAAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;;;ACAA,IAAAC,yCAAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;;;ACAA,IAAAC,sCAAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;;;ACAA,IAAAC,0BAAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;;;ACAA,IAAAC,8CAAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;;;ACAA,IAAAC,0CAAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;;;ACAA,IAAAC,gDAAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;;;ACAA,IAAAC,kCAAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;;;ACAA,IAAAC,2CAAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;;;ACAA,IAAAC,qCAAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;;;ACAA,IAAAC,4CAAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;;;ACAA,IAAAC,kDAAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;;;ACAA,IAAAC,sCAAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;;;ACAA,IAAAC,0BAAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;;;ACAA,IAAAC,gDAAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;;;ACAA,IAAAC,yBAAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;;;ACAA,IAAAC,uCAAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;;;ACAA,IAAAC,6CAAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;;;ACAA,IAAAC,+CAAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;;;ACAA,IAAAC,mDAAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;;;ACAA,IAAAC,8CAAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;;;ACAA,IAAAC,4DAAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;;;ACAA,IAAAC,iDAAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;;;ACAA,IAAAC,uCAAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;;;ACAA,IAAAC,mCAAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;;;ACAA,IAAAC,yCAAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;;;ACAA,IAAAC,qCAAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;;;ACAA,IAAAC,qCAAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;;;ACAA,IAAAC,0CAAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;;;ACAA,IAAAC,gDAAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;;;ACAA,IAAAC,wCAAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;;;ACAA,IAAAC,8CAAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;;;ACAA,IAAAC,oCAAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;;;ACAA,IAAAC,iCAAA;AAAA;AAAA;AAAA;;;ACAA,IAAAC,yCAAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;;;ACAA,IAAAC,gCAAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;;;ACAA,IAAAC,qCAAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;;;ACAA,IAAAC,kCAAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;;;ACAA,IAAAC,uCAAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;;;ACAA,IAAAC,4CAAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;;;ACAA,IAAAC,qFAAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;;;ACAA,IAAAC,qCAAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;;;ACAA,IAAAC,0CAAA;AAAA;AAAA;AAAA;;;ACAA,IAAAC,eAAA;AAAA;AAAA;AAAA;;;ACAA,IAAAC,uBAAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;;;ACAA,IAAAC,eAAA;;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAAC;AACA;AACA,IAAAC;AACA;AACA;AACA;AACA,IAAAC;AACA;AACA,IAAAC;AACA;AACA,IAAAC;AACA,IAAAC;AACA;AACA;AACA,IAAAC;AACA;AACA;AACA;AACA,IAAAC;AACA;AACA,IAAAC;AACA,IAAAC;AACA;AACA;AACA;AACA,IAAAC;AACA;AACA,IAAAC;AACA,IAAAC;AACA;AACA;AACA;AACA;AACA;AACA,IAAAC;AACA;AACA;AACA;AACA;AACA;AACA,IAAAC;AACA;AACA,IAAAC;AACA;AACA;AACA,IAAAC;AACA;AACA,IAAAC;AACA;AACA,IAAAC;AACA;AACA;AACA;AACA;AACA,IAAAC;AACA;AACA,IAAAC;AACA;AACA,IAAAC;AACA;AACA,IAAAC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAAC;AACA;AACA,IAAAC;AACA;AACA,IAAAC;AACA,IAAAC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAAC;AACA;AACA,IAAAC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAAC;AACA;AACA,IAAAC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAAC;AACA;AACA,IAAAC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAAC;AACA,IAAAC;AACA;AACA;AACA;AACA;AACA;AACA,IAAAC;AACA;AACA,IAAAC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAAC;AACA;AACA,IAAAC;AACA;AACA,IAAAC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAAC;AACA;AACA,IAAAC;AACA;AACA,IAAAC;AACA;AACA,IAAAC;AACA;AACA,IAAAC;AACA;AACA,IAAAC;AACA;AACA,IAAAC;AACA;AACA;AACA;AACA;AACA,IAAAC;AACA;AACA;AACA,IAAAC;AACA;AACA;AACA,IAAAC;AACA;AACA;AACA,IAAAC;AACA;AACA,IAAAC;AACA;AACA;AACA;AACA,IAAAC;AACA;AACA;AACA;AACA;AACA,IAAAC;AACA;AACA,IAAAC;AACA;AACA,IAAAC;AACA;AACA;AACA,IAAAC;AACA;AACA;AACA,IAAAC;AACA;AACA,IAAAC;AACA;AACA;AACA,IAAAC;AACA;AACA,IAAAC;AACA;AACA;AACA;AACA,IAAAC;AACA;AACA;AACA,IAAAC;AACA;AACA,IAAAC;AACA;AACA;AACA,IAAAC;AACA;AACA;AACA,IAAAC;AACA;AACA,IAAAC;AACA;AACA,IAAAC;AACA;AACA,IAAAC;AACA;AACA,IAAAC;AACA;AACA;AACA,IAAAC;AACA;AACA;AACA,IAAAC;AACA;AACA;AACA,IAAAC;AACA;AACA;AACA,IAAAC;AACA;AACA,IAAAC;AACA;AACA;AACA,IAAAC;AACA;AACA,IAAAC;AACA;AACA;AACA,IAAAC;AACA;AACA,IAAAC;AACA;AACA;AACA,IAAAC;AACA;AACA,IAAAC;AACA;AACA;AACA;AACA,IAAAC;AACA;AACA,IAAAC;AACA,IAAAC;AACA;AACA;AACA;AACA;AACA;AACA,IAAAC;AACA;AACA,IAAAC;AACA;AACA;AACA;AACA;AACA,IAAAC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAAC;AACA;AACA;AACA,IAAAC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAAC;AACA;AACA;AACA;AACA;AACA;AACA,IAAAC;AACA;AACA;AACA,IAAAC;AACA,IAAAC;AACA,IAAAC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;AC1YA,IA8RM,qCACA,sCACA,wCACA,wBACA,sBACA,iBACAC,SACA,0BACA,sBACA,yBACA,4BACA,kBACA,sCACA,6BACA,0BACA,wBACA,+BACA,sBACAC,oBACA,oBACA,mCACA,sBAgDA,yBAaA,kBACA,8BACA,6BACA,mCACA,8CACA,wBAeA,qBACA,0BACA,mBACA,mCAaA,kBACA,qCAOA,kBAeA,kCAeA,iCAUA,gCAOA,sBACA,6BAUA,oBACA,uBACA,+BACA,iCAKA,8BAOA,mCAKA,gCAQA,qCAMA,gCAOA,kCAOA,+BASA,2BACA,6BAKA,0BAQA,yBAOA,sBASA,oCACA,sCAOA,mCAUA,wBAOA,qBAQA,gCAMA,iCAMA,6BAOA,2BACA,0BAQA,qBAUA,iCACA,oCAQA,4BAQA,8BAOA,2BASA,4CACA,iCAOA,4BASA,6BAYA,wBACA,0BAYA,uBASA,0BACA,yBAMA,oCAQA,8BACA,gCAOA,6BAQA,8BAKA,2BASA,iBACA,kCACA,gCACA,sCAMO,uBAmBP,iBAEO,iBAcP,6BAsBA,wCAMA,4CAOA,uCAMA,6CAIA,4CAEA,yBAgBA,gCACA,+BACA,wBACA,kCACA,2BACA,mCACA,iCACA,mCAeA,8BAOA,gCAkBA,8BACA,iCAGA,6BA2EA,gCAYA,iCAIA,gBAUA,uCAYA,gCAgCO,mBAEA,gBAEA,iBAEA;AA1iCb,IAAAC,gBAAA;;IAAAA;AASA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAAC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAAC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAAC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAAC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAAC;AACA;AACA;AACA;AACA;AACA;AAQA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAC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",
  "names": ["generateUniqueNumber", "cache", "init_types", "init_module", "init_types", "handler", "init_interfaces", "init_types", "init_module", "init_interfaces", "init_types", "url", "worker", "init_module", "nativeBlobEventConstructor", "readElementContent", "readElementType", "createEventTarget", "wrapEventListener", "window", "window", "createNativeMediaRecorder", "createNotSupportedError", "createWebAudioMediaRecorder", "createWebmPcmMediaRecorder", "encoderRegexes", "eventTargetConstructor", "nativeMediaRecorderConstructor", "window", "createInvalidModificationError", "createNotSupportedError", "nativeMediaRecorderConstructor", "blob", "window", "readVariableSizeInteger", "readVariableSizeInteger", "readVariableSizeIntegerLength", "createAddUniqueNumber", "init_add_unique_number", "generateUniqueNumber", "createCache", "init_cache", "MAX_SAFE_INTEGER", "TWO_TO_THE_POWER_OF_TWENTY_NINE", "TWO_TO_THE_POWER_OF_THIRTY", "createGenerateUniqueNumber", "init_generate_unique_number", "cache", "init_add_unique_number_factory", "init_add_unique_number_function", "init_cache_factory", "init_cache_function", "init_generate_unique_number_factory", "init_generate_unique_number_function", "init_types", "init_add_unique_number_factory", "init_add_unique_number_function", "init_cache_factory", "init_cache_function", "init_generate_unique_number_factory", "init_generate_unique_number_function", "LAST_NUMBER_WEAK_MAP", "cache", "generateUniqueNumber", "addUniqueNumber", "init_module", "init_add_unique_number", "init_cache", "init_generate_unique_number", "init_types", "createCache", "createGenerateUniqueNumber", "createAddUniqueNumber", "init_types", "init_types", "emitNotSupportedError", "window", "wrapSubscribeFunction", "mapSubscribableThing", "mutations", "prependSubscribableThing", "emitNotSupportedError", "window", "wrapSubscribeFunction", "emitNotSupportedError", "window", "wrapSubscribeFunction", "wrapSubscribeFunction", "emitNotSupportedError", "window", "wrapSubscribeFunction", "mediaDevices", "emitNotSupportedError", "window", "wrapSubscribeFunction", "emitNotSupportedError", "window", "wrapSubscribeFunction", "wrapSubscribeFunction", "midiInputs", "wrapSubscribeFunction", "midiOutputs", "emitNotSupportedError", "window", "wrapSubscribeFunction", "wrapSubscribeFunction", "emitNotSupportedError", "window", "wrapSubscribeFunction", "emitNotSupportedError", "window", "wrapSubscribeFunction", "wrapSubscribeFunction", "emitNotSupportedError", "window", "wrapSubscribeFunction", "emitNotSupportedError", "window", "wrapSubscribeFunction", "emitNotSupportedError", "window", "wrapSubscribeFunction", "emitNotSupportedError", "wrapSubscribeFunction", "emitNotSupportedError", "window", "wrapSubscribeFunction", "patch", "toObserver", "init_wake_lock", "init_interfaces", "init_wake_lock", "init_window", "init_types", "init_window", "window", "init_module", "init_interfaces", "init_types", "indefiniteArticle", "init_interfaces", "init_types", "init_module", "init_interfaces", "init_types", "dashify", "indefiniteArticle", "init_module", "init_module", "init_interfaces", "init_value_map", "init_worker_definition", "init_types", "init_value_map", "init_worker_definition", "init_module", "init_interfaces", "init_types", "worklet", "addAudioWorkletModule", "blob", "url", "generateUniqueNumber", "createListener", "on", "validateState", "audioWorkletNodeConstructor", "init_interfaces", "init_types", "init_module", "init_interfaces", "init_types", "generateUniqueNumber", "init_cancel_and_hold_automation_event", "init_cancel_scheduled_values_automation_event", "init_exponential_ramp_to_value_automation_event", "init_linear_ramp_to_value_automation_event", "init_set_value_automation_event", "init_set_target_automation_event", "init_set_value_curve_automation_event", "init_interfaces", "init_cancel_and_hold_automation_event", "init_cancel_scheduled_values_automation_event", "init_exponential_ramp_to_value_automation_event", "init_linear_ramp_to_value_automation_event", "init_set_value_automation_event", "init_set_target_automation_event", "init_set_value_curve_automation_event", "init_types", "init_module", "init_interfaces", "init_types", "insertElementInSet", "url", "cacheTestResult", "createNotSupportedError", "exposeCurrentFrameAndCurrentTime", "getNativeContext", "getOrCreateBackupOfflineAudioContext", "isNativeOfflineAudioContext", "nativeAudioWorkletNodeConstructor", "window", "blob", "url", "addActiveInputConnectionToAudioNode", "addPassiveInputConnectionToAudioNode", "connectNativeAudioNodeToNativeAudioNode", "deleteActiveInputConnectionToAudioNode", "disconnectNativeAudioNodeFromNativeAudioNode", "getAudioNodeConnections", "getAudioNodeTailTime", "getEventListenersOfAudioNode", "getNativeAudioNode", "insertElementInSet", "isActiveAudioNode", "isPartOfACycle", "isPassiveAudioNode", "insertElementInSet", "createNativeGainNode", "disconnect", "getUnrenderedAudioWorkletNodes", "createAnalyserNodeRenderer", "createIndexSizeError", "createNativeAnalyserNode", "getNativeContext", "isNativeOfflineAudioContext", "createNativeAnalyserNode", "getNativeAudioNode", "renderInputsOfAudioNode", "DEFAULT_OPTIONS", "audioBufferStore", "cacheTestResult", "createNotSupportedError", "nativeAudioBufferConstructor", "nativeOfflineAudioContextConstructor", "wrapAudioBufferCopyChannelMethods", "wrapAudioBufferCopyChannelMethodsOutOfBounds", "DEFAULT_OPTIONS", "audioNodeConstructor", "createAudioBufferSourceNodeRenderer", "createAudioParam", "createInvalidStateError", "createNativeAudioBufferSourceNode", "getNativeContext", "isNativeOfflineAudioContext", "wrapEventListener", "connectAudioParam", "createNativeAudioBufferSourceNode", "getNativeAudioNode", "renderAutomation", "renderInputsOfAudioNode", "baseAudioContextConstructor", "createInvalidStateError", "createNotSupportedError", "createUnknownError", "mediaElementAudioSourceNodeConstructor", "mediaStreamAudioDestinationNodeConstructor", "mediaStreamAudioSourceNodeConstructor", "mediaStreamTrackAudioSourceNodeConstructor", "nativeAudioContextConstructor", "audioNodeConstructor", "createAudioDestinationNodeRenderer", "createIndexSizeError", "createInvalidStateError", "getNativeContext", "isNativeOfflineAudioContext", "renderInputsOfAudioNode", "renderInputsOfAudioNode", "createAudioParam", "createNativeChannelMergerNode", "createNativeConstantSourceNode", "createNativeScriptProcessorNode", "createNotSupportedError", "getFirstSample", "isNativeOfflineAudioContext", "overwriteAccessors", "nativeAudioWorkletNodeConstructor", "connect", "disconnect", "cacheTestResult", "createIndexSizeError", "createInvalidAccessError", "createNotSupportedError", "eventTargetConstructor", "getNativeContext", "isNativeAudioContext", "isNativeAudioNode", "isNativeAudioParam", "isNativeOfflineAudioContext", "nativeAudioWorkletNodeConstructor", "init_module", "audioParamAudioNodeStore", "createAudioParamRenderer", "createCancelAndHoldAutomationEvent", "createCancelScheduledValuesAutomationEvent", "createExponentialRampToValueAutomationEvent", "createLinearRampToValueAutomationEvent", "createSetTargetAutomationEvent", "createSetValueAutomationEvent", "createSetValueCurveAutomationEvent", "nativeAudioContextConstructor", "setValueAtTimeUntilPossible", "DEFAULT_OPTIONS", "addUnrenderedAudioWorkletNode", "audioNodeConstructor", "createAudioParam", "createAudioWorkletNodeRenderer", "createNativeAudioWorkletNode", "getAudioNodeConnections", "getBackupOfflineAudioContext", "getNativeContext", "isNativeOfflineAudioContext", "nativeAudioWorkletNodeConstructor", "sanitizeAudioWorkletNodeOptions", "setActiveAudioWorkletNodeInputs", "testAudioWorkletNodeOptionsClonability", "wrapEventListener", "exposeCurrentFrameAndCurrentTime", "connectAudioParam", "connectMultipleOutputs", "createNativeAudioBufferSourceNode", "createNativeChannelMergerNode", "createNativeChannelSplitterNode", "createNativeConstantSourceNode", "createNativeGainNode", "deleteUnrenderedAudioWorkletNode", "disconnectMultipleOutputs", "getNativeAudioNode", "nativeAudioWorkletNodeConstructor", "nativeOfflineAudioContextConstructor", "renderAutomation", "renderInputsOfAudioNode", "renderNativeOfflineAudioContext", "addAudioWorkletModule", "analyserNodeConstructor", "audioBufferConstructor", "audioBufferSourceNodeConstructor", "biquadFilterNodeConstructor", "channelMergerNodeConstructor", "channelSplitterNodeConstructor", "constantSourceNodeConstructor", "convolverNodeConstructor", "decodeAudioData", "delayNodeConstructor", "dynamicsCompressorNodeConstructor", "gainNodeConstructor", "iIRFilterNodeConstructor", "minimalBaseAudioContextConstructor", "oscillatorNodeConstructor", "pannerNodeConstructor", "periodicWaveConstructor", "stereoPannerNodeConstructor", "waveShaperNodeConstructor", "DEFAULT_OPTIONS", "audioNodeConstructor", "createAudioParam", "createBiquadFilterNodeRenderer", "createInvalidAccessError", "createNativeBiquadFilterNode", "getNativeContext", "isNativeOfflineAudioContext", "setAudioNodeTailTime", "connectAudioParam", "createNativeBiquadFilterNode", "getNativeAudioNode", "renderAutomation", "renderInputsOfAudioNode", "DEFAULT_OPTIONS", "audioNodeConstructor", "createChannelMergerNodeRenderer", "createNativeChannelMergerNode", "getNativeContext", "isNativeOfflineAudioContext", "createNativeChannelMergerNode", "getNativeAudioNode", "renderInputsOfAudioNode", "DEFAULT_OPTIONS", "audioNodeConstructor", "createChannelSplitterNodeRenderer", "createNativeChannelSplitterNode", "getNativeContext", "isNativeOfflineAudioContext", "sanitizeChannelSplitterOptions", "createNativeChannelSplitterNode", "getNativeAudioNode", "renderInputsOfAudioNode", "renderInputsOfAudioParam", "createIndexSizeError", "createNativeAudioBufferSourceNode", "DEFAULT_OPTIONS", "audioNodeConstructor", "createAudioParam", "createConstantSourceNodeRendererFactory", "createNativeConstantSourceNode", "getNativeContext", "isNativeOfflineAudioContext", "wrapEventListener", "connectAudioParam", "createNativeConstantSourceNode", "getNativeAudioNode", "renderAutomation", "renderInputsOfAudioNode", "DEFAULT_OPTIONS", "audioNodeConstructor", "createConvolverNodeRenderer", "createNativeConvolverNode", "getNativeContext", "isNativeOfflineAudioContext", "setAudioNodeTailTime", "createNativeConvolverNode", "getNativeAudioNode", "renderInputsOfAudioNode", "createNotSupportedError", "nativeOfflineAudioContextConstructor", "audioBufferStore", "cacheTestResult", "createDataCloneError", "createEncodingError", "getNativeContext", "isNativeContext", "testAudioBufferCopyChannelMethodsOutOfBoundsSupport", "testPromiseSupport", "wrapAudioBufferCopyChannelMethods", "wrapAudioBufferCopyChannelMethodsOutOfBounds", "connectNativeAudioNodeToNativeAudioNode", "getAudioNodeConnections", "getNativeAudioNode", "getNativeAudioParam", "getNativeContext", "isActiveAudioNode", "isNativeOfflineAudioContext", "DEFAULT_OPTIONS", "audioNodeConstructor", "createAudioParam", "createDelayNodeRenderer", "createNativeDelayNode", "getNativeContext", "isNativeOfflineAudioContext", "setAudioNodeTailTime", "connectAudioParam", "createNativeDelayNode", "getNativeAudioNode", "renderAutomation", "renderInputsOfAudioNode", "pickElementFromSet", "getUnrenderedAudioWorkletNodes", "audioParamAudioNodeStore", "getAudioNodeConnections", "getValueForKey", "createIndexSizeError", "DEFAULT_OPTIONS", "audioNodeConstructor", "createAudioParam", "createDynamicsCompressorNodeRenderer", "createNativeDynamicsCompressorNode", "createNotSupportedError", "getNativeContext", "isNativeOfflineAudioContext", "setAudioNodeTailTime", "connectAudioParam", "createNativeDynamicsCompressorNode", "getNativeAudioNode", "renderAutomation", "renderInputsOfAudioNode", "window", "blob", "url", "createEventTargetConstructor", "init_event_target_constructor", "wrapEventListener", "window", "createAbortError", "url", "DEFAULT_OPTIONS", "audioNodeConstructor", "createAudioParam", "createGainNodeRenderer", "createNativeGainNode", "getNativeContext", "isNativeOfflineAudioContext", "connectAudioParam", "createNativeGainNode", "getNativeAudioNode", "renderAutomation", "renderInputsOfAudioNode", "activeAudioWorkletNodeInputsStore", "getValueForKey", "getAudioNodeConnections", "audioNodeTailTimeStore", "getAudioParamConnections", "backupOfflineAudioContextStore", "createInvalidStateError", "init_invalid_state_error", "init_invalid_state_error", "createInvalidStateError", "backupOfflineAudioContextStore", "nativeOfflineAudioContextConstructor", "unrenderedAudioWorkletNodeStore", "DEFAULT_OPTIONS", "audioNodeConstructor", "createNativeIIRFilterNode", "createIIRFilterNodeRenderer", "getNativeContext", "isNativeOfflineAudioContext", "setAudioNodeTailTime", "createNativeAudioBufferSourceNode", "getNativeAudioNode", "nativeOfflineAudioContextConstructor", "renderInputsOfAudioNode", "renderNativeOfflineAudioContext", "disconnectNativeAudioNodeFromNativeAudioNode", "getAudioNodeConnections", "getNativeAudioNode", "getNativeAudioParam", "isActiveAudioNode", "isNativeAudioContext", "isNativeAudioNode", "isNativeAudioParam", "isNativeOfflineAudioContext", "nativeAudioContextConstructor", "window", "window", "isNativeAudioContext", "isNativeOfflineAudioContext", "nativeOfflineAudioContextConstructor", "window", "init_is_supported_promise", "audioNodeConstructor", "createNativeMediaElementAudioSourceNode", "getNativeContext", "isNativeOfflineAudioContext", "DEFAULT_OPTIONS", "audioNodeConstructor", "createNativeMediaStreamAudioDestinationNode", "getNativeContext", "isNativeOfflineAudioContext", "audioNodeConstructor", "createNativeMediaStreamAudioSourceNode", "getNativeContext", "isNativeOfflineAudioContext", "audioNodeConstructor", "createNativeMediaStreamTrackAudioSourceNode", "getNativeContext", "createInvalidStateError", "createNotSupportedError", "createUnknownError", "minimalBaseAudioContextConstructor", "nativeAudioContextConstructor", "audioDestinationNodeConstructor", "createAudioListener", "eventTargetConstructor", "isNativeOfflineAudioContext", "unrenderedAudioWorkletNodeStore", "wrapEventListener", "DEFAULT_OPTIONS", "cacheTestResult", "createInvalidStateError", "createNativeOfflineAudioContext", "minimalBaseAudioContextConstructor", "startRendering", "insertElementInSet", "isNativeAudioNode", "connect", "disconnect", "cacheTestResult", "createIndexSizeError", "window", "init_invalid_state_error", "createInvalidStateError", "addSilentConnection", "cacheTestResult", "testAudioBufferSourceNodeStartMethodConsecutiveCallsSupport", "testAudioBufferSourceNodeStartMethodOffsetClampingSupport", "testAudioBufferSourceNodeStopMethodNullifiedBufferSupport", "testAudioScheduledSourceNodeStartMethodNegativeParametersSupport", "testAudioScheduledSourceNodeStopMethodConsecutiveCallsSupport", "testAudioScheduledSourceNodeStopMethodNegativeParametersSupport", "wrapAudioScheduledSourceNodeStopMethodConsecutiveCalls", "window", "createNativeGainNode", "overwriteAccessors", "window", "createInvalidStateError", "createNativeAudioWorkletNodeFaker", "createNativeGainNode", "createNotSupportedError", "monitorConnections", "nativeAudioWorkletNodeConstructor", "connectMultipleOutputs", "createIndexSizeError", "createInvalidStateError", "createNativeChannelMergerNode", "createNativeChannelSplitterNode", "createNativeConstantSourceNode", "createNativeGainNode", "createNativeScriptProcessorNode", "createNotSupportedError", "disconnectMultipleOutputs", "exposeCurrentFrameAndCurrentTime", "getActiveAudioWorkletNodeInputs", "monitorConnections", "nativeAudioContextConstructor", "wrapChannelMergerNode", "init_invalid_state_error", "createInvalidStateError", "addSilentConnection", "cacheTestResult", "createNativeConstantSourceNodeFaker", "testAudioScheduledSourceNodeStartMethodNegativeParametersSupport", "testAudioScheduledSourceNodeStopMethodNegativeParametersSupport", "addSilentConnection", "createNativeAudioBufferSourceNode", "createNativeGainNode", "monitorConnections", "createNotSupportedError", "overwriteAccessors", "createNotSupportedError", "createNativeIIRFilterNodeFaker", "createInvalidAccessError", "createInvalidStateError", "createNativeScriptProcessorNode", "createNotSupportedError", "createInvalidStateError", "isNativeOfflineAudioContext", "window", "addSilentConnection", "cacheTestResult", "testAudioScheduledSourceNodeStartMethodNegativeParametersSupport", "testAudioScheduledSourceNodeStopMethodConsecutiveCallsSupport", "testAudioScheduledSourceNodeStopMethodNegativeParametersSupport", "wrapAudioScheduledSourceNodeStopMethodConsecutiveCalls", "createNativePannerNodeFaker", "connectNativeAudioNodeToNativeAudioNode", "createInvalidStateError", "createNativeChannelMergerNode", "createNativeGainNode", "createNativeScriptProcessorNode", "createNativeWaveShaperNode", "createNotSupportedError", "disconnectNativeAudioNodeFromNativeAudioNode", "getFirstSample", "monitorConnections", "createIndexSizeError", "createNotSupportedError", "createNativeChannelMergerNode", "createNativeChannelSplitterNode", "createNativeGainNode", "createNativeWaveShaperNode", "createNotSupportedError", "monitorConnections", "nativeStereoPannerNodeFakerFactory", "createConnectedNativeAudioBufferSourceNode", "createInvalidStateError", "createNativeWaveShaperNodeFaker", "isDCCurve", "monitorConnections", "nativeAudioContextConstructor", "overwriteAccessors", "createConnectedNativeAudioBufferSourceNode", "createInvalidStateError", "createNativeGainNode", "isDCCurve", "monitorConnections", "createNotSupportedError", "init_not_supported_error", "DEFAULT_OPTIONS", "baseAudioContextConstructor", "cacheTestResult", "createInvalidStateError", "createNativeOfflineAudioContext", "startRendering", "DEFAULT_OPTIONS", "audioNodeConstructor", "createAudioParam", "createNativeOscillatorNode", "createOscillatorNodeRenderer", "getNativeContext", "isNativeOfflineAudioContext", "wrapEventListener", "connectAudioParam", "createNativeOscillatorNode", "getNativeAudioNode", "renderAutomation", "renderInputsOfAudioNode", "DEFAULT_OPTIONS", "audioNodeConstructor", "createAudioParam", "createNativePannerNode", "createPannerNodeRenderer", "getNativeContext", "isNativeOfflineAudioContext", "setAudioNodeTailTime", "connectAudioParam", "createNativeChannelMergerNode", "createNativeConstantSourceNode", "createNativeGainNode", "createNativePannerNode", "getNativeAudioNode", "nativeOfflineAudioContextConstructor", "renderAutomation", "renderInputsOfAudioNode", "renderNativeOfflineAudioContext", "DEFAULT_OPTIONS", "createNativePeriodicWave", "getNativeContext", "sanitizePeriodicWaveOptions", "renderInputsOfAudioParam", "getAudioNodeConnections", "getAudioNodeRenderer", "isPartOfACycle", "getAudioNodeRenderer", "getAudioParamConnections", "isPartOfACycle", "cacheTestResult", "createNativeGainNode", "createNativeScriptProcessorNode", "activeAudioWorkletNodeInputsStore", "audioNodeTailTimeStore", "audioBufferStore", "cacheTestResult", "getAudioNodeRenderer", "getUnrenderedAudioWorkletNodes", "renderNativeOfflineAudioContext", "testAudioBufferCopyChannelMethodsOutOfBoundsSupport", "wrapAudioBufferCopyChannelMethods", "wrapAudioBufferCopyChannelMethodsOutOfBounds", "DEFAULT_OPTIONS", "audioNodeConstructor", "createAudioParam", "createNativeStereoPannerNode", "createStereoPannerNodeRenderer", "getNativeContext", "isNativeOfflineAudioContext", "connectAudioParam", "createNativeStereoPannerNode", "getNativeAudioNode", "renderAutomation", "renderInputsOfAudioNode", "nativeAudioBufferConstructor", "nativeAudioWorkletNodeConstructor", "nativeOfflineAudioContextConstructor", "blob", "url", "createNativeGainNode", "nativeOfflineAudioContextConstructor", "DEFAULT_OPTIONS", "audioNodeConstructor", "createInvalidStateError", "createNativeWaveShaperNode", "createWaveShaperNodeRenderer", "getNativeContext", "isNativeOfflineAudioContext", "setAudioNodeTailTime", "createNativeWaveShaperNode", "getNativeAudioNode", "renderInputsOfAudioNode", "createWindow", "init_window", "convertNumberToUnsignedLong", "createIndexSizeError", "convertNumberToUnsignedLong", "copyFromChannel", "copyToChannel", "overwriteAccessors", "createInvalidStateError", "monitorConnections", "disconnect", "init_audio_buffer_source_node", "init_audio_node", "init_audio_param_renderer", "init_audio_worklet_node", "init_biquad_filter_node", "init_constant_source_node", "init_delay_node", "init_gain_node", "init_native_audio_node_faker", "init_offline_audio_context_constructor", "init_oscillator_node", "init_read_only_map", "init_stereo_panner_node", "init_interfaces", "init_audio_buffer_source_node", "init_audio_node", "init_audio_param_renderer", "init_audio_worklet_node", "init_biquad_filter_node", "init_constant_source_node", "init_delay_node", "init_gain_node", "init_native_audio_node_faker", "init_offline_audio_context_constructor", "init_oscillator_node", "init_read_only_map", "init_stereo_panner_node", "init_analyser_node_constructor", "init_analyser_node_renderer_factory", "init_audio_buffer_constructor", "init_audio_buffer_source_node_constructor", "init_audio_buffer_source_node_renderer", "init_audio_buffer_source_node_renderer_factory", "init_audio_context_constructor", "init_audio_destination_node_constructor", "init_audio_destination_node_renderer_factory", "init_audio_listener_factory", "init_audio_node_constructor", "init_audio_node_output_connection", "init_audio_node_renderer", "init_audio_param_factory", "init_audio_worklet_node_constructor", "init_audio_worklet_node_renderer_factory", "init_base_audio_context_constructor", "init_biquad_filter_node_constructor", "init_biquad_filter_node_renderer_factory", "init_channel_merger_node_constructor", "init_channel_merger_node_renderer_factory", "init_channel_splitter_node_constructor", "init_channel_splitter_node_renderer_factory", "init_connected_native_audio_buffer_source_node_factory", "init_constant_source_node_constructor", "init_constant_source_node_renderer", "init_constant_source_node_renderer_factory", "init_convolver_node_constructor", "init_convolver_node_renderer_factory", "init_delay_node_constructor", "init_delay_node_renderer_factory", "init_dynamics_compressor_node_constructor", "init_dynamics_compressor_node_renderer_factory", "init_event_handler", "init_event_target_constructor", "init_gain_node_constructor", "init_gain_node_renderer_factory", "init_iir_filter_node_constructor", "init_iir_filter_node_renderer_factory", "init_increment_cycle_counter_factory", "init_media_element_audio_source_node_constructor", "init_media_stream_audio_destination_node_constructor", "init_media_stream_audio_source_node_constructor", "init_media_stream_track_audio_source_node_constructor", "init_minimal_audio_context_constructor", "init_minimal_base_audio_context_constructor", "init_minimal_offline_audio_context_constructor", "init_native_analyser_node_factory", "init_native_audio_buffer_constructor", "init_native_audio_buffer_source_node_factory", "init_native_audio_context_constructor", "init_native_audio_destination_node", "init_native_audio_node", "init_native_audio_worklet_node_constructor", "init_native_audio_worklet_node_factory", "init_native_audio_worklet_node_faker_factory", "init_native_biquad_filter_node", "init_native_channel_merger_node_factory", "init_native_channel_splitter_node", "init_native_constant_source_node_factory", "init_native_constant_source_node_faker_factory", "init_native_convolver_node_factory", "init_native_delay_node", "init_native_dynamics_compressor_node_factory", "init_native_gain_node", "init_native_iir_filter_node_factory", "init_native_iir_filter_node_faker_factory", "init_native_media_element_audio_source_node", "init_native_media_stream_audio_destination_node", "init_native_media_stream_audio_source_node", "init_native_media_stream_track_audio_source_node_factory", "init_native_offline_audio_context_constructor", "init_native_oscillator_node_factory", "init_native_panner_node_factory", "init_native_panner_node_faker_factory", "init_native_periodic_wave_factory", "init_native_script_processor_node", "init_native_stereo_panner_node_factory", "init_native_stereo_panner_node_faker_factory", "init_native_wave_shaper_node_factory", "init_native_wave_shaper_node_faker_factory", "init_oscillator_node_constructor", "init_oscillator_node_renderer", "init_oscillator_node_renderer_factory", "init_panner_node_constructor", "init_panner_node_renderer_factory", "init_periodic_wave_constructor", "init_stereo_panner_node_constructor", "init_stereo_panner_node_renderer_factory", "init_test_media_stream_audio_source_node_media_stream_without_audio_track_support", "init_wave_shaper_node_constructor", "init_wave_shaper_node_renderer_factory", "init_window", "init_window_factory", "init_types", "init_analyser_node_constructor", "init_analyser_node_renderer_factory", "init_audio_buffer_constructor", "init_audio_buffer_source_node_constructor", "init_audio_buffer_source_node_renderer", "init_audio_buffer_source_node_renderer_factory", "init_audio_context_constructor", "init_audio_destination_node_constructor", "init_audio_destination_node_renderer_factory", "init_audio_listener_factory", "init_audio_node_constructor", "init_audio_node_output_connection", "init_audio_node_renderer", "init_audio_param_factory", "init_audio_worklet_node_constructor", "init_audio_worklet_node_renderer_factory", "init_base_audio_context_constructor", "init_biquad_filter_node_constructor", "init_biquad_filter_node_renderer_factory", "init_channel_merger_node_constructor", "init_channel_merger_node_renderer_factory", "init_channel_splitter_node_constructor", "init_channel_splitter_node_renderer_factory", "init_connected_native_audio_buffer_source_node_factory", "init_constant_source_node_constructor", "init_constant_source_node_renderer", "init_constant_source_node_renderer_factory", "init_convolver_node_constructor", "init_convolver_node_renderer_factory", "init_delay_node_constructor", "init_delay_node_renderer_factory", "init_dynamics_compressor_node_constructor", "init_dynamics_compressor_node_renderer_factory", "init_event_handler", "init_event_target_constructor", "init_gain_node_constructor", "init_gain_node_renderer_factory", "init_iir_filter_node_constructor", "init_iir_filter_node_renderer_factory", "init_increment_cycle_counter_factory", "init_media_element_audio_source_node_constructor", "init_media_stream_audio_destination_node_constructor", "init_media_stream_audio_source_node_constructor", "init_media_stream_track_audio_source_node_constructor", "init_minimal_audio_context_constructor", "init_minimal_base_audio_context_constructor", "init_minimal_offline_audio_context_constructor", "init_native_analyser_node_factory", "init_native_audio_buffer_constructor", "init_native_audio_buffer_source_node_factory", "init_native_audio_context_constructor", "init_native_audio_destination_node", "init_native_audio_node", "init_native_audio_worklet_node_constructor", "init_native_audio_worklet_node_factory", "init_native_audio_worklet_node_faker_factory", "init_native_biquad_filter_node", "init_native_channel_merger_node_factory", "init_native_channel_splitter_node", "init_native_constant_source_node_factory", "init_native_constant_source_node_faker_factory", "init_native_convolver_node_factory", "init_native_delay_node", "init_native_dynamics_compressor_node_factory", "init_native_gain_node", "init_native_iir_filter_node_factory", "init_native_iir_filter_node_faker_factory", "init_native_media_element_audio_source_node", "init_native_media_stream_audio_destination_node", "init_native_media_stream_audio_source_node", "init_native_media_stream_track_audio_source_node_factory", "init_native_offline_audio_context_constructor", "init_native_oscillator_node_factory", "init_native_panner_node_factory", "init_native_panner_node_faker_factory", "init_native_periodic_wave_factory", "init_native_script_processor_node", "init_native_stereo_panner_node_factory", "init_native_stereo_panner_node_faker_factory", "init_native_wave_shaper_node_factory", "init_native_wave_shaper_node_faker_factory", "init_oscillator_node_constructor", "init_oscillator_node_renderer", "init_oscillator_node_renderer_factory", "init_panner_node_constructor", "init_panner_node_renderer_factory", "init_periodic_wave_constructor", "init_stereo_panner_node_constructor", "init_stereo_panner_node_renderer_factory", "init_test_media_stream_audio_source_node_media_stream_without_audio_track_support", "init_wave_shaper_node_constructor", "init_wave_shaper_node_renderer_factory", "init_window", "init_window_factory", "window", "isNativeAudioNode", "init_module", "init_event_target_constructor", "init_invalid_state_error", "init_is_supported_promise", "init_not_supported_error", "init_window", "init_interfaces", "init_types", "createWindow", "createEventTargetConstructor", "createNotSupportedError", "createInvalidStateError", "init_module", "createBlobEvent", "createInvalidModificationError", "createInvalidStateError", "createNotSupportedError", "url", "_a", "init_module", "init_module", "createBlobEvent", "createInvalidModificationError", "createNotSupportedError", "decodeWebMChunk", "readVariableSizeInteger", "nativeMediaRecorderConstructor", "createWindow", "init_window", "wrapEventListener", "init_wrap_event_listener", "init_event_target", "init_media_recorder_constructor", "init_interfaces", "init_event_target", "init_media_recorder_constructor", "init_blob_event_factory", "init_error_event_handler", "init_event_handler", "init_event_target_constructor", "init_event_target_constructor_factory", "init_event_target_factory", "init_invalid_state_error_factory", "init_is_supported_promise_factory", "init_native_event_target", "init_not_supported_error_factory", "init_window", "init_window_factory", "init_wrap_event_listener_function", "init_types", "init_blob_event_factory", "init_error_event_handler", "init_event_handler", "init_event_target_constructor", "init_event_target_constructor_factory", "init_event_target_factory", "init_invalid_state_error_factory", "init_is_supported_promise_factory", "init_native_event_target", "init_not_supported_error_factory", "init_window", "init_window_factory", "init_wrap_event_listener_function", "isSupported", "register", "window", "init_module", "init_window", "init_wrap_event_listener", "init_interfaces", "init_types", "createWindow", "wrapEventListener", "init_interfaces", "init_typed_array", "init_types", "init_typed_array", "wrap", "load", "init_module", "init_interfaces", "init_types", "url", "worker", "worker", "init_worker", "module_exports", "connect", "disconnect", "encode", "isSupported", "blob", "url", "init_module", "init_worker", "worker", "load", "RecorderErrors", "_a", "_b", "blob", "url"]
}
